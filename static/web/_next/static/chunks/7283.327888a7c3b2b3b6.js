(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7283],{86548:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var i=r(1413),n=r(67294),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},o=r(42135),a=function(e,t){return n.createElement(o.Z,(0,i.Z)((0,i.Z)({},e),{},{ref:t,icon:s}))};a.displayName="EditOutlined";var c=n.forwardRef(a)},24308:function(e,t,r){"use strict";r.d(t,{c4:function(){return s}});var i=r(4942),n=r(87462),s=["xxl","xl","lg","md","sm","xs"],o={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"},a=new Map,c=-1,l={};t.ZP={matchHandlers:{},dispatch:function(e){return l=e,a.forEach(function(e){return e(l)}),a.size>=1},subscribe:function(e){return a.size||this.register(),c+=1,a.set(c,e),e(l),c},unsubscribe:function(e){a.delete(e),a.size||this.unregister()},unregister:function(){var e=this;Object.keys(o).forEach(function(t){var r=o[t],i=e.matchHandlers[r];null==i||i.mql.removeListener(null==i?void 0:i.listener)}),a.clear()},register:function(){var e=this;Object.keys(o).forEach(function(t){var r=o[t],s=function(r){var s=r.matches;e.dispatch((0,n.Z)((0,n.Z)({},l),(0,i.Z)({},t,s)))},a=window.matchMedia(r);a.addListener(s),e.matchHandlers[r]={mql:a,listener:s},s(a)})}}},99134:function(e,t,r){"use strict";var i=(0,r(67294).createContext)({});t.Z=i},92820:function(e,t,r){"use strict";var i=r(87462),n=r(4942),s=r(71002),o=r(97685),a=r(94184),c=r.n(a),l=r(67294),u=r(53124),d=r(98082),f=r(24308),h=r(93355),p=r(99134),w=function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>t.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)0>t.indexOf(i[n])&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]]);return r};function m(e,t){var r=l.useState("string"==typeof e?e:""),i=(0,o.Z)(r,2),n=i[0],a=i[1],c=function(){if("object"===(0,s.Z)(e))for(var r=0;r<f.c4.length;r++){var i=f.c4[r];if(t[i]){var n=e[i];if(void 0!==n){a(n);return}}}};return l.useEffect(function(){c()},[JSON.stringify(e),t]),n}(0,h.b)("top","middle","bottom","stretch"),(0,h.b)("start","end","center","space-around","space-between","space-evenly");var v=l.forwardRef(function(e,t){var r,a,h=e.prefixCls,v=e.justify,b=e.align,x=e.className,g=e.style,y=e.children,Z=e.gutter,j=void 0===Z?0:Z,N=e.wrap,_=w(e,["prefixCls","justify","align","className","style","children","gutter","wrap"]),C=l.useContext(u.E_),O=C.getPrefixCls,M=C.direction,S=l.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),E=(0,o.Z)(S,2),B=E[0],L=E[1],P=l.useState({xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1}),k=(0,o.Z)(P,2),A=k[0],R=k[1],T=m(b,A),I=m(v,A),J=(0,d.Z)(),z=l.useRef(j);l.useEffect(function(){var e=f.ZP.subscribe(function(e){R(e);var t=z.current||0;(!Array.isArray(t)&&"object"===(0,s.Z)(t)||Array.isArray(t)&&("object"===(0,s.Z)(t[0])||"object"===(0,s.Z)(t[1])))&&L(e)});return function(){return f.ZP.unsubscribe(e)}},[]);var H=O("row",h),V=(r=[void 0,void 0],(Array.isArray(j)?j:[j,void 0]).forEach(function(e,t){if("object"===(0,s.Z)(e))for(var i=0;i<f.c4.length;i++){var n=f.c4[i];if(B[n]&&void 0!==e[n]){r[t]=e[n];break}}else r[t]=e}),r),q=c()(H,(a={},(0,n.Z)(a,"".concat(H,"-no-wrap"),!1===N),(0,n.Z)(a,"".concat(H,"-").concat(I),I),(0,n.Z)(a,"".concat(H,"-").concat(T),T),(0,n.Z)(a,"".concat(H,"-rtl"),"rtl"===M),a),x),F={},K=null!=V[0]&&V[0]>0?-(V[0]/2):void 0,G=null!=V[1]&&V[1]>0?-(V[1]/2):void 0;if(K&&(F.marginLeft=K,F.marginRight=K),J){var U=(0,o.Z)(V,2);F.rowGap=U[1]}else G&&(F.marginTop=G,F.marginBottom=G);var W=(0,o.Z)(V,2),D=W[0],Q=W[1],X=l.useMemo(function(){return{gutter:[D,Q],wrap:N,supportFlexGap:J}},[D,Q,N,J]);return l.createElement(p.Z.Provider,{value:X},l.createElement("div",(0,i.Z)({},_,{className:q,style:(0,i.Z)((0,i.Z)({},F),g),ref:t}),y))});t.Z=v},71230:function(e,t,r){"use strict";var i=r(92820);t.Z=i.Z},11424:function(e,t,r){"use strict";r.r(t),r.d(t,{BrowserNotifyModal:function(){return g}});var i=r(85893),n=r(6880),s=r(71577),o=r(11382),a=r(71230),c=r(67294),l=r(4480),u=r(77466);async function d(e,t,r){let i={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({channel:e,destination:t})};try{await fetch("".concat("/api/notifications/register","?accessToken=").concat(r),i)}catch(n){console.error(n)}}async function f(e){let t=await navigator.serviceWorker.ready,r=await t.pushManager.getSubscription();return r||(r=await t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:function(e){let t="=".repeat((4-e.length%4)%4),r=(e+t).replace(/-/g,"+").replace(/_/g,"/"),i=window.atob(r),n=new Uint8Array(i.length);for(let s=0;s<i.length;++s)n[s]=i.charCodeAt(s);return n}(e)})),JSON.stringify(r)}var h=r(38851),p=r.n(h),w=r(83469);let{Title:m}=n.Z,v=()=>(0,i.jsx)("div",{children:"Browser notifications are not supported in your browser."}),b=e=>{let{start:t}=e;return(0,i.jsx)("div",{id:"browser-push-preview-box",className:p().pushPreview,children:(0,i.jsxs)("div",{className:p().inner,children:[(0,i.jsxs)("div",{className:p().title,children:[window.location.toString()," wants to"]}),(0,i.jsxs)("div",{className:p().permissionLine,children:[(0,i.jsx)("svg",{className:p().bell,width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"M14 12.3333V13H2V12.3333L3.33333 11V7C3.33333 4.93333 4.68667 3.11333 6.66667 2.52667C6.66667 2.46 6.66667 2.4 6.66667 2.33333C6.66667 1.97971 6.80714 1.64057 7.05719 1.39052C7.30724 1.14048 7.64638 1 8 1C8.35362 1 8.69276 1.14048 8.94281 1.39052C9.19286 1.64057 9.33333 1.97971 9.33333 2.33333C9.33333 2.4 9.33333 2.46 9.33333 2.52667C11.3133 3.11333 12.6667 4.93333 12.6667 7V11L14 12.3333ZM9.33333 13.6667C9.33333 14.0203 9.19286 14.3594 8.94281 14.6095C8.69276 14.8595 8.35362 15 8 15C7.64638 15 7.30724 14.8595 7.05719 14.6095C6.80714 14.3594 6.66667 14.0203 6.66667 13.6667",fill:"#676670"})}),(0,i.jsx)("span",{className:p().showNotificationsText,children:"Show notifications"})]}),(0,i.jsxs)("div",{className:p().buttonRow,children:[(0,i.jsx)(s.Z,{type:"primary",onClick:()=>{t()},children:"Allow"}),(0,i.jsx)("button",{type:"button",className:p().disabled,children:"Block"})]})]})})},x=()=>(0,i.jsxs)("div",{children:[(0,i.jsx)(m,{children:"Notifications are enabled"}),"To disable push notifications from ",window.location.hostname.toString()," access your browser permissions for this site and turn off notifications.",(0,i.jsx)("a",{href:"https://owncast.online/docs/notifications",children:" Learn more."})]}),g=()=>{let[e,t]=(0,c.useState)(null),r=(0,l.sJ)(u.FI),n=(0,l.sJ)(u.g1),[s,h]=(0,c.useState)(!1),m=(0,w.Z)()&&"default"!==Notification.permission,{notifications:g}=n,{browser:y}=g,{publicKey:Z}=y,j=y.enabled&&(0,w.Z)();if(m)return(0,i.jsx)(x,{});let N=async()=>{if(!(0,w.Z)()||"default"===Notification.permission){h(!0);try{let e=await f(Z);d("BROWSER_PUSH_NOTIFICATION",e,r),t(null)}catch(i){t("Error registering for live notifications: ".concat(i.message,". Make sure you're not inside a private browser environment or have previously disabled notifications for this stream."))}h(!1)}};return j?(0,i.jsxs)(o.Z,{spinning:s,children:[(0,i.jsxs)(a.Z,{className:p().description,children:["Get notified right in the browser each time this stream goes live.",(0,i.jsx)("a",{href:"https://owncast.online/docs/notifications/#browser-notifications",children:"Learn more"}),"\xa0 about Owncast browser notifications."]}),(0,i.jsx)(a.Z,{children:e}),(0,i.jsx)(b,{start:()=>N()})]}):(0,i.jsx)(v,{})}},38851:function(e){e.exports={description:"BrowserNotifyModal_description__tMKKq",pushPreview:"BrowserNotifyModal_pushPreview__4Og4q",inner:"BrowserNotifyModal_inner__uhFDw",title:"BrowserNotifyModal_title__dd_Lh",permissionLine:"BrowserNotifyModal_permissionLine__K8nyJ",bell:"BrowserNotifyModal_bell__9mIeI",buttonRow:"BrowserNotifyModal_buttonRow__oxJUg",disabled:"BrowserNotifyModal_disabled__v88lb"}}}]);
//# sourceMappingURL=7283.327888a7c3b2b3b6.js.map