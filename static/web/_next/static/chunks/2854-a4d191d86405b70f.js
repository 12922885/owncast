(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2854],{7263:function(e,t,n){"use strict";n.d(t,{e:function(){return u}});var i=n(26042),r=n(69396),a=n(85893),s=n(71577),o=n(34447),c=n(36879),l=n.n(c),u=function(e){var t=e.onClick,n=e.props;return(0,a.jsx)(s.Z,(0,r.Z)((0,i.Z)({},n),{type:"primary",className:l().button,icon:(0,a.jsx)(o.Z,{}),onClick:t,children:"Follow"}))}},52437:function(e,t,n){"use strict";n.d(t,{E:function(){return c}});var i=n(85893),r=n(71577),a=n(71578),s=n(36879),o=n.n(s),c=function(e){var t=e.onClick,n=e.text;return(0,i.jsx)(r.Z,{type:"primary",className:"".concat(o().button),icon:(0,i.jsx)(a.Z,{}),onClick:t,children:n||"Notify"})}},1698:function(e,t,n){"use strict";n.d(t,{R:function(){return h}});var i=n(85893),r=n(27049),a=n(24019),s=n(45938),o=n(29316),c=n.n(o),l=n(7263),u=n(52437),h=function(e){var t,n=e.streamName,o=e.customText,h=e.lastLive,f=e.notificationsEnabled,d=e.fediverseAccount,v=e.onNotifyClick;return t=o||(!o&&f&&d?"This stream is offline. You can be notified the next time ".concat(n," goes live or follow ").concat(d," on the Fediverse."):!o&&f?"This stream is offline. Be notified the next time ".concat(n," goes live."):"This stream is offline. Check back soon!"),(0,i.jsx)("div",{className:c().outerContainer,children:(0,i.jsxs)("div",{className:c().innerContainer,children:[(0,i.jsx)("div",{className:c().header,children:n}),(0,i.jsx)(r.Z,{className:c().separator}),(0,i.jsx)("div",{className:c().bodyText,children:t}),h&&(0,i.jsxs)("div",{className:c().lastLiveDate,children:[(0,i.jsx)(a.Z,{className:c().clockIcon}),"Last live ".concat((0,s.Z)(new Date(h))," ago.")]}),(0,i.jsxs)("div",{className:c().footer,children:[d&&(0,i.jsx)(l.e,{}),f&&(0,i.jsx)(u.E,{text:"Notify when live",onClick:v})]})]})})}},43125:function(e,t,n){"use strict";n.d(t,{X:function(){return u}});var i=n(85893),r=n(45938),a=n(68730),s=n(67294),o=n(31326),c=n(93132),l=n.n(c);var u=function(e){var t=e.online,n=e.lastConnectTime,c=e.lastDisconnectTime,u=e.viewerCount,h=(0,s.useState)(new Date)[1];(0,s.useEffect)((function(){var e=setInterval((function(){return h(new Date)}),1e3);return function(){clearInterval(e)}}),[]);var f,d="";if(t&&n){var v=function(e){var t=(0,a.Z)({start:e,end:new Date});return t.days>1?"".concat(t.days," days ").concat(t.hours," hours"):t.hours>=1?"".concat(t.hours," hours ").concat(t.minutes," minutes"):"".concat(t.minutes," minutes ").concat(t.seconds," seconds")}(new Date(n));d=t?"Live for  ".concat(v):"Offline",f=u>0&&(0,i.jsxs)("div",{className:l().right,children:[(0,i.jsx)("span",{children:(0,i.jsx)(o.Z,{})}),(0,i.jsx)("span",{children:" ".concat(u)})]})}else t||(d="Offline",c&&(f="Last live ".concat((0,r.Z)(new Date(c))," ago.")));return(0,i.jsxs)("div",{className:l().statusbar,children:[(0,i.jsx)("div",{children:d}),(0,i.jsx)("div",{children:f})]})};u.defaultProps={lastConnectTime:null,lastDisconnectTime:null}},83818:function(e,t,n){"use strict";n.d(t,{M:function(){return U}});var i=n(47568),r=n(828),a=n(70655),s=n(85893),o=n(67294),c=n(4480),l=n(49218),u=n(85215),h=n(55206),f=n.n(h);n(33108);var d=function(e){var t=e.options,n=e.onReady,i=o.useRef(null),r=o.useRef(null);return o.useEffect((function(){if(!r.current){var e=i.current,a=r.current=(0,u.Z)(e,t,(function(){return a.log("player is ready"),n&&n(a,u.Z)}));a.autoplay(t.autoplay),a.src(t.sources)}}),[t,i]),o.useEffect((function(){var e=r.current;return function(){e&&(e.dispose(),r.current=null)}}),[r]),(0,s.jsx)("div",{"data-vjs-player":!0,children:(0,s.jsx)("video",{ref:i,className:"video-js vjs-big-play-centered vjs-show-big-play-button-on-pause ".concat(f().player," vjs-owncast")})})},v=n(51438);var m=function(){function e(){(0,v.Z)(this,e)}var t=e.prototype;return t.start=function(){this.stop(),this.timer=setInterval((function(){!function(){try{fetch("/api/ping")}catch(e){console.error(e)}}()}),4e3)},t.stop=function(){clearInterval(this.timer)},e}(),y=n(26042),p=n(69396),g=n(29815),b={position:"absolute",width:"100%",height:"100%"},k=function(e){var t=e.src,n=void 0===t?"":t,i=e.width,r=e.height,a=e.objectFit,c=void 0===a?"fill":a,l=e.duration,u=void 0===l?"1s":l,h=(0,o.useMemo)((function(){return{display:"inline-block",position:"relative",width:i,height:r}}),[i,r]),f=(0,o.useMemo)((function(){return[(0,p.Z)((0,y.Z)({},b),{objectFit:c,opacity:0,transition:"opacity ".concat(u)}),(0,p.Z)((0,y.Z)({},b),{objectFit:c,opacity:1,transition:"opacity ".concat(u)}),(0,p.Z)((0,y.Z)({},b),{objectFit:c,opacity:0})]}),[c,u]),d=(0,o.useState)(0),v=d[0],m=d[1],k=(0,o.useState)(["",""]),T=k[0],w=k[1],j=n!==T[1]?n:"",x=function(){m((v+1)%3),w([T[1],j])};return(0,s.jsx)("span",{style:h,children:(0,g.Z)(T).concat([j]).map((function(e,t){return""!==e&&(0,s.jsx)("img",{src:e,alt:"",style:f[t],onLoad:2===t?x:void 0},e)}))})};k.defaultProps={objectFit:"fill",duration:"3s"};var T=n(1125),w=n.n(T),j=function(e){var t,n=e.online,i=e.initialSrc,r=e.src,a=(0,o.useState)(i),c=a[0],l=a[1],u=(0,o.useState)("0s"),h=u[0],f=u[1];return(0,o.useEffect)((function(){clearInterval(t),t=setInterval((function(){"0s"===h&&f("3s"),l("".concat(r,"?").concat(Date.now()))}),2e4)}),[]),(0,s.jsxs)("div",{className:w().poster,children:[!n&&(0,s.jsx)("img",{src:i,alt:"logo"}),n&&(0,s.jsx)(k,{src:c,duration:h,objectFit:"cover",width:"100%",height:"100%"})]})},x=n(73682),C=n(1899),B=n(52951);var _=function(){function e(t,n){var i=this;(0,v.Z)(this,e),this.player=t,this.supportsDetailedMetrics=!1,this.hasPerformedInitialVariantChange=!1,this.clockSkewMs=0,this.segmentDownloadTime=[],this.bandwidthTracking=[],this.latencyTracking=[],this.errors=0,this.qualityVariantChanges=0,this.isBuffering=!1,this.bufferingDurationTimer=0,this.collectPlaybackMetricsTimer=0,this.videoJSReady=this.videoJSReady.bind(this),this.handlePlaying=this.handlePlaying.bind(this),this.handleBuffering=this.handleBuffering.bind(this),this.handleEnded=this.handleEnded.bind(this),this.handleError=this.handleError.bind(this),this.send=this.send.bind(this),this.collectPlaybackMetrics=this.collectPlaybackMetrics.bind(this),this.handleNoLongerBuffering=this.handleNoLongerBuffering.bind(this),this.sendMetricsTimer=0,this.player.on("canplaythrough",this.handleNoLongerBuffering),this.player.on("error",this.handleError),this.player.on("stalled",this.handleBuffering),this.player.on("waiting",this.handleBuffering),this.player.on("playing",this.handlePlaying),this.player.on("ended",this.handleEnded);var r=n.xhr;n.Vhs.xhr=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t[0].uri.match(".ts")){var a=new Date,s=t[1];t[1]=function(e,t,n){var r=(new Date).getTime()-a.getTime();i.trackSegmentDownloadTime(r),s(e,t,n)}}return r.apply(void 0,(0,g.Z)(t))},this.videoJSReady(),this.sendMetricsTimer=setInterval((function(){i.send()}),1e4)}return(0,B.Z)(e,[{key:"stop",value:function(){clearInterval(this.sendMetricsTimer),this.player.off()}},{key:"setClockSkew",value:function(e){this.clockSkewMs=e}},{key:"videoJSReady",value:function(){var e=this,t=this.player.tech({IWillNotUseThisInPlugins:!0});this.supportsDetailedMetrics=!!t,t.on("usage",(function(t){"vhs-unknown-waiting"===t.name&&e.setIsBuffering(!0),"vhs-rendition-change-abr"===t.name&&e.incrementQualityVariantChanges()})),this.player.textTracks().addEventListener("cuechange",(function(){e.incrementQualityVariantChanges()}))}},{key:"handlePlaying",value:function(){var e=this;clearInterval(this.collectPlaybackMetricsTimer),this.collectPlaybackMetricsTimer=setInterval((function(){e.collectPlaybackMetrics()}),5e3)}},{key:"handleEnded",value:function(){clearInterval(this.collectPlaybackMetricsTimer)}},{key:"handleBuffering",value:function(){this.incrementErrorCount(1),this.setIsBuffering(!0)}},{key:"handleNoLongerBuffering",value:function(){this.setIsBuffering(!1)}},{key:"handleError",value:function(){this.incrementErrorCount(1)}},{key:"incrementErrorCount",value:function(e){this.errors+=e}},{key:"incrementQualityVariantChanges",value:function(){this.hasPerformedInitialVariantChange?this.qualityVariantChanges++:this.hasPerformedInitialVariantChange=!0}},{key:"setIsBuffering",value:function(e){var t=this;this.isBuffering=e,e?this.bufferingDurationTimer=setTimeout((function(){t.incrementErrorCount(1)}),500):clearTimeout(this.bufferingDurationTimer)}},{key:"trackSegmentDownloadTime",value:function(e){this.segmentDownloadTime.push(e)}},{key:"trackBandwidth",value:function(e){this.bandwidthTracking.push(e)}},{key:"trackLatency",value:function(e){this.latencyTracking.push(e)}},{key:"collectPlaybackMetrics",value:function(){var e=this.player.tech({IWillNotUseThisInPlugins:!0});if(e&&e.vhs&&(!this.player.paused()&&2===this.player.networkState())){var t=e.vhs.systemBandwidth;this.trackBandwidth(t);try{var n=function(e){for(var t,n=e.vhs.playlists.media(),i=e.currentTime(),a=0,s=n.segments.length;a<s;a++)if(i<n.segments[a].end){t=n.segments[a];break}return t||(t=(0,r.Z)(n.segments,1)[0]),t}(e);if(!n||!n.dateTimeObject)return;var i=n.dateTimeObject.getTime(),a=(new Date).getTime()+this.clockSkewMs-i;if(a<0||a/1e3>=40)return;this.trackLatency(a)}catch(s){console.warn(s)}}}},{key:"send",value:function(){var e=this;return(0,i.Z)((function(){var t,n,i,r,s,o,c,l,u,h,f;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:if(0===e.segmentDownloadTime.length)return[2];if(!e.player||e.player.paused())return[2];t=e.errors,e.supportsDetailedMetrics?(r=(i=function(e){return e.reduce((function(e,t){return e+t}),0)/e.length})(e.segmentDownloadTime)/1e3,s=Math.round(1e3*r)/1e3,o=i(e.bandwidthTracking)/1e3,c=Math.round(1e3*o)/1e3,l=i(e.latencyTracking)/1e3,u=Math.round(1e3*l)/1e3,n={bandwidth:c,latency:u,downloadDuration:s,errors:t+(e.isBuffering?1:0),qualityVariantChanges:e.qualityVariantChanges}):n={errors:t+(e.isBuffering?1:0)},e.errors=0,e.qualityVariantChanges=0,e.segmentDownloadTime=[],e.bandwidthTracking=[],e.latencyTracking=[],h={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)},a.label=1;case 1:return a.trys.push([1,3,,4]),[4,fetch("/api/metrics/playback",h)];case 2:return a.sent(),[3,4];case 3:return f=a.sent(),console.error(f),[3,4];case 4:return[2]}}))}))()}}]),e}(),I=_,E=n(45785),Z=n(82662),M=n(88029),P=n(91224);var D=function(e,t,n,i){var r=t.getComponent("MenuItem"),a=t.getComponent("MenuItem"),s=t.getComponent("MenuButton"),o=function(e){(0,M.Z)(n,e);var t=(0,P.Z)(n);function n(e,i){return(0,v.Z)(this,n),t.call(this,e,i)}return n.prototype.createEl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"button",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=(0,E.Z)((0,Z.Z)(n.prototype),"createEl",this).call(this,e,t,i);return r.innerHTML='<hr style="opacity: 0.3; margin-left: 10px; margin-right: 10px;" />',r},n}(r),c=new a(e,{selectable:!0});c.setAttribute("class","latency-toggle-item"),c.on("click",(function(){i()}));var l=new o(e,{selectable:!1}),u=t.extend(s,{constructor:function(){s.call(this,e)},createItems:function(){var t=e.tech({IWillNotUseThisInPlugins:!0}),i=new a(e,{selectable:!0,label:"Auto"}),r=n.map((function(n){var i=new a(e,{selectable:!0,label:n.name});return i.on("click",(function(){t?(t.vhs.representations().forEach((function(e,t){e.enabled(t===n.index)})),i.selected(!1)):console.warn("Invalid attempt to access null player tech")})),i}));i.on("click",(function(){t.vhs.representations().forEach((function(e){e.enabled(!0)})),i.selected(!1)}));var s=!!t&&!!t.vhs;return n.length<2&&s?[c]:n.length>1&&s?[i].concat((0,g.Z)(r),[l,c]):s||1!==n.length?[i].concat((0,g.Z)(r)):[]}}),h=e.tech({IWillNotUseThisInPlugins:!0});if(!(n.length<2)||h&&h.vhs){var f=new u;return f.addClass("vjs-quality-selector"),f}};var L=function(){function e(t){(0,v.Z)(this,e),this.player=t,this.playing=!1,this.enabled=!1,this.running=!1,this.inTimeout=!1,this.jumpingToLiveIgnoreBuffer=!1,this.timeoutTimer=0,this.checkTimer=0,this.bufferingCounter=0,this.bufferingTimer=0,this.playbackRate=1,this.lastJumpOccurred=null,this.startupTime=new Date,this.clockSkewMs=0,this.currentLatency=null,this.bufferedAtLatency=[],this.player.on("playing",this.handlePlaying.bind(this)),this.player.on("pause",this.handlePause.bind(this)),this.player.on("error",this.handleError.bind(this)),this.player.on("waiting",this.handleBuffering.bind(this)),this.player.on("stalled",this.handleBuffering.bind(this)),this.player.on("ended",this.handleEnded.bind(this)),this.player.on("canplaythrough",this.handlePlaying.bind(this)),this.player.on("canplay",this.handlePlaying.bind(this)),this.check=this.check.bind(this),this.start=this.start.bind(this),this.enable=this.enable.bind(this),this.countBufferingEvent=this.countBufferingEvent.bind(this)}return(0,B.Z)(e,[{key:"setClockSkew",value:function(e){this.clockSkewMs=e}},{key:"check",value:function(){if(!((new Date).getTime()-this.startupTime.getTime()<1e4)&&!this.player.paused()&&!this.player.seeking()&&!this.inTimeout&&this.enabled){var e=this.player.tech({IWillNotUseThisInPlugins:!0});if(e&&e.vhs)if(2===this.player.networkState()){var t=0;try{if(0===e.vhs.stats.buffered.length)return void this.timeout();e.vhs.stats.buffered.forEach((function(e){t+=e.end-e.start}))}catch(y){console.error(y)}var n=e.vhs.playlists.media().attributes.BANDWIDTH,i=e.vhs.systemBandwidth/n;try{var a=function(e){for(var t,n=e.vhs.playlists.media(),i=e.currentTime(),a=0,s=n.segments.length;a<s;a++)if(i<n.segments[a].end){t=n.segments[a];break}return t||(t=(0,r.Z)(n.segments,1)[0]),t}(e);if(!a)return;if(i<1.8&&t<6*a.duration)return void this.timeout();var s=Math.max(4e3,1e3*a.duration*1.8),o=this.bufferedAtLatency.concat([s]),c=o.reduce((function(e,t){return e+t}),0)/o.length,l=Math.max(1.4*c,Math.min(1e3*a.duration*2.6,15e3));c>=l&&(l=c+3e3);var u=a.dateTimeObject.getTime(),h=(new Date).getTime()+this.clockSkewMs-u;if(this.currentLatency=h,Math.abs(h)>8e4)return void this.timeout();if(h>l){if(this.shouldJumpToLive()&&h>l+5e3){var f=h/1e3-3*a.duration,d=this.player.currentTime()+f;console.info("latency",h/1e3,"jumping",f,"to live from ",this.player.currentTime()," to ",d);var v=e.vhs.stats.buffered[0].end;if(d>e.vhs.stats.buffered[0].start<v)return void this.jump(d)}var m=.33*i;(m=Math.max(Math.min(m,1.08),1))>this.playbackRate+.02&&(m=this.playbackRate+.02),m=Math.round(m*Math.pow(10,3))/Math.pow(10,3),this.start(m)}else h<=c&&this.stop();console.info("latency",h/1e3,"min",c/1e3,"max",l/1e3,"playback rate",this.playbackRate,"enabled:",this.enabled,"running: ",this.running,"skew: ",this.clockSkewMs,"rebuffer events: ",this.bufferingCounter)}catch(p){}}}}},{key:"shouldJumpToLive",value:function(){return!(this.bufferingCounter>1)&&(new Date).getTime()-this.lastJumpOccurred>2e4}},{key:"jump",value:function(e){var t=this;this.jumpingToLiveIgnoreBuffer=!0,this.performedInitialLiveJump=!0,this.lastJumpOccurred=new Date,console.info("current time",this.player.currentTime(),"seeking to",e),this.player.currentTime(e),setTimeout((function(){t.jumpingToLiveIgnoreBuffer=!1}),5e3)}},{key:"setPlaybackRate",value:function(e){this.playbackRate=e,this.player.playbackRate(e)}},{key:"start",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;!this.inTimeout&&this.enabled&&e!==this.playbackRate&&(this.running=!0,this.setPlaybackRate(e))}},{key:"stop",value:function(){this.running&&console.log("stopping latency compensator..."),this.running=!1,this.setPlaybackRate(1)}},{key:"enable",value:function(){var e=this;this.enabled=!0,clearInterval(this.checkTimer),clearTimeout(this.bufferingTimer),this.checkTimer=setInterval((function(){e.check()}),3e3)}},{key:"disable",value:function(){clearInterval(this.checkTimer),clearTimeout(this.timeoutTimer),this.stop(),this.enabled=!1}},{key:"timeout",value:function(){var e=this;this.jumpingToLiveIgnoreBuffer||(this.inTimeout=!0,this.stop(),clearTimeout(this.timeoutTimer),this.timeoutTimer=setTimeout((function(){e.endTimeout()}),3e4))}},{key:"endTimeout",value:function(){clearTimeout(this.timeoutTimer),this.inTimeout=!1}},{key:"handlePlaying",value:function(){var e=this.playing;this.playing=!0,clearTimeout(this.bufferingTimer),this.enabled&&this.shouldJumpToLive()&&(e||(this.jumpingToLiveIgnoreBuffer=!0,this.player.liveTracker.seekToLiveEdge(),this.lastJumpOccurred=new Date))}},{key:"handlePause",value:function(){this.playing=!1}},{key:"handleEnded",value:function(){this.enabled&&this.disable()}},{key:"handleError",value:function(){this.enabled&&this.timeout()}},{key:"countBufferingEvent",value:function(){var e=this;this.bufferingCounter+=1,this.bufferingCounter>4?this.disable():(this.bufferedAtLatency.push(this.currentLatency),console.log("latency compensation timeout due to buffering:",this.bufferingCounter,"buffering events of",4),setTimeout((function(){e.bufferingCounter>0&&(e.bufferingCounter-=1)}),18e4))}},{key:"handleBuffering",value:function(){var e=this;this.enabled&&!this.inTimeout&&(this.jumpingToLiveIgnoreBuffer?this.jumpingToLiveIgnoreBuffer=!1:(this.timeout(),clearTimeout(this.bufferingTimer),this.bufferingTimer=setTimeout((function(){e.countBufferingEvent()}),200)))}}]),e}(),N=L,S="/api/video/variants",O="owncast_volume",R="latencyCompensatorEnabled",V=new m,J=null,A=null,F=!1;function q(){return W.apply(this,arguments)}function W(){return(W=(0,i.Z)((function(){var e,t;return(0,a.__generator)(this,(function(n){switch(n.label){case 0:e=[],n.label=1;case 1:return n.trys.push([1,4,,5]),[4,fetch(S)];case 2:return[4,n.sent().json()];case 3:return e=n.sent(),[3,5];case 4:return t=n.sent(),console.error(t),[3,5];case 5:return[2,e]}}))}))).apply(this,arguments)}var U=function(e){var t=e.source,n=e.online,u=o.useRef(null),h=(0,r.Z)((0,c.FV)(C.We),2),f=h[0],v=h[1],m=(0,c.sJ)(C.g8),y=function(){(0,x.qQ)(O,u.current.muted()?0:u.current.volume())},p=function(e){var t=document.querySelector(".latency-toggle-item > .vjs-menu-item-text");t&&(t.innerHTML=e)},g=function(){A&&A.stop(),F=!0,(A=new N(u.current)).setClockSkew(m),A.enable(),(0,x.qQ)(R,!0),p("disable minimized latency")},b=function(){A&&A.disable(),A=null,F=!1,(0,x.qQ)(R,!1),p('<span style="font-size: 0.8em">enable minimized latency (experimental)</span>')},k=function(){F?b():g()},T=function(){var e=(0,i.Z)((function(e,t){var n,i;return(0,a.__generator)(this,(function(r){switch(r.label){case 0:return[4,q()];case 1:return n=r.sent(),i=D(e,t,n,k),e.controlBar.addChild(i,{},e.controlBar.children_.length-2),function(e){var t=e.tech({IWillNotUseThisInPlugins:!0});t&&t.vhs&&("true"===(0,x.$o)(R)&&t&&t.vhs?g():b())}(e),[2]}}))}));return function(t,n){return e.apply(this,arguments)}}();(0,l.y1)("space",(function(e){e.preventDefault(),u.current.paused()?u.current.play():u.current.pause()})),(0,l.y1)("f",(function(){u.current.isFullscreen()?u.current.exitFullscreen():u.current.requestFullscreen()}),{enableOnContentEditable:!1}),(0,l.y1)("m",(function(){u.current.muted()||0===u.current.volume()?u.current.volume(.7):u.current.volume(0)}),{enableOnContentEditable:!1}),(0,l.y1)("0",(function(){return u.current.volume(u.current.volume()+.1)}),{enableOnContentEditable:!1}),(0,l.y1)("9",(function(){return u.current.volume(u.current.volume()-.1)}),{enableOnContentEditable:!1});var w={autoplay:!1,controls:!0,responsive:!0,fluid:!1,playsinline:!0,liveui:!0,preload:"auto",controlBar:{progressControl:{seekBar:!1}},html5:{vhs:{enableLowInitialPlaylist:!0,experimentalBufferBasedABR:!0,useNetworkInformationApi:!0,maxPlaylistRetries:30}},liveTracker:{trackingThreshold:0,liveTolerance:15},sources:[{src:t,type:"application/x-mpegURL"}]};return(0,o.useEffect)((function(){J&&J.setClockSkew(m)}),[m]),(0,o.useEffect)((function(){return function(){b(),J.stop()}}),[]),(0,s.jsxs)("div",{style:{display:"grid"},children:[n&&(0,s.jsx)("div",{style:{gridColumn:1,gridRow:1},children:(0,s.jsx)(d,{options:w,onReady:function(e,t){u.current=e,function(){try{u.current.volume((0,x.$o)(O)||1)}catch(e){console.warn(e)}}(),function(e,t){if(window.hasOwnProperty("WebKitPlaybackTargetAvailabilityEvent")){var n=t.getComponent("Button"),i=t.extend(n,{constructor:function(){n.call(this,e)},handleClick:function(){try{document.getElementsByTagName("video")[0].webkitShowPlaybackTargetPicker()}catch(e){console.error(e)}}});e.controlBar.addChild(new i).addClass("vjs-airplay")}}(e,t),e.on("waiting",(function(){e.log("player is waiting")})),e.on("dispose",(function(){e.log("player will dispose"),V.stop()})),e.on("playing",(function(){e.log("player is playing"),V.start(),v(!0)})),e.on("pause",(function(){e.log("player is paused"),V.stop(),v(!1)})),e.on("ended",(function(){e.log("player is ended"),V.stop(),v(!1)})),t.hookOnce(),e.on("volumechange",y),(J=new I(e,t)).setClockSkew(m),T(e,t)}})}),(0,s.jsx)("div",{style:{gridColumn:1,gridRow:1},children:!f&&(0,s.jsx)(j,{online:n,initialSrc:"/thumbnail.jpg",src:"/thumbnail.jpg"})})]})}},36879:function(e){e.exports={button:"ActionButton_button__z5Z2c",icon:"ActionButton_icon__EPp7Q"}},29316:function(e){e.exports={outerContainer:"OfflineBanner_outerContainer__3AbsB",innerContainer:"OfflineBanner_innerContainer__zTm13",bodyText:"OfflineBanner_bodyText__nNNy0",separator:"OfflineBanner_separator___j_Ss",lastLiveDate:"OfflineBanner_lastLiveDate___UZdO",clockIcon:"OfflineBanner_clockIcon__s0DB_",header:"OfflineBanner_header__Vu20o",footer:"OfflineBanner_footer__o3Zl5"}},93132:function(e){e.exports={statusbar:"Statusbar_statusbar__AtVnB"}},55206:function(e){e.exports={player:"VideoJS_player__GT8FN",poster:"VideoJS_poster__nlmqm"}},1125:function(e){e.exports={poster:"VideoPoster_poster__RDkSk"}},25893:function(){}}]);