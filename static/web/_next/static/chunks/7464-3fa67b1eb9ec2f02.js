"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7464],{82911:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(1413),a=n(67294),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 708c-22.1 0-40-17.9-40-40s17.9-40 40-40 40 17.9 40 40-17.9 40-40 40zm62.9-219.5a48.3 48.3 0 00-30.9 44.8V620c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8v-21.5c0-23.1 6.7-45.9 19.9-64.9 12.9-18.6 30.9-32.8 52.1-40.9 34-13.1 56-41.6 56-72.7 0-44.1-43.1-80-96-80s-96 35.9-96 80v7.6c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V420c0-39.3 17.2-76 48.4-103.3C430.4 290.4 470 276 512 276s81.6 14.5 111.6 40.7C654.8 344 672 380.7 672 420c0 57.8-38.1 109.8-97.1 132.5z"}}]},name:"question-circle",theme:"filled"},o=n(42135),s=function(e,t){return a.createElement(o.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:c}))};s.displayName="QuestionCircleFilled";var i=a.forwardRef(s)},84674:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(1413),a=n(67294),c={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm288.5 682.8L277.7 224C258 240 240 258 224 277.7l522.8 522.8C682.8 852.7 601 884 512 884c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372c0 89-31.3 170.8-83.5 234.8z",fill:e}},{tag:"path",attrs:{d:"M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372c89 0 170.8-31.3 234.8-83.5L224 277.7c16-19.7 34-37.7 53.7-53.7l522.8 522.8C852.7 682.8 884 601 884 512c0-205.4-166.6-372-372-372z",fill:t}}]}},name:"stop",theme:"twotone"},o=n(42135),s=function(e,t){return a.createElement(o.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:c}))};s.displayName="StopTwoTone";var i=a.forwardRef(s)},6226:function(e,t,n){n.d(t,{Z:function(){return p}});var r=n(4942),a=n(87462),c=n(71002),o=n(94184),s=n.n(o),i=n(67294),l=n(53124),u=n(99134),d=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};var f=["xs","sm","md","lg","xl","xxl"];var p=i.forwardRef((function(e,t){var n,o=i.useContext(l.E_),p=o.getPrefixCls,m=o.direction,h=i.useContext(u.Z),v=h.gutter,x=h.wrap,Z=h.supportFlexGap,b=e.prefixCls,y=e.span,g=e.order,j=e.offset,w=e.push,C=e.pull,O=e.className,N=e.children,k=e.flex,T=e.style,A=d(e,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),P=p("col",b),E={};f.forEach((function(t){var n,o={},s=e[t];"number"===typeof s?o.span=s:"object"===(0,c.Z)(s)&&(o=s||{}),delete A[t],E=(0,a.Z)((0,a.Z)({},E),(n={},(0,r.Z)(n,"".concat(P,"-").concat(t,"-").concat(o.span),void 0!==o.span),(0,r.Z)(n,"".concat(P,"-").concat(t,"-order-").concat(o.order),o.order||0===o.order),(0,r.Z)(n,"".concat(P,"-").concat(t,"-offset-").concat(o.offset),o.offset||0===o.offset),(0,r.Z)(n,"".concat(P,"-").concat(t,"-push-").concat(o.push),o.push||0===o.push),(0,r.Z)(n,"".concat(P,"-").concat(t,"-pull-").concat(o.pull),o.pull||0===o.pull),(0,r.Z)(n,"".concat(P,"-rtl"),"rtl"===m),n))}));var M=s()(P,(n={},(0,r.Z)(n,"".concat(P,"-").concat(y),void 0!==y),(0,r.Z)(n,"".concat(P,"-order-").concat(g),g),(0,r.Z)(n,"".concat(P,"-offset-").concat(j),j),(0,r.Z)(n,"".concat(P,"-push-").concat(w),w),(0,r.Z)(n,"".concat(P,"-pull-").concat(C),C),n),O,E),S={};if(v&&v[0]>0){var z=v[0]/2;S.paddingLeft=z,S.paddingRight=z}if(v&&v[1]>0&&!Z){var D=v[1]/2;S.paddingTop=D,S.paddingBottom=D}return k&&(S.flex=function(e){return"number"===typeof e?"".concat(e," ").concat(e," auto"):/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?"0 0 ".concat(e):e}(k),!1!==x||S.minWidth||(S.minWidth=0)),i.createElement("div",(0,a.Z)({},A,{style:(0,a.Z)((0,a.Z)({},S),T),className:M,ref:t}),N)}))},27049:function(e,t,n){var r=n(87462),a=n(4942),c=n(94184),o=n.n(c),s=n(67294),i=n(53124),l=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};t.Z=function(e){var t,n=s.useContext(i.E_),c=n.getPrefixCls,u=n.direction,d=e.prefixCls,f=e.type,p=void 0===f?"horizontal":f,m=e.orientation,h=void 0===m?"center":m,v=e.orientationMargin,x=e.className,Z=e.children,b=e.dashed,y=e.plain,g=l(e,["prefixCls","type","orientation","orientationMargin","className","children","dashed","plain"]),j=c("divider",d),w=h.length>0?"-".concat(h):h,C=!!Z,O="left"===h&&null!=v,N="right"===h&&null!=v,k=o()(j,"".concat(j,"-").concat(p),(t={},(0,a.Z)(t,"".concat(j,"-with-text"),C),(0,a.Z)(t,"".concat(j,"-with-text").concat(w),C),(0,a.Z)(t,"".concat(j,"-dashed"),!!b),(0,a.Z)(t,"".concat(j,"-plain"),!!y),(0,a.Z)(t,"".concat(j,"-rtl"),"rtl"===u),(0,a.Z)(t,"".concat(j,"-no-default-orientation-margin-left"),O),(0,a.Z)(t,"".concat(j,"-no-default-orientation-margin-right"),N),t),x),T=(0,r.Z)((0,r.Z)({},O&&{marginLeft:v}),N&&{marginRight:v});return s.createElement("div",(0,r.Z)({className:k},g,{role:"separator"}),Z&&s.createElement("span",{className:"".concat(j,"-inner-text"),style:T},Z))}},99134:function(e,t,n){var r=(0,n(67294).createContext)({});t.Z=r},25968:function(e,t,n){n.d(t,{Z:function(){return v}});var r=n(87462),a=n(4942),c=n(71002),o=n(97685),s=n(94184),i=n.n(s),l=n(67294),u=n(53124),d=n(98082),f=n(24308),p=n(93355),m=n(99134),h=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};(0,p.b)("top","middle","bottom","stretch"),(0,p.b)("start","end","center","space-around","space-between","space-evenly");var v=l.forwardRef((function(e,t){var n,s=e.prefixCls,p=e.justify,v=e.align,x=e.className,Z=e.style,b=e.children,y=e.gutter,g=void 0===y?0:y,j=e.wrap,w=h(e,["prefixCls","justify","align","className","style","children","gutter","wrap"]),C=l.useContext(u.E_),O=C.getPrefixCls,N=C.direction,k=l.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),T=(0,o.Z)(k,2),A=T[0],P=T[1],E=(0,d.Z)(),M=l.useRef(g);l.useEffect((function(){var e=f.ZP.subscribe((function(e){var t=M.current||0;(!Array.isArray(t)&&"object"===(0,c.Z)(t)||Array.isArray(t)&&("object"===(0,c.Z)(t[0])||"object"===(0,c.Z)(t[1])))&&P(e)}));return function(){return f.ZP.unsubscribe(e)}}),[]);var S=O("row",s),z=function(){var e=[void 0,void 0];return(Array.isArray(g)?g:[g,void 0]).forEach((function(t,n){if("object"===(0,c.Z)(t))for(var r=0;r<f.c4.length;r++){var a=f.c4[r];if(A[a]&&void 0!==t[a]){e[n]=t[a];break}}else e[n]=t})),e}(),D=i()(S,(n={},(0,a.Z)(n,"".concat(S,"-no-wrap"),!1===j),(0,a.Z)(n,"".concat(S,"-").concat(p),p),(0,a.Z)(n,"".concat(S,"-").concat(v),v),(0,a.Z)(n,"".concat(S,"-rtl"),"rtl"===N),n),x),L={},R=null!=z[0]&&z[0]>0?z[0]/-2:void 0,I=null!=z[1]&&z[1]>0?z[1]/-2:void 0;if(R&&(L.marginLeft=R,L.marginRight=R),E){var B=(0,o.Z)(z,2);L.rowGap=B[1]}else I&&(L.marginTop=I,L.marginBottom=I);var F=(0,o.Z)(z,2),_=F[0],V=F[1],U=l.useMemo((function(){return{gutter:[_,V],wrap:j,supportFlexGap:E}}),[_,V,j,E]);return l.createElement(m.Z.Provider,{value:U},l.createElement("div",(0,r.Z)({},w,{className:D,style:(0,r.Z)((0,r.Z)({},L),Z),ref:t}),b))}))},30883:function(e,t,n){n.d(t,{Z:function(){return p}});var r=n(47568),a=n(34051),c=n.n(a),o=n(85893),s=n(85402),i=n(71577),l=n(21640),u=n(82911),d=n(84674),f=n(58827);function p(e){var t=e.user,n=e.isEnabled,a=e.label,p=e.onClick;function m(){return m=(0,r.Z)(c().mark((function e(t){var r,a,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,a={userId:r,enabled:!n},e.prev=2,e.next=5,(0,f.rQ)(f.NM,{data:a,method:"POST",auth:!0});case 5:return o=e.sent,e.abrupt("return",o.success);case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0);case 12:return e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,null,[[2,9]])}))),m.apply(this,arguments)}var h=n?"ban":"unban",v=n?(0,o.jsx)(l.Z,{style:{color:"var(--ant-error)"}}):(0,o.jsx)(u.Z,{style:{color:"var(--ant-warning)"}}),x=(0,o.jsxs)(o.Fragment,{children:["Are you sure you want to ",h," ",(0,o.jsx)("strong",{children:t.displayName}),n?" and remove their messages?":"?"]});return(0,o.jsx)(i.Z,{onClick:function(){s.Z.confirm({title:"Confirm ".concat(h),content:x,onCancel:function(){},onOk:function(){return new Promise((function(e,n){var r=function(e){return m.apply(this,arguments)}(t);r?setTimeout((function(){e(r),null===p||void 0===p||p()}),3e3):n()}))},okType:"danger",okText:n?"Absolutely":null,icon:v})},size:"small",icon:n?(0,o.jsx)(d.Z,{twoToneColor:"#ff4d4f"}):null,className:"block-user-button",children:a||h})}p.defaultProps={label:"",onClick:null}},31386:function(e,t,n){n.d(t,{Z:function(){return S}});var r=n(29815),a=n(85893),c=n(67294),o=n(94199),s=n(85402),i=n(84485),l=n(25968),u=n(6226),d=n(27049),f=n(26713),p=n(45938),m=n(58091),h=n(96486),v=n(30883),x=n(47568),Z=n(34051),b=n.n(Z),y=n(71577),g=n(21640),j=n(82911),w=n(84674),C=n(1413),O={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M866.9 169.9L527.1 54.1C523 52.7 517.5 52 512 52s-11 .7-15.1 2.1L157.1 169.9c-8.3 2.8-15.1 12.4-15.1 21.2v482.4c0 8.8 5.7 20.4 12.6 25.9L499.3 968c3.5 2.7 8 4.1 12.6 4.1s9.2-1.4 12.6-4.1l344.7-268.6c6.9-5.4 12.6-17 12.6-25.9V191.1c.2-8.8-6.6-18.3-14.9-21.2zM810 654.3L512 886.5 214 654.3V226.7l298-101.6 298 101.6v427.6z",fill:e}},{tag:"path",attrs:{d:"M214 226.7v427.6l298 232.2 298-232.2V226.7L512 125.1 214 226.7zM632.8 328H688c6.5 0 10.3 7.4 6.5 12.7L481.9 633.4a16.1 16.1 0 01-26 0l-126.4-174c-3.8-5.3 0-12.7 6.5-12.7h55.2c5.2 0 10 2.5 13 6.6l64.7 89.1 150.9-207.8c3-4.1 7.9-6.6 13-6.6z",fill:t}},{tag:"path",attrs:{d:"M404.2 453.3c-3-4.1-7.8-6.6-13-6.6H336c-6.5 0-10.3 7.4-6.5 12.7l126.4 174a16.1 16.1 0 0026 0l212.6-292.7c3.8-5.3 0-12.7-6.5-12.7h-55.2c-5.1 0-10 2.5-13 6.6L468.9 542.4l-64.7-89.1z",fill:e}}]}},name:"safety-certificate",theme:"twotone"},N=n(42135),k=function(e,t){return c.createElement(N.Z,(0,C.Z)((0,C.Z)({},e),{},{ref:t,icon:O}))};k.displayName="SafetyCertificateTwoTone";var T=c.forwardRef(k),A=n(58827);function P(e){var t,n=e.user,r=e.onClick;function c(){return c=(0,x.Z)(b().mark((function e(t,n){var r,a,c;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,a={userId:r,isModerator:n},e.prev=2,e.next=5,(0,A.rQ)(A.jr,{data:a,method:"POST",auth:!0});case 5:return c=e.sent,e.abrupt("return",c.success);case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0);case 12:return e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,null,[[2,9]])}))),c.apply(this,arguments)}var o=null===(t=n.scopes)||void 0===t?void 0:t.includes("MODERATOR"),i=o?"remove moderator":"add moderator",l=o?(0,a.jsx)(g.Z,{style:{color:"var(--ant-error)"}}):(0,a.jsx)(j.Z,{style:{color:"var(--ant-warning)"}}),u=(0,a.jsxs)(a.Fragment,{children:["Are you sure you want to ",i," ",(0,a.jsx)("strong",{children:n.displayName}),"?"]});return(0,a.jsx)(y.Z,{onClick:function(){s.Z.confirm({title:"Confirm ".concat(i),content:u,onCancel:function(){},onOk:function(){return new Promise((function(e,t){var a=function(e,t){return c.apply(this,arguments)}(n,!o);a?setTimeout((function(){e(a),null===r||void 0===r||r()}),3e3):t()}))},okType:"danger",okText:o?"Yup!":null,icon:l})},size:"small",icon:o?(0,a.jsx)(w.Z,{twoToneColor:"#ff4d4f"}):(0,a.jsx)(T,{twoToneColor:"#22bb44"}),className:"block-user-button",children:i})}P.defaultProps={onClick:null};var E=n(20643),M=n(2766);function S(e){var t=e.user,n=e.connectionInfo,x=e.children,Z=(0,c.useState)(!1),b=Z[0],y=Z[1],g=function(){y(!1)},j=t.displayName,w=t.createdAt,C=t.previousNames,O=t.nameChangedAt,N=t.disabledAt,k=n||{},T=k.connectedAt,A=k.messageCount,S=k.userAgent,z=null,D=C&&(0,r.Z)(C);C&&C.length>1&&O&&(z=new Date(O),D.reverse());var L=new Date(w),R=(0,m.Z)(L,"PP pp"),I=z?(0,p.Z)(z):null;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.Z,{title:(0,a.jsxs)(a.Fragment,{children:["Created at: ",R,".",(0,a.jsx)("br",{})," Click for more info."]}),placement:"bottomLeft",children:(0,a.jsx)("button",{type:"button","aria-label":"Display more details about this user",className:"user-item-container",onClick:function(){y(!0)},children:x})}),(0,a.jsx)(s.Z,{destroyOnClose:!0,width:600,cancelText:"Close",okButtonProps:{style:{display:"none"}},title:"User details: ".concat(j),visible:b,onOk:g,onCancel:g,children:(0,a.jsxs)("div",{className:"user-details",children:[(0,a.jsx)(i.Z.Title,{level:4,children:j}),(0,a.jsxs)("p",{className:"created-at",children:["User created at ",R,"."]}),(0,a.jsxs)(l.Z,{gutter:16,children:[n&&(0,a.jsxs)(u.Z,{md:z?12:24,children:[(0,a.jsx)(i.Z.Title,{level:5,children:"This user is currently connected to Chat."}),(0,a.jsxs)("ul",{className:"connection-info",children:[(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"Active for:"})," ",(0,p.Z)(new Date(T))]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"Messages sent:"})," ",A]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"User Agent:"}),(0,a.jsx)("br",{}),(0,M.AB)(S)]})]})]}),z&&(0,a.jsxs)(u.Z,{md:n?12:24,children:[(0,a.jsx)(i.Z.Title,{level:5,children:"This user is also seen as:"}),(0,a.jsx)("ul",{className:"previous-names-list",children:(0,h.uniq)(D).map((function(e,t){return(0,a.jsxs)("li",{className:0===t?"latest":"",children:[(0,a.jsx)("span",{className:"user-name-item",children:e}),0===t?" (Changed ".concat(I," ago)"):""]})}))})]})]}),(0,a.jsx)(d.Z,{}),(0,a.jsxs)(f.Z,{direction:"horizontal",children:[N?(0,a.jsxs)(a.Fragment,{children:["This user was banned on ",(0,a.jsx)("code",{children:(0,E.u)(N)}),".",(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)(v.Z,{label:"Unban this user",user:t,isEnabled:!1,onClick:g})]}):(0,a.jsx)(v.Z,{label:"Ban this user",user:t,isEnabled:!0,onClick:g}),(0,a.jsx)(P,{user:t,onClick:g})]})]})})]})}S.defaultProps={connectionInfo:null}},20643:function(e,t,n){n.d(t,{Z:function(){return l},u:function(){return i}});var r=n(85893),a=n(10355),c=n(58091),o=n(31386),s=n(30883);function i(e){return(0,c.Z)(new Date(e),"MMM d H:mma")}function l(e){var t=e.data,n=[{title:"Last Known Display Name",dataIndex:"displayName",key:"displayName",render:function(e,t){return(0,r.jsx)(o.Z,{user:t,children:(0,r.jsx)("span",{className:"display-name",children:e})})}},{title:"Created",dataIndex:"createdAt",key:"createdAt",render:function(e){return i(e)},sorter:function(e,t){return new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime()},sortDirections:["descend","ascend"]},{title:"Disabled at",dataIndex:"disabledAt",key:"disabledAt",defaultSortOrder:"descend",render:function(e){return e?i(e):null},sorter:function(e,t){return new Date(e.disabledAt).getTime()-new Date(t.disabledAt).getTime()},sortDirections:["descend","ascend"]},{title:"",key:"block",className:"actions-col",render:function(e,t){return(0,r.jsx)(s.Z,{user:t,isEnabled:!t.disabledAt})}}];return(0,r.jsx)(a.Z,{pagination:{hideOnSinglePage:!0},className:"table-container",columns:n,dataSource:t,size:"small",rowKey:"id"})}}}]);