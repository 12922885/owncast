"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[786],{30786:function(e,n,t){t.r(n),t.d(n,{EmojiPicker:function(){return i}});var r=t(47568),u=t(70655),o=t(85893),c=t(67294),s=t(57741),i=function(e){var n=e.onEmojiSelect,t=e.onCustomEmojiSelect,i=(0,c.useState)([]),a=i[0],f=i[1],l=(0,c.useRef)(),m=function(){var e=(0,r.Z)((function(){var e,n;return(0,u.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),[4,fetch("/api/emoji")];case 1:return[4,t.sent().json()];case 2:return e=t.sent(),f(e),[3,4];case 3:return n=t.sent(),console.error("cannot fetch custom emoji",n),[3,4];case 4:return[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){m()}),[]),(0,c.useEffect)((function(){var e=a.map((function(e){return{emoji:e.name,label:e.name,url:e.url}}));(0,s.wU)({rootElement:l.current,custom:e,initialCategory:"custom",showPreview:!1,showRecents:!0}).addEventListener("emoji:select",(function(e){e.url?t(e.name,e.url):n(e.emoji)}))}),[a]),(0,o.jsx)("div",{ref:l})}}}]);