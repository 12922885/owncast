{"version":3,"file":"static/chunks/pages/admin/viewer-info-874d9b3a47c0bc56.js","mappings":"4JAEAA,EADA,CAAqB,MAAU,iBAAyB,2CAAkD,WAAiB,kBAA0B,6qBAAirB,EAAG,yCCKr0BC,EAAY,SAAAC,CAAA,CAAAC,CAAA,EAChB,OAAsBC,EAAAC,aAAmB,CAACC,EAAAC,CAAQ,CAAE,GAAAC,EAAAD,CAAA,EAAc,GAAAC,EAAAD,CAAA,EAAa,GAAGL,GAAA,GAAY,CAC9FC,IAAAA,EACAM,KAAUT,CACV,GACA,CACAC,CAAAA,EAAYS,WAAA,gBACZ,IAAAC,EAA4BP,EAAAQ,UAAgB,CAACX,4GCS9B,SAAAY,EAAAC,CAAA,CAAAC,CAAA,EACb,GAAAC,EAAAT,CAAA,EAAY,EAAAU,WACd,IAAAC,EAAa,GAAAC,EAAAZ,CAAA,EAAMO,GACnBM,EAAe,GAAAC,EAAAd,CAAA,EAASQ,UAExB,MAAAK,GACA,IAAAE,KAAAC,MAGAH,GAKAF,EAAAM,OAAA,CAAAN,EAAAO,OAAA,GAAAL,GAHAF,EAJA,2GCPe,SAAAQ,EAAAZ,CAAA,CAAAC,CAAA,EACb,GAAAC,EAAAT,CAAA,EAAY,EAAAU,WACd,IAAAC,EAAa,GAAAC,EAAAZ,CAAA,EAAMO,GACnBM,EAAe,GAAAC,EAAAd,CAAA,EAASQ,GAExB,GAAAY,MAAAP,GACA,WAAAE,KAAAC,IACA,CAEA,IAAAH,EAEA,OAAAF,CACA,CAEA,IAAAU,EAAAV,EAAAO,OAAA,GASAI,EAAA,IAAAP,KAAAJ,EAAAY,OAAA,UAIA,CAHAD,EAAAE,QAAA,CAAAb,EAAAc,QAAA,GAAAZ,EAAA,KAGAQ,GAFAC,EAAAJ,OAAA,IAKAI,GASAX,EAAAe,WAAA,CAAAJ,EAAAK,WAAA,GAAAL,EAAAG,QAAA,GAAAJ,GACAV,EACA,yBC/DA,IAAAiB,EAAeC,EAAQ,OACvBC,EAAUD,EAAQ,MAClBE,EAAeF,EAAQ,OAMvBG,EAAAC,KAAAC,GAAA,CACAC,EAAAF,KAAAG,GAAA,CAqLAC,EAAAC,OAAA,CA7HA,SAAAC,CAAA,CAAAC,CAAA,CAAAC,CAAA,EACA,IAAAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAAA,EACAC,EAAA,GACAC,EAAA,GACAC,EAAA,GAEA,sBAAAZ,EACA,gBAzEA,sBAyEA,CAUA,SAAAa,EAAAC,CAAA,EACA,IAAAC,EAAAZ,EACAa,EAAAZ,EAKA,OAHAD,EAAAC,EAAAa,KAAAA,EACAR,EAAAK,EACAR,EAAAN,EAAAkB,KAAA,CAAAF,EAAAD,EAEA,CAqBA,SAAAI,EAAAL,CAAA,EACA,IAAAM,EAAAN,EAAAN,EACAa,EAAAP,EAAAL,EAKA,OAAAD,KAAAS,IAAAT,GAAAY,GAAAnB,GACAmB,EAAA,GAAAT,GAAAU,GAAAhB,CACA,CAEA,SAAAiB,GAAA,CACA,IArBAF,EACAC,EACAE,EAmBAT,EAAAvB,IACA,GAAA4B,EAAAL,GACA,OAAAU,EAAAV,EACA,CAEAP,EAAAkB,WAAAH,GA1BAF,EAAAN,EAAAN,EACAa,EAAAP,EAAAL,EACAc,EAAAtB,EAAAmB,EAEAT,EACAf,EAAA2B,EAAAlB,EAAAgB,GACAE,CAAA,EAqBA,CAEA,SAAAC,EAAAV,CAAA,QAKA,CAJAP,EAAAU,KAAAA,EAIAL,GAAAT,GACAU,EAAAC,IAEAX,EAAAC,EAAAa,KAAAA,EACAX,EAFA,CAiBA,SAAAoB,GAAA,CACA,IAhEAZ,EAgEAA,EAAAvB,IACAoC,EAAAR,EAAAL,GAMA,GAJAX,EAAAhC,UACAiC,EAAA,KACAI,EAAAM,EAEAa,EAAA,CACA,GAAApB,KAAAU,IAAAV,EACA,OAvEAE,EAFAK,EAyEAN,EArEAD,EAAAkB,WAAAH,EAAArB,GAEAS,EAAAG,EAAAC,GAAAR,CAAA,CAqEA,GAAAK,EAIA,OAFAiB,aAAArB,GACAA,EAAAkB,WAAAH,EAAArB,GACAY,EAAAL,EACA,CACA,OACAS,KAAAA,IAAAV,GACAA,CAAAA,EAAAkB,WAAAH,EAAArB,EAAA,EAEAK,CACA,CAGA,OA3GAL,EAAAT,EAAAS,IAAA,EACAZ,EAAAa,KACAQ,EAAA,EAAAR,EAAAQ,OAAA,CAEAL,EAAAM,CADAA,EAAA,YAAAT,CAAA,EACAT,EAAAD,EAAAU,EAAAG,OAAA,KAAAJ,GAAAI,CAAA,CACAO,EAAA,aAAAV,EAAA,EAAAA,EAAAU,QAAA,CAAAA,CAAA,EAoGAc,EAAAG,MAAA,CApCA,WACAZ,KAAAA,IAAAV,GACAqB,aAAArB,GAEAE,EAAA,EACAN,EAAAK,EAAAJ,EAAAG,EAAAU,KAAAA,CACA,EA+BAS,EAAAI,KAAA,CA7BA,WACA,OAAAvB,KAAAU,IAAAV,EAAAD,EAAAkB,EAAAjC,IAAA,EA6BAmC,CACA,wBC5LA,IAAAK,EAAWzC,EAAQ,MAsBnBQ,CAAAA,EAAAC,OAAA,CAJA,WACA,OAAAgC,EAAAvD,IAAA,CAAAe,GAAA,EACA,yBCnBA,CAAAyC,OAAAC,QAAA,CAAAD,OAAAC,QAAA,MAAAC,IAAA,EACA,qBACA,WACA,OAAe5C,EAAQ,KACvB,EACA,yICkBA,SAAS6C,EAAmBC,CAAS,CAAE,CACrC,IAAMC,EAAa,CAAC,EAMpB,OALAD,EAAUE,OAAO,CAACC,GAAQ,CACxB,IAAMC,EAAa,IAAIhE,KAAK+D,EAAKzB,IAAI,EAC/B2B,EAAaC,CAAAA,EAAAA,EAAAA,CAAAA,EAAOF,EAAY,QACtCH,CAAAA,CAAU,CAACI,EAAW,CAAGF,EAAKI,KAAK,GAE9BN,CACT,CAzBAO,IAAAA,GAAa,CAACC,EAAAA,EAAOA,EA2Bd,IAAMC,EAAwB,GAQ/B,IARgC,CACpCC,KAAAA,CAAAA,CACAC,MAAAA,CAAAA,CACAC,MAAAA,CAAAA,CACAC,KAAAA,CAAAA,CACAC,gBAAAA,CAAAA,CACAC,SAAAA,CAAAA,CACAC,aAAAA,CAAAA,CACD,CAAAC,EACOC,EAAa,EAAE,CAEjBR,GAAQA,EAAKS,MAAM,CAAG,GACxBD,EAAWrB,IAAI,CAAC,CACduB,KAAMT,EACNC,MAAAA,EACAF,KAAMZ,EAAmBY,EAC3B,GAGFI,EAAgBb,OAAO,CAACoB,GAAc,CACpCH,EAAWrB,IAAI,CAAC,CACduB,KAAMC,EAAWD,IAAI,CACrBV,KAAMZ,EAAmBuB,EAAWX,IAAI,EACxCE,MAAOS,EAAWT,KAAK,CACvBU,QAASD,EAAWxD,OAAO,EAE/B,GAIA,IAAMA,EAAU,CACd0D,OAAQ,CACNC,EAAG,CAAEC,QAAS,GAAOC,KAAM,QAAS,EACpCC,EAAG,CACDD,KAAM,MACR,CACF,CACF,EAKA,OAHA7D,EAAQ0D,MAAM,CAACC,CAAC,CAACC,OAAO,CAAGV,EAC3BlD,EAAQ0D,MAAM,CAACC,CAAC,CAACE,IAAI,CAAGV,EAAe,cAAgB,QAAQ,CAG7D,GAAAY,EAAAC,GAAA,EAACC,MAAAA,CAAIC,UAAU,gCACb,GAAAH,EAAAC,GAAA,EAACG,EAAAA,EAASA,CAAAA,CACRC,OAAO,OACPC,OAAQvB,EACRwB,OAAQtB,EACRuB,OAAO,SACPxB,MAAOA,EACPF,KAAMQ,EACNmB,SAAU1B,EACV2B,QAASzE,KAIjB,CAEA4C,CAAAA,EAAM8B,YAAY,CAAG,CACnBzB,gBAAiB,EAAE,CACnBJ,KAAM,EAAE,CACRC,MAAO,GACPI,SAAU,GACVC,aAAc,EAChB,iIC3FA,GAAM,CAAEwB,KAAAA,CAAAA,CAAM,CAAGC,EAAAA,CAAUA,CAarBF,EAAe,CACnB5B,MAAO,GACPL,MAAO,EACPoC,OAAQ,IAAI,CACZP,OAAQ,IAAI,CACZvB,MAAO,GACP+B,SAAU,GACVC,SAAU,GACVC,UAAW,IAAI,EAUXC,EAA4B,GAChC,IADiC,CAAEJ,OAAAA,CAAAA,CAAQpC,MAAAA,CAAAA,CAAO6B,OAAAA,CAAAA,CAAQxB,MAAAA,CAAAA,CAAO,CAAAM,QACjE,GAAAW,EAAAmB,IAAA,EAACjB,MAAAA,WACEY,EACD,GAAAd,EAAAC,GAAA,EAACC,MAAAA,UACC,GAAAF,EAAAC,GAAA,EAACW,EAAAA,CAAKd,KAAK,qBAAaf,MAE1B,GAAAiB,EAAAC,GAAA,EAACC,MAAAA,UACC,GAAAF,EAAAmB,IAAA,EAACP,EAAAA,CAAKd,KAAK,sBACRpB,EACA6B,GAAU,WAGZ,EAGDa,EAAuC,GAA6C,IAA5C,CAAErC,MAAAA,CAAAA,CAAOL,MAAAA,CAAAA,CAAOoC,OAAAA,CAAAA,CAAQP,OAAAA,CAAAA,CAAQvB,MAAAA,CAAAA,CAAO,CAAAK,EAE7EgC,EAAU,GAAArB,EAAAC,GAAA,EAACiB,EAAAA,CAAQJ,OAAQA,EAAQpC,MAAOA,EAAO6B,OAAQA,EAAQxB,MAAOA,IAE9E,MACE,GAAAiB,EAAAC,GAAA,EAACqB,EAAAA,CAAQA,CAAAA,CACPxB,KAAK,YACLyB,QAAS7C,EACT8C,MAAO,IACPC,YAAa,CACX,KAAMzC,EACN,MAVWN,EAAQ,GAAK,MAAQM,CAAK,EAYvCP,OAAQ,IAAM4C,GAGpB,CACAD,CAAAA,EAAaT,YAAY,CAAGA,EAE5B,IAAMe,EAAwC,GAC5C,IAD6C,CAAE3C,MAAAA,CAAAA,CAAOL,MAAAA,CAAAA,CAAOoC,OAAAA,CAAAA,CAAQG,UAAAA,CAAAA,CAAW,CAAA5B,QAChF,GAAAW,EAAAC,GAAA,EAAC0B,EAAAA,CAASA,CAAAA,CAAC5C,MAAOA,EAAOL,MAAOA,EAAOoC,OAAQA,EAAQG,UAAWA,GAAY,CAEhFS,CAAAA,EAAcf,YAAY,CAAGA,EAEtB,IAAMiB,EAAwCzI,GAAS,CAC5D,GAAM,CAAE4H,SAAAA,CAAAA,CAAUC,SAAAA,CAAAA,CAAU,CAAG7H,EACzB0I,EAAOd,EAAWK,EAAeM,CAAa,CAIpD,MACE,GAAA1B,EAAAC,GAAA,EAAC6B,EAAAA,CAAIA,CAAAA,CAAChC,KAAK,iBACT,GAAAE,EAAAC,GAAA,EAACC,MAAAA,CAAI6B,MAJKf,EAAW,CAAEgB,QAAS,OAAQC,WAAY,SAAUC,eAAgB,QAAS,EAAI,CAAC,CAAC,UAK3F,GAAAlC,EAAAC,GAAA,EAAC4B,EAAAA,CAAM,GAAG1I,CAAK,MAIvB,CACAyI,CAAAA,EAAcjB,YAAY,CAAGA,2PG3F7B,SAAAwB,EAAAC,CAAA,EAAoW,MAAAD,CAAtOA,EAA3E,mBAAAE,QAAA,iBAAAA,OAAAC,QAAA,CAA2E,SAAAF,CAAA,EAAkC,cAAAA,CAAA,EAA+B,SAAAA,CAAA,EAAkC,OAAAA,GAAA,mBAAAC,QAAAD,EAAAG,WAAA,GAAAF,QAAAD,IAAAC,OAAAG,SAAA,iBAAAJ,CAAA,GAAmIA,EAAA,CA8CrV,SAAAK,EAAAtI,CAAA,CAAAuI,CAAA,EAEf,GADE,GAAAC,EAAAnJ,CAAA,EAAY,EAAAU,WACd,CAAAwI,GAAAP,WAAAA,EAAAO,GAAA,WAAAnI,KAAAC,IAAA,CACA,IAAAoI,EAAAF,EAAAE,KAAA,CAA+B,GAAAC,EAAArJ,CAAA,EAASkJ,EAAAE,KAAA,IACxCE,EAAAJ,EAAAI,MAAA,CAAiC,GAAAD,EAAArJ,CAAA,EAASkJ,EAAAI,MAAA,IAC1CC,EAAAL,EAAAK,KAAA,CAA+B,GAAAF,EAAArJ,CAAA,EAASkJ,EAAAK,KAAA,IACxCC,EAAAN,EAAAM,IAAA,CAA6B,GAAAH,EAAArJ,CAAA,EAASkJ,EAAAM,IAAA,IACtCC,EAAAP,EAAAO,KAAA,CAA+B,GAAAJ,EAAArJ,CAAA,EAASkJ,EAAAO,KAAA,IACxCC,EAAAR,EAAAQ,OAAA,CAAmC,GAAAL,EAAArJ,CAAA,EAASkJ,EAAAQ,OAAA,IAC5CC,EAAAT,EAAAS,OAAA,CAAmC,GAAAN,EAAArJ,CAAA,EAASkJ,EAAAS,OAAA,IAI5CC,EAAwBC,SFrCTtJ,CAAA,CAAAC,CAAA,EACb,GAAA2I,EAAAnJ,CAAA,EAAY,EAAAU,WACd,IAAAG,EAAe,GAAAwI,EAAArJ,CAAA,EAASQ,GACxB,MAAS,GAAAF,EAAAN,CAAA,EAAOO,EAAA,CAAAM,EAChB,EE+B0BiJ,SDnCXvJ,CAAA,CAAAC,CAAA,EACb,GAAA2I,EAAAnJ,CAAA,EAAY,EAAAU,WACd,IAAAG,EAAe,GAAAwI,EAAArJ,CAAA,EAASQ,GACxB,MAAS,GAAAW,EAAAnB,CAAA,EAASO,EAAA,CAAAM,EAClB,EC+BmCF,EAAA2I,EAAAF,GAAAA,GAEJI,EAAAD,EAAAA,GAM/B,OADA,IAAAxI,KAAA6I,EAAArI,OAAA,GADAwI,IADAJ,CAAAA,EAAAK,GADAN,CAAAA,EAAAD,GAAAA,CAAA,CACA,EAIA,uEGlDO,IAAMQ,EAAoC,GAAc,IAAb,CAAE3E,KAAAA,CAAAA,CAAM,CAAAO,EAyBxD,MACE,GAAAqE,EAAAzD,GAAA,EAAC0D,EAAAA,CAAKA,CAAAA,CACJC,WAAY,CAAEC,iBAAkB,EAAK,EACrC1D,UAAU,kBACV2D,QA5BY,CACd,CACE/E,MAAO,aACPgF,UAAW,YACXC,IAAK,YACLC,OAAQ,GAAgBC,CAAAA,EAAAA,EAAAA,EAAAA,EAAeC,EACzC,EACA,CACEpF,MAAO,WACPgF,UAAW,MACXC,IAAK,MACLC,OAAQG,GAAQA,EAAM,GAAsBA,MAAAA,CAAnBA,EAAIC,UAAU,CAAC,MAAoBC,MAAA,CAAhBF,EAAIG,WAAW,EAAK,GAAG,EAErE,CACExF,MAAO,aACPgF,UAAW,YACXC,IAAK,YACLQ,iBAAkB,SAClBP,OAAQ,GAAgBQ,CAAAA,EAAAA,EAAAA,CAAAA,EAAoB,IAAIlK,KAAKsC,IACrD6H,OAAQ,CAACC,EAAQC,IAAW,IAAIrK,KAAKoK,EAAEE,SAAS,EAAE9J,OAAO,GAAK,IAAIR,KAAKqK,EAAEC,SAAS,EAAE9J,OAAO,GAC3F+J,eAAgB,CAAC,UAAW,SAAS,EAExC,CAOGC,WAAYjG,EACZkG,KAAK,QACLC,OAAO,MAGb,4BCrCe,SAASC,GAAkB,KAIpCC,EAHJ,IAAMC,EAAUC,CAAAA,EAAAA,EAAAA,UAAAA,EAAWC,EAAAA,EAAmBA,EACxC,CAAEC,OAAAA,CAAAA,CAAQC,YAAAA,CAAAA,CAAaC,YAAAA,CAAAA,CAAaC,uBAAAA,CAAAA,CAAwBC,uBAAAA,CAAAA,CAAwB,CACxFP,GAAW,CAAC,EAEVI,GAAeA,EAAY3I,IAAI,EACjCsI,CAAAA,EAAc,IAAI5K,KAAKiL,EAAY3I,IAAI,GAGzC,IAAM+I,EAAQ,CACZ,CAAE7G,MAAO,iBAAkB8G,MAAOV,CAAY,EAC9C,CAAEpG,MAAO,gBAAiB8G,MAAOpD,EAAI,IAAIlI,KAAQ,CAAE0I,MAAO,EAAG,EAAG,EAChE,CAAElE,MAAO,gBAAiB8G,MAAOpD,EAAI,IAAIlI,KAAQ,CAAE0I,MAAO,EAAG,EAAG,EAChE,CAAElE,MAAO,cAAe8G,MAAOpD,EAAI,IAAIlI,KAAQ,CAAEyI,KAAM,CAAE,EAAG,EAC5D,CAAEjE,MAAO,eAAgB8G,MAAOpD,EAAI,IAAIlI,KAAQ,CAAEyI,KAAM,EAAG,EAAG,EAC9D,CAAEjE,MAAO,gBAAiB8G,MAAOpD,EAAI,IAAIlI,KAAQ,CAAEuI,OAAQ,CAAE,EAAG,EAChE,CAAE/D,MAAO,gBAAiB8G,MAAOpD,EAAI,IAAIlI,KAAQ,CAAEuI,OAAQ,CAAE,EAAG,EACjE,CAEK,CAACgD,EAAcC,EAAgB,CAAGC,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IAC3C,CAACC,EAAYC,EAAc,CAAGF,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,EAAE,EACzC,CAACG,EAAeC,EAAiB,CAAGJ,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,EAAE,EAC/C,CAACK,EAAiBC,EAAmB,CAAGN,CAAAA,EAAAA,EAAAA,QAAAA,EAASJ,CAAK,CAAC,EAAE,EAEzDW,EAAU,SAAY,CAC1B,GAAI,CACF,IAAMC,EAAM,GAAoCC,MAAAA,CAAjCC,EAAAA,EAAiBA,CAAC,iBAAkDpC,MAAA,CAAnCmC,SFpBvC1M,CAAA,EAEf,MADE,GAAA4I,EAAAnJ,CAAA,EAAY,EAAAU,WACduB,KAAAkL,KAAA,CAAoB5L,SDFLhB,CAAA,EAIf,MAHE,GAAA4I,EAAAnJ,CAAA,EAAY,EAAAU,WAEdC,CADa,EAAAyM,EAAApN,CAAA,EAAMO,GACnBgB,OAAA,EAEA,ECH2BhB,GAAA,IAC3B,EEiBkEsM,EAAgBR,KAAK,GAC3ExJ,EAAS,MAAMwK,CAAAA,EAAAA,EAAAA,EAAAA,EAAUL,GAC/BN,EAAc7J,GACd0J,EAAgB,GAClB,CAAE,MAAOe,EAAO,CACdC,QAAQC,GAAG,CAAC,aAAcF,EAC5B,CAEA,GAAI,CACF,IAAMzK,EAAS,MAAMwK,CAAAA,EAAAA,EAAAA,EAAAA,EAAUI,EAAAA,EAAqBA,EACpDb,EAAiB/J,EACnB,CAAE,MAAOyK,EAAO,CACdC,QAAQC,GAAG,CAAC,aAAcF,EAC5B,CACF,EAEAI,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,IAAM,CACd,IAAIC,EAAsB,IAAI,OAG9B,CADAZ,IACIhB,IACF4B,EAAsBC,YAAYb,EAjDjB,KAmDV,IAAM,CACXc,cAAcF,EAChB,GAGK,IAAM,EAAE,EACd,CAAC5B,EAAQc,EAAgB,EAE5B,IAAMiB,EAAqB,GAAa,IAAZ,CAAEtD,IAAAA,CAAAA,CAAK,CAAA3E,EACjCiH,EAAmBV,CAAK,CAAC5B,EAAI,CAC/B,EAEMuD,EACJ,GAAA7D,EAAAvC,IAAA,EAACqG,EAAAA,CAAIA,CAAAA,WACFjC,GAAUJ,GACT,GAAAzB,EAAAzD,GAAA,EAACuH,EAAAA,CAAAA,CAAAA,IAAS,EAASC,QAASH,WACzB1B,CAAK,CAAC,EAAE,CAAC7G,KAAK,EADF,KAIhB6G,EAAM8B,KAAK,CAAC,GAAGC,GAAG,CAAC,CAAC9K,EAAM+K,IAGzB,GAAAlE,EAAAzD,GAAA,EAACuH,EAAAA,CAAAA,CAAAA,IAAS,EAAiBC,QAASH,WACjCzK,EAAKkC,KAAK,EADG6I,EAAQ,OAO9B,MACE,GAAAlE,EAAAvC,IAAA,EAAAuC,EAAAmE,QAAA,YACE,GAAAnE,EAAAzD,GAAA,EAACY,EAAAA,CAAAA,CAAAA,KAAgB,WAAC,gBAClB,GAAA6C,EAAAzD,GAAA,EAAC6H,KAAAA,CAAAA,GACD,GAAApE,EAAAvC,IAAA,EAAC4G,EAAAA,CAAGA,CAAAA,CAACC,OAAQ,CAAC,GAAI,GAAG,CAAEC,QAAQ,yBAC5B1C,GACC,GAAA7B,EAAAzD,GAAA,EAACiI,EAAAA,CAAGA,CAAAA,CAACC,KAAM,EAAGC,GAAI,WAChB,GAAA1E,EAAAzD,GAAA,EAAC2B,EAAAA,CAAaA,CAAAA,CACZ7C,MAAM,kBACNL,MAAO+G,EAAY4C,QAAQ,GAC3BvH,OAAQ,GAAA4C,EAAAzD,GAAA,EAACqI,EAAAA,CAAYA,CAAAA,CAAAA,OAI3B,GAAA5E,EAAAzD,GAAA,EAACiI,EAAAA,CAAGA,CAAAA,CAACE,GAAI7C,EAAS,EAAI,EAAE,UACtB,GAAA7B,EAAAzD,GAAA,EAAC2B,EAAAA,CAAaA,CAAAA,CACZ7C,MAAOwG,EAAS,0BAA4B,yBAAyB,CACrE7G,MAAOiH,EAAuB0C,QAAQ,GACtCvH,OAAQ,GAAA4C,EAAAzD,GAAA,EAACqI,EAAAA,CAAYA,CAAAA,CAAAA,OAGzB,GAAA5E,EAAAzD,GAAA,EAACiI,EAAAA,CAAGA,CAAAA,CAACE,GAAI7C,EAAS,EAAI,EAAE,UACtB,GAAA7B,EAAAzD,GAAA,EAAC2B,EAAAA,CAAaA,CAAAA,CACZ7C,MAAM,uBACNL,MAAOgH,EAAuB2C,QAAQ,GACtCvH,OAAQ,GAAA4C,EAAAzD,GAAA,EAACqI,EAAAA,CAAYA,CAAAA,CAAAA,UAI1B,CAACrC,EAAW1G,MAAM,EACjB,GAAAmE,EAAAzD,GAAA,EAACsI,EAAAA,CAAKA,CAAAA,CACJxG,MAAO,CAAEyG,UAAW,MAAO,EAC3BC,OAAM,GACNC,QAAQ,cACRC,YAAY,yCACZ7I,KAAK,SAIT,GAAA4D,EAAAvC,IAAA,EAACyH,EAAAA,CAAIA,CAAAA,CAACC,SAAU,CAAC5C,EAAW1G,MAAM,EAAIuG,YACpC,GAAApC,EAAAzD,GAAA,EAAC6I,EAAAA,CAAQA,CAAAA,CAACC,QAASxB,EAAMyB,QAAS,CAAC,QAAQ,UACzC,GAAAtF,EAAAvC,IAAA,EAAC8H,SAAAA,CACCnJ,KAAK,SACLiC,MAAO,CAAEmH,MAAO,QAASC,WAAY,cAAeC,OAAQ,OAAQ,YAEnE/C,EAAgBtH,KAAK,CAAC,IAAC,GAAA2E,EAAAzD,GAAA,EAACoJ,EAAAA,CAAYA,CAAAA,CAAAA,QAGxCpD,EAAW1G,MAAM,CAAG,GACnB,GAAAmE,EAAAzD,GAAA,EAACpB,EAAAA,CAAKA,CAAAA,CAACE,MAAM,UAAUD,KAAMmH,EAAYjH,MAAM,UAAUC,KAAK,KAGhE,GAAAyE,EAAAzD,GAAA,EAACwD,EAAWA,CAAC3E,KAAMqH,SAI3B","sources":["webpack://_N_E/./node_modules/@ant-design/icons-svg/es/asn/UserOutlined.js","webpack://_N_E/./node_modules/@ant-design/icons/es/icons/UserOutlined.js","webpack://_N_E/./node_modules/date-fns/esm/addDays/index.js","webpack://_N_E/./node_modules/date-fns/esm/addMonths/index.js","webpack://_N_E/./node_modules/lodash/debounce.js","webpack://_N_E/./node_modules/lodash/now.js","webpack://_N_E/?f65a","webpack://_N_E/./components/Chart.tsx","webpack://_N_E/./components/StatisticItem.tsx","webpack://_N_E/./node_modules/date-fns/esm/subDays/index.js","webpack://_N_E/./node_modules/date-fns/esm/subMonths/index.js","webpack://_N_E/./node_modules/date-fns/esm/sub/index.js","webpack://_N_E/./node_modules/date-fns/esm/getTime/index.js","webpack://_N_E/./node_modules/date-fns/esm/getUnixTime/index.js","webpack://_N_E/./components/ViewerTable.tsx","webpack://_N_E/./pages/admin/viewer-info.tsx","webpack://_N_E/<anon>"],"sourcesContent":["// This icon file is generated automatically.\nvar UserOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z\" } }] }, \"name\": \"user\", \"theme\": \"outlined\" };\nexport default UserOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport UserOutlinedSvg from \"@ant-design/icons-svg/es/asn/UserOutlined\";\nimport AntdIcon from '../components/AntdIcon';\nvar UserOutlined = function UserOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: UserOutlinedSvg\n  }));\n};\nUserOutlined.displayName = 'UserOutlined';\nexport default /*#__PURE__*/React.forwardRef(UserOutlined);","import toInteger from \"../_lib/toInteger/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name addDays\n * @category Day Helpers\n * @summary Add the specified number of days to the given date.\n *\n * @description\n * Add the specified number of days to the given date.\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of days to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} - the new date with the days added\n * @throws {TypeError} - 2 arguments required\n *\n * @example\n * // Add 10 days to 1 September 2014:\n * const result = addDays(new Date(2014, 8, 1), 10)\n * //=> Thu Sep 11 2014 00:00:00\n */\n\nexport default function addDays(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var date = toDate(dirtyDate);\n  var amount = toInteger(dirtyAmount);\n\n  if (isNaN(amount)) {\n    return new Date(NaN);\n  }\n\n  if (!amount) {\n    // If 0 days, no-op to avoid changing times in the hour before end of DST\n    return date;\n  }\n\n  date.setDate(date.getDate() + amount);\n  return date;\n}","import toInteger from \"../_lib/toInteger/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name addMonths\n * @category Month Helpers\n * @summary Add the specified number of months to the given date.\n *\n * @description\n * Add the specified number of months to the given date.\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of months to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the months added\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Add 5 months to 1 September 2014:\n * const result = addMonths(new Date(2014, 8, 1), 5)\n * //=> Sun Feb 01 2015 00:00:00\n */\n\nexport default function addMonths(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var date = toDate(dirtyDate);\n  var amount = toInteger(dirtyAmount);\n\n  if (isNaN(amount)) {\n    return new Date(NaN);\n  }\n\n  if (!amount) {\n    // If 0 months, no-op to avoid changing times in the hour before end of DST\n    return date;\n  }\n\n  var dayOfMonth = date.getDate(); // The JS Date object supports date math by accepting out-of-bounds values for\n  // month, day, etc. For example, new Date(2020, 0, 0) returns 31 Dec 2019 and\n  // new Date(2020, 13, 1) returns 1 Feb 2021.  This is *almost* the behavior we\n  // want except that dates will wrap around the end of a month, meaning that\n  // new Date(2020, 13, 31) will return 3 Mar 2021 not 28 Feb 2021 as desired. So\n  // we'll default to the end of the desired month by adding 1 to the desired\n  // month and using a date of 0 to back up one day to the end of the desired\n  // month.\n\n  var endOfDesiredMonth = new Date(date.getTime());\n  endOfDesiredMonth.setMonth(date.getMonth() + amount + 1, 0);\n  var daysInMonth = endOfDesiredMonth.getDate();\n\n  if (dayOfMonth >= daysInMonth) {\n    // If we're already at the end of the month, then this is the correct date\n    // and we're done.\n    return endOfDesiredMonth;\n  } else {\n    // Otherwise, we now know that setting the original day-of-month value won't\n    // cause an overflow, so set the desired day-of-month. Note that we can't\n    // just set the date of `endOfDesiredMonth` because that object may have had\n    // its time changed in the unusual case where where a DST transition was on\n    // the last day of the month and its local time was in the hour skipped or\n    // repeated next to a DST transition.  So we use `date` instead which is\n    // guaranteed to still have the original time.\n    date.setFullYear(endOfDesiredMonth.getFullYear(), endOfDesiredMonth.getMonth(), dayOfMonth);\n    return date;\n  }\n}","var isObject = require('./isObject'),\n    now = require('./now'),\n    toNumber = require('./toNumber');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nmodule.exports = debounce;\n","var root = require('./_root');\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nmodule.exports = now;\n","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/admin/viewer-info\",\n      function () {\n        return require(\"private-next-pages/admin/viewer-info.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/admin/viewer-info\"])\n      });\n    }\n  ","import ChartJs from 'chart.js/auto';\nimport Chartkick from 'chartkick';\nimport format from 'date-fns/format';\nimport { LineChart } from 'react-chartkick';\nimport { FC } from 'react';\n\n// from https://github.com/ankane/chartkick.js/blob/master/chart.js/chart.esm.js\nChartkick.use(ChartJs);\n\ninterface TimedValue {\n  time: Date;\n  value: number;\n}\n\nexport type ChartProps = {\n  data?: TimedValue[];\n  title?: string;\n  color: string;\n  unit: string;\n  yFlipped?: boolean;\n  yLogarithmic?: boolean;\n  dataCollections?: any[];\n};\n\nfunction createGraphDataset(dataArray) {\n  const dataValues = {};\n  dataArray.forEach(item => {\n    const dateObject = new Date(item.time);\n    const dateString = format(dateObject, 'H:mma');\n    dataValues[dateString] = item.value;\n  });\n  return dataValues;\n}\n\nexport const Chart: FC<ChartProps> = ({\n  data,\n  title,\n  color,\n  unit,\n  dataCollections,\n  yFlipped,\n  yLogarithmic,\n}) => {\n  const renderData = [];\n\n  if (data && data.length > 0) {\n    renderData.push({\n      name: title,\n      color,\n      data: createGraphDataset(data),\n    });\n  }\n\n  dataCollections.forEach(collection => {\n    renderData.push({\n      name: collection.name,\n      data: createGraphDataset(collection.data),\n      color: collection.color,\n      dataset: collection.options,\n    });\n  });\n\n  // ChartJs.defaults.scales.linear.reverse = true;\n\n  const options = {\n    scales: {\n      y: { reverse: false, type: 'linear' },\n      x: {\n        type: 'time',\n      },\n    },\n  };\n\n  options.scales.y.reverse = yFlipped;\n  options.scales.y.type = yLogarithmic ? 'logarithmic' : 'linear';\n\n  return (\n    <div className=\"line-chart-container\">\n      <LineChart\n        xtitle=\"Time\"\n        ytitle={title}\n        suffix={unit}\n        legend=\"bottom\"\n        color={color}\n        data={renderData}\n        download={title}\n        library={options}\n      />\n    </div>\n  );\n};\n\nChart.defaultProps = {\n  dataCollections: [],\n  data: [],\n  title: '',\n  yFlipped: false,\n  yLogarithmic: false,\n};\n","/* eslint-disable react/no-unused-prop-types */\n/* eslint-disable react/no-unstable-nested-components */\n// TODO: This component should be cleaned up and usage should be re-examined. The types should be reconsidered as well.\n\nimport { Typography, Statistic, Card, Progress } from 'antd';\nimport { FC } from 'react';\n\nconst { Text } = Typography;\n\nexport type StatisticItemProps = {\n  title?: string;\n  value?: any;\n  prefix?: any;\n  suffix?: string;\n  color?: string;\n  progress?: boolean;\n  centered?: boolean;\n  formatter?: any;\n};\n\nconst defaultProps = {\n  title: '',\n  value: 0,\n  prefix: null,\n  suffix: null,\n  color: '',\n  progress: false,\n  centered: false,\n  formatter: null,\n};\n\nexport type ContentProps = {\n  prefix: string;\n  value: any;\n  suffix: string;\n  title: string;\n};\n\nconst Content: FC<ContentProps> = ({ prefix, value, suffix, title }) => (\n  <div>\n    {prefix}\n    <div>\n      <Text type=\"secondary\">{title}</Text>\n    </div>\n    <div>\n      <Text type=\"secondary\">\n        {value}\n        {suffix || '%'}\n      </Text>\n    </div>\n  </div>\n);\n\nconst ProgressView: FC<StatisticItemProps> = ({ title, value, prefix, suffix, color }) => {\n  const endColor = value > 90 ? 'red' : color;\n  const content = <Content prefix={prefix} value={value} suffix={suffix} title={title} />;\n\n  return (\n    <Progress\n      type=\"dashboard\"\n      percent={value}\n      width={120}\n      strokeColor={{\n        '0%': color,\n        '90%': endColor,\n      }}\n      format={() => content}\n    />\n  );\n};\nProgressView.defaultProps = defaultProps;\n\nconst StatisticView: FC<StatisticItemProps> = ({ title, value, prefix, formatter }) => (\n  <Statistic title={title} value={value} prefix={prefix} formatter={formatter} />\n);\nStatisticView.defaultProps = defaultProps;\n\nexport const StatisticItem: FC<StatisticItemProps> = props => {\n  const { progress, centered } = props;\n  const View = progress ? ProgressView : StatisticView;\n\n  const style = centered ? { display: 'flex', alignItems: 'center', justifyContent: 'center' } : {};\n\n  return (\n    <Card type=\"inner\">\n      <div style={style}>\n        <View {...props} />\n      </div>\n    </Card>\n  );\n};\nStatisticItem.defaultProps = defaultProps;\n","import addDays from \"../addDays/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nimport toInteger from \"../_lib/toInteger/index.js\";\n/**\n * @name subDays\n * @category Day Helpers\n * @summary Subtract the specified number of days from the given date.\n *\n * @description\n * Subtract the specified number of days from the given date.\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of days to be subtracted. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the days subtracted\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Subtract 10 days from 1 September 2014:\n * const result = subDays(new Date(2014, 8, 1), 10)\n * //=> Fri Aug 22 2014 00:00:00\n */\n\nexport default function subDays(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var amount = toInteger(dirtyAmount);\n  return addDays(dirtyDate, -amount);\n}","import toInteger from \"../_lib/toInteger/index.js\";\nimport addMonths from \"../addMonths/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name subMonths\n * @category Month Helpers\n * @summary Subtract the specified number of months from the given date.\n *\n * @description\n * Subtract the specified number of months from the given date.\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of months to be subtracted. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the months subtracted\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Subtract 5 months from 1 February 2015:\n * const result = subMonths(new Date(2015, 1, 1), 5)\n * //=> Mon Sep 01 2014 00:00:00\n */\n\nexport default function subMonths(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var amount = toInteger(dirtyAmount);\n  return addMonths(dirtyDate, -amount);\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport subDays from \"../subDays/index.js\";\nimport subMonths from \"../subMonths/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nimport toInteger from \"../_lib/toInteger/index.js\";\n/**\n * @name sub\n * @category Common Helpers\n * @summary Subtract the specified years, months, weeks, days, hours, minutes and seconds from the given date.\n *\n * @description\n * Subtract the specified years, months, weeks, days, hours, minutes and seconds from the given date.\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Duration} duration - the object with years, months, weeks, days, hours, minutes and seconds to be subtracted\n *\n * | Key     | Description                        |\n * |---------|------------------------------------|\n * | years   | Amount of years to be subtracted   |\n * | months  | Amount of months to be subtracted  |\n * | weeks   | Amount of weeks to be subtracted   |\n * | days    | Amount of days to be subtracted    |\n * | hours   | Amount of hours to be subtracted   |\n * | minutes | Amount of minutes to be subtracted |\n * | seconds | Amount of seconds to be subtracted |\n *\n * All values default to 0\n *\n * @returns {Date} the new date with the seconds subtracted\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Subtract the following duration from 15 June 2017 15:29:20\n * const result = sub(new Date(2017, 5, 15, 15, 29, 20), {\n *   years: 2,\n *   months: 9,\n *   weeks: 1,\n *   days: 7,\n *   hours: 5,\n *   minutes: 9,\n *   seconds: 30\n * })\n * //=> Mon Sep 1 2014 10:19:50\n */\n\nexport default function sub(date, duration) {\n  requiredArgs(2, arguments);\n  if (!duration || _typeof(duration) !== 'object') return new Date(NaN);\n  var years = duration.years ? toInteger(duration.years) : 0;\n  var months = duration.months ? toInteger(duration.months) : 0;\n  var weeks = duration.weeks ? toInteger(duration.weeks) : 0;\n  var days = duration.days ? toInteger(duration.days) : 0;\n  var hours = duration.hours ? toInteger(duration.hours) : 0;\n  var minutes = duration.minutes ? toInteger(duration.minutes) : 0;\n  var seconds = duration.seconds ? toInteger(duration.seconds) : 0; // Subtract years and months\n\n  var dateWithoutMonths = subMonths(date, months + years * 12); // Subtract weeks and days\n\n  var dateWithoutDays = subDays(dateWithoutMonths, days + weeks * 7); // Subtract hours, minutes and seconds\n\n  var minutestoSub = minutes + hours * 60;\n  var secondstoSub = seconds + minutestoSub * 60;\n  var mstoSub = secondstoSub * 1000;\n  var finalDate = new Date(dateWithoutDays.getTime() - mstoSub);\n  return finalDate;\n}","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name getTime\n * @category Timestamp Helpers\n * @summary Get the milliseconds timestamp of the given date.\n *\n * @description\n * Get the milliseconds timestamp of the given date.\n *\n * @param {Date|Number} date - the given date\n * @returns {Number} the timestamp\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Get the timestamp of 29 February 2012 11:45:05.123:\n * const result = getTime(new Date(2012, 1, 29, 11, 45, 5, 123))\n * //=> 1330515905123\n */\n\nexport default function getTime(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var timestamp = date.getTime();\n  return timestamp;\n}","import getTime from \"../getTime/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name getUnixTime\n * @category Timestamp Helpers\n * @summary Get the seconds timestamp of the given date.\n *\n * @description\n * Get the seconds timestamp of the given date.\n *\n * @param {Date|Number} date - the given date\n * @returns {Number} the timestamp\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Get the timestamp of 29 February 2012 11:45:05 CET:\n * const result = getUnixTime(new Date(2012, 1, 29, 11, 45, 5))\n * //=> 1330512305\n */\n\nexport default function getUnixTime(dirtyDate) {\n  requiredArgs(1, arguments);\n  return Math.floor(getTime(dirtyDate) / 1000);\n}","import { Table } from 'antd';\nimport format from 'date-fns/format';\nimport { SortOrder } from 'antd/lib/table/interface';\nimport { formatDistanceToNow } from 'date-fns';\nimport { FC } from 'react';\nimport { User } from '../types/chat';\nimport { formatUAstring } from '../utils/format';\n\nexport function formatDisplayDate(date: string | Date) {\n  return format(new Date(date), 'MMM d H:mma');\n}\n\nexport type ViewerTableProps = {\n  data: User[];\n};\n\nexport const ViewerTable: FC<ViewerTableProps> = ({ data }) => {\n  const columns = [\n    {\n      title: 'User Agent',\n      dataIndex: 'userAgent',\n      key: 'userAgent',\n      render: (ua: string) => formatUAstring(ua),\n    },\n    {\n      title: 'Location',\n      dataIndex: 'geo',\n      key: 'geo',\n      render: geo => (geo ? `${geo.regionName}, ${geo.countryCode}` : '-'),\n    },\n    {\n      title: 'Watch Time',\n      dataIndex: 'firstSeen',\n      key: 'firstSeen',\n      defaultSortOrder: 'ascend' as SortOrder,\n      render: (time: Date) => formatDistanceToNow(new Date(time)),\n      sorter: (a: any, b: any) => new Date(a.firstSeen).getTime() - new Date(b.firstSeen).getTime(),\n      sortDirections: ['descend', 'ascend'] as SortOrder[],\n    },\n  ];\n\n  return (\n    <Table\n      pagination={{ hideOnSinglePage: true }}\n      className=\"table-container\"\n      columns={columns}\n      dataSource={data}\n      size=\"small\"\n      rowKey=\"id\"\n    />\n  );\n};\n","import React, { useState, useEffect, useContext } from 'react';\nimport { Row, Col, Typography, Menu, Dropdown, Spin, Alert } from 'antd';\nimport { DownOutlined, UserOutlined } from '@ant-design/icons';\nimport { getUnixTime, sub } from 'date-fns';\nimport { Chart } from '../../components/Chart';\nimport { StatisticItem } from '../../components/StatisticItem';\nimport { ViewerTable } from '../../components/ViewerTable';\n\nimport { ServerStatusContext } from '../../utils/server-status-context';\n\nimport { VIEWERS_OVER_TIME, ACTIVE_VIEWER_DETAILS, fetchData } from '../../utils/apis';\n\nconst FETCH_INTERVAL = 60 * 1000; // 1 min\n\nexport default function ViewersOverTime() {\n  const context = useContext(ServerStatusContext);\n  const { online, broadcaster, viewerCount, overallPeakViewerCount, sessionPeakViewerCount } =\n    context || {};\n  let streamStart;\n  if (broadcaster && broadcaster.time) {\n    streamStart = new Date(broadcaster.time);\n  }\n\n  const times = [\n    { title: 'Current stream', start: streamStart },\n    { title: 'Last 12 hours', start: sub(new Date(), { hours: 12 }) },\n    { title: 'Last 24 hours', start: sub(new Date(), { hours: 24 }) },\n    { title: 'Last 7 days', start: sub(new Date(), { days: 7 }) },\n    { title: 'Last 30 days', start: sub(new Date(), { days: 30 }) },\n    { title: 'Last 3 months', start: sub(new Date(), { months: 3 }) },\n    { title: 'Last 6 months', start: sub(new Date(), { months: 6 }) },\n  ];\n\n  const [loadingChart, setLoadingChart] = useState(true);\n  const [viewerInfo, setViewerInfo] = useState([]);\n  const [viewerDetails, setViewerDetails] = useState([]);\n  const [timeWindowStart, setTimeWindowStart] = useState(times[1]);\n\n  const getInfo = async () => {\n    try {\n      const url = `${VIEWERS_OVER_TIME}?windowStart=${getUnixTime(timeWindowStart.start)}`;\n      const result = await fetchData(url);\n      setViewerInfo(result);\n      setLoadingChart(false);\n    } catch (error) {\n      console.log('==== error', error);\n    }\n\n    try {\n      const result = await fetchData(ACTIVE_VIEWER_DETAILS);\n      setViewerDetails(result);\n    } catch (error) {\n      console.log('==== error', error);\n    }\n  };\n\n  useEffect(() => {\n    let getStatusIntervalId = null;\n\n    getInfo();\n    if (online) {\n      getStatusIntervalId = setInterval(getInfo, FETCH_INTERVAL);\n      // returned function will be called on component unmount\n      return () => {\n        clearInterval(getStatusIntervalId);\n      };\n    }\n\n    return () => [];\n  }, [online, timeWindowStart]);\n\n  const onTimeWindowSelect = ({ key }) => {\n    setTimeWindowStart(times[key]);\n  };\n\n  const menu = (\n    <Menu>\n      {online && streamStart && (\n        <Menu.Item key=\"0\" onClick={onTimeWindowSelect}>\n          {times[0].title}\n        </Menu.Item>\n      )}\n      {times.slice(1).map((time, index) => (\n        // The array is hard coded, so it's safe to use the index as a key.\n        // eslint-disable-next-line react/no-array-index-key\n        <Menu.Item key={index + 1} onClick={onTimeWindowSelect}>\n          {time.title}\n        </Menu.Item>\n      ))}\n    </Menu>\n  );\n\n  return (\n    <>\n      <Typography.Title>Viewer Info</Typography.Title>\n      <br />\n      <Row gutter={[16, 16]} justify=\"space-around\">\n        {online && (\n          <Col span={8} md={8}>\n            <StatisticItem\n              title=\"Current viewers\"\n              value={viewerCount.toString()}\n              prefix={<UserOutlined />}\n            />\n          </Col>\n        )}\n        <Col md={online ? 8 : 12}>\n          <StatisticItem\n            title={online ? 'Max viewers this stream' : 'Max viewers last stream'}\n            value={sessionPeakViewerCount.toString()}\n            prefix={<UserOutlined />}\n          />\n        </Col>\n        <Col md={online ? 8 : 12}>\n          <StatisticItem\n            title=\"All-time max viewers\"\n            value={overallPeakViewerCount.toString()}\n            prefix={<UserOutlined />}\n          />\n        </Col>\n      </Row>\n      {!viewerInfo.length && (\n        <Alert\n          style={{ marginTop: '10px' }}\n          banner\n          message=\"Please wait\"\n          description=\"No viewer data has been collected yet.\"\n          type=\"info\"\n        />\n      )}\n\n      <Spin spinning={!viewerInfo.length || loadingChart}>\n        <Dropdown overlay={menu} trigger={['click']}>\n          <button\n            type=\"button\"\n            style={{ float: 'right', background: 'transparent', border: 'unset' }}\n          >\n            {timeWindowStart.title} <DownOutlined />\n          </button>\n        </Dropdown>\n        {viewerInfo.length > 0 && (\n          <Chart title=\"Viewers\" data={viewerInfo} color=\"#2087E2\" unit=\"\" />\n        )}\n\n        <ViewerTable data={viewerDetails} />\n      </Spin>\n    </>\n  );\n}\n"],"names":["asn_UserOutlined","UserOutlined_UserOutlined","props","ref","react","createElement","AntdIcon","Z","objectSpread2","icon","displayName","icons_UserOutlined","forwardRef","addDays","dirtyDate","dirtyAmount","_lib_requiredArgs_index_js__WEBPACK_IMPORTED_MODULE_0__","arguments","date","_toDate_index_js__WEBPACK_IMPORTED_MODULE_1__","amount","_lib_toInteger_index_js__WEBPACK_IMPORTED_MODULE_2__","Date","NaN","setDate","getDate","addMonths","isNaN","dayOfMonth","endOfDesiredMonth","getTime","setMonth","getMonth","setFullYear","getFullYear","isObject","__webpack_require__","now","toNumber","nativeMax","Math","max","nativeMin","min","module","exports","func","wait","options","lastArgs","lastThis","maxWait","result","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","invokeFunc","time","args","thisArg","undefined","apply","shouldInvoke","timeSinceLastCall","timeSinceLastInvoke","timerExpired","timeWaiting","trailingEdge","setTimeout","debounced","isInvoking","clearTimeout","cancel","flush","root","window","__NEXT_P","push","createGraphDataset","dataArray","dataValues","forEach","item","dateObject","dateString","format","value","Chartkick","ChartJs","Chart","data","title","color","unit","dataCollections","yFlipped","yLogarithmic","param","renderData","length","name","collection","dataset","scales","y","reverse","type","x","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsx","div","className","LineChart","xtitle","ytitle","suffix","legend","download","library","defaultProps","Text","Typography","prefix","progress","centered","formatter","Content","jsxs","ProgressView","content","Progress","percent","width","strokeColor","StatisticView","Statistic","StatisticItem","View","Card","style","display","alignItems","justifyContent","_typeof","obj","Symbol","iterator","constructor","prototype","sub","duration","requiredArgs","years","toInteger","months","weeks","days","hours","minutes","seconds","dateWithoutDays","subDays","subMonths","secondstoSub","minutestoSub","ViewerTable","jsx_runtime","Table","pagination","hideOnSinglePage","columns","dataIndex","key","render","formatUAstring","ua","geo","regionName","concat","countryCode","defaultSortOrder","formatDistanceToNow","sorter","a","b","firstSeen","sortDirections","dataSource","size","rowKey","ViewersOverTime","streamStart","context","useContext","ServerStatusContext","online","broadcaster","viewerCount","overallPeakViewerCount","sessionPeakViewerCount","times","start","loadingChart","setLoadingChart","useState","viewerInfo","setViewerInfo","viewerDetails","setViewerDetails","timeWindowStart","setTimeWindowStart","getInfo","url","getUnixTime","VIEWERS_OVER_TIME","floor","toDate","fetchData","error","console","log","ACTIVE_VIEWER_DETAILS","useEffect","getStatusIntervalId","setInterval","clearInterval","onTimeWindowSelect","menu","Menu","onClick","slice","map","index","Fragment","br","Row","gutter","justify","Col","span","md","toString","UserOutlined","Alert","marginTop","banner","message","description","Spin","spinning","Dropdown","overlay","trigger","button","float","background","border","DownOutlined"],"sourceRoot":""}