(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6559],{89739:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(1413),o=n(67294),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},c=n(42135),a=function(e,t){return o.createElement(c.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:i}))};a.displayName="CheckCircleFilled";var u=o.forwardRef(a)},21640:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(1413),o=n(67294),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},c=n(42135),a=function(e,t){return o.createElement(c.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:i}))};a.displayName="ExclamationCircleFilled";var u=o.forwardRef(a)},28058:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(1413),o=n(67294),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M464 720a48 48 0 1096 0 48 48 0 10-96 0zm16-304v184c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V416c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8zm475.7 440l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zm-783.5-27.9L512 239.9l339.8 588.2H172.2z"}}]},name:"warning",theme:"outlined"},c=n(42135),a=function(e,t){return o.createElement(c.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:i}))};a.displayName="WarningOutlined";var u=o.forwardRef(a)},62705:function(e,t,n){var r=n(55639).Symbol;e.exports=r},44239:function(e,t,n){var r=n(62705),o=n(89607),i=n(2333),c=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":c&&c in Object(e)?o(e):i(e)}},27561:function(e,t,n){var r=n(67990),o=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(o,""):e}},31957:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},89607:function(e,t,n){var r=n(62705),o=Object.prototype,i=o.hasOwnProperty,c=o.toString,a=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,a),n=e[a];try{e[a]=void 0;var r=!0}catch(o){}var u=c.call(e);return r&&(t?e[a]=n:delete e[a]),u}},2333:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},55639:function(e,t,n){var r=n(31957),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},67990:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},23279:function(e,t,n){var r=n(13218),o=n(7771),i=n(14841),c=Math.max,a=Math.min;e.exports=function(e,t,n){var u,s,l,f,d,m,p=0,v=!1,g=!1,h=!0;if("function"!=typeof e)throw TypeError("Expected a function");function y(t){var n=u,r=s;return u=s=void 0,p=t,f=e.apply(r,n)}function j(e){var n=e-m,r=e-p;return void 0===m||n>=t||n<0||g&&r>=l}function x(){var e,n,r,i=o();if(j(i))return w(i);d=setTimeout(x,(e=i-m,n=i-p,r=t-e,g?a(r,l-n):r))}function w(e){return(d=void 0,h&&u)?y(e):(u=s=void 0,f)}function b(){var e,n=o(),r=j(n);if(u=arguments,s=this,m=n,r){if(void 0===d)return p=e=m,d=setTimeout(x,t),v?y(e):f;if(g)return clearTimeout(d),d=setTimeout(x,t),y(m)}return void 0===d&&(d=setTimeout(x,t)),f}return t=i(t)||0,r(n)&&(v=!!n.leading,l=(g="maxWait"in n)?c(i(n.maxWait)||0,t):l,h="trailing"in n?!!n.trailing:h),b.cancel=function(){void 0!==d&&clearTimeout(d),p=0,u=m=s=d=void 0},b.flush=function(){return void 0===d?f:w(o())},b}},13218:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},37005:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},33448:function(e,t,n){var r=n(44239),o=n(37005);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},7771:function(e,t,n){var r=n(55639);e.exports=function(){return r.Date.now()}},14841:function(e,t,n){var r=n(27561),o=n(13218),i=n(33448),c=0/0,a=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return c;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=u.test(e);return n||s.test(e)?l(e.slice(2),n?2:8):a.test(e)?c:+e}},10887:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/chat/emojis",function(){return n(14518)}])},14518:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var r=n(85893),o=n(48689),i=n(84485),c=n(26713),a=n(71577),u=n(81025),s=n(77916),l=n(67294),f=n(39664),d=n(64777),m=n(60956),p=n(41983),v=n(90745);let{Title:g,Paragraph:h}=i.Z,y=()=>{let[e,t]=(0,l.useState)([]),[n,i]=(0,l.useState)(!1),[y,j]=(0,l.useState)(null),[x,w]=(0,l.useState)(null),b=null,Z=()=>{j(null),clearTimeout(b),b=null};async function k(){i(!0);try{let e=await (0,d.rQ)("/api/emoji");t(e)}catch(n){console.error("error fetching emojis",n)}i(!1)}async function E(e){let t="/".concat(e.split("/").slice(3).join("/"));console.log(t),i(!0),j((0,p.kg)(p.Jk,"Deleting emoji..."));try{let n=await (0,d.rQ)(d.Ff,{method:"POST",data:{name:t}});if(n instanceof Error)throw n;j((0,p.kg)(p.zv,"Emoji deleted")),b=setTimeout(Z,v.sI)}catch(r){j((0,p.kg)(p.Un,"".concat(r))),i(!1),b=setTimeout(Z,v.sI)}k()}async function T(){i(!0);try{j((0,p.kg)(p.Jk,"Converting emoji..."));let e=await new Promise((e,t)=>{if(!m.dr.includes(x.type)){let n="File type is not supported: ".concat(x.type);return t(n)}(0,m.y3)(x,t=>e({name:x.name,url:t}))});j((0,p.kg)(p.Jk,"Uploading emoji..."));let t=await (0,d.rQ)(d.Qc,{method:"POST",data:{name:e.name,data:e.url}});if(t instanceof Error)throw t;j((0,p.kg)(p.zv,"Emoji uploaded successfully!")),k()}catch(n){j((0,p.kg)(p.Un,"".concat(n)))}b=setTimeout(Z,v.sI),i(!1)}return(0,l.useEffect)(()=>{k()},[]),(0,r.jsxs)("div",{children:[(0,r.jsx)(g,{children:"Emojis"}),(0,r.jsx)(h,{children:"Here you can upload new custom emojis for usage in the chat. When uploading a new emoji, the filename will be used as emoji name."}),(0,r.jsx)(u.Z,{rowKey:e=>e.url,dataSource:e,columns:[{title:"",key:"delete",render:(e,t)=>(0,r.jsx)(c.Z,{size:"middle",children:(0,r.jsx)(a.Z,{onClick:()=>E(t.url),icon:(0,r.jsx)(o.Z,{})})})},{title:"Name",key:"name",dataIndex:"name"},{title:"Emoji",key:"url",render:(e,t)=>(0,r.jsx)("img",{src:t.url,alt:t.name,style:{maxWidth:"2vw"}})}],pagination:!1}),(0,r.jsx)("br",{}),(0,r.jsx)(s.Z,{name:"emoji",listType:"picture",className:"emoji-uploader",showUploadList:!1,accept:m.dr.join(","),beforeUpload:w,customRequest:T,disabled:n,children:(0,r.jsx)(a.Z,{type:"primary",disabled:n,children:"Upload new emoji"})}),(0,r.jsx)(f.Z,{status:y})]})};var j=y},60956:function(e,t,n){"use strict";n.d(t,{Z7:function(){return r},dr:function(){return o},kR:function(){return c},y3:function(){return i}});let r=2097152,o=["image/png","image/jpeg","image/gif"];function i(e,t){let n=new FileReader;n.addEventListener("load",()=>t(n.result)),n.readAsDataURL(e)}function c(e){let t=Math.floor(Math.log(e)/Math.log(1024)),n=1*Number((e/Math.pow(1024,t)).toFixed(2));return"".concat(n," ").concat(["B","KB","MB","GB","TB","PB","EB","ZB","YB"][t])}},41983:function(e,t,n){"use strict";n.d(t,{Jk:function(){return l},Un:function(){return u},dG:function(){return d},kg:function(){return p},zv:function(){return f}});var r=n(85893),o=n(89739),i=n(21640),c=n(50888),a=n(28058);let u="error",s="invalid",l="proessing",f="success",d="warning",m={[f]:{type:f,icon:(0,r.jsx)(o.Z,{style:{color:"green"}}),message:"Success!"},[u]:{type:u,icon:(0,r.jsx)(i.Z,{style:{color:"red"}}),message:"An error occurred."},[s]:{type:s,icon:(0,r.jsx)(i.Z,{style:{color:"red"}}),message:"An error occurred."},[l]:{type:l,icon:(0,r.jsx)(c.Z,{}),message:""},[d]:{type:d,icon:(0,r.jsx)(a.Z,{style:{color:"#fc0"}}),message:""}};function p(e,t){return e&&m[e]?t?{type:e,icon:m[e].icon,message:t}:m[e]:null}}},function(e){e.O(0,[481,5596,1407,173,611,1577,3763,4485,5212,4759,7033,8909,3903,3698,3461,7910,7916,745,9774,2888,179],function(){return e(e.s=10887)}),_N_E=e.O()}]);
//# sourceMappingURL=emojis-a02ea4e3a27d698d.js.map