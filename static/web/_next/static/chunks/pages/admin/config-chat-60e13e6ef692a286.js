(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1591],{42011:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/config-chat",function(){return n(91616)}])},91616:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return g}});var a=n(85893),t=n(6880),i=n(67294),l=n(79139),d=n(46551),u=n(6979),r=n(48186),o=n(41983),c=n(90745),f=n(99519);function g(){var e;let{Title:s}=t.Z,[n,g]=(0,i.useState)(null),[m,h]=(0,i.useState)(null),[b,N]=(0,i.useState)(null),U=(0,i.useContext)(f.aC),{serverConfig:v,setFieldInConfigState:p}=U||{},{chatDisabled:x,chatJoinMessagesEnabled:j,forbiddenUsernames:k,instanceDetails:_,suggestedUsernames:S,chatEstablishedUserMode:E}=v,{welcomeMessage:C}=_,w=e=>{let{fieldName:s,value:a}=e;g({...n,[s]:a})};function M(){h(null)}function D(){(0,c.Si)({apiPath:c.CJ,data:{value:n.forbiddenUsernames},onSuccess:()=>{p({fieldName:"forbiddenUsernames",value:n.forbiddenUsernames}),h((0,o.kg)(o.zv)),setTimeout(M,c.sI)},onError:e=>{h((0,o.kg)(o.Un,e)),setTimeout(M,c.sI)}})}function I(){N(null)}function T(){(0,c.Si)({apiPath:c.cf,data:{value:n.suggestedUsernames},onSuccess:()=>{p({fieldName:"suggestedUsernames",value:n.suggestedUsernames}),N((0,o.kg)(o.zv)),setTimeout(I,c.sI)},onError:e=>{h((0,o.kg)(o.Un,e)),setTimeout(I,c.sI)}})}return((0,i.useEffect)(()=>{g({chatDisabled:x,chatJoinMessagesEnabled:j,forbiddenUsernames:k,suggestedUsernames:S,welcomeMessage:C,chatEstablishedUserMode:E})},[v]),n)?(0,a.jsxs)("div",{className:"config-server-details-form",children:[(0,a.jsx)(s,{children:"Chat Settings"}),(0,a.jsxs)("div",{className:"form-module config-server-details-container",children:[(0,a.jsx)(u.Z,{fieldName:"chatDisabled",...c.yj,checked:!n.chatDisabled,reversed:!0,onChange:function(e){w({fieldName:"chatDisabled",value:!e})}}),(0,a.jsx)(u.Z,{fieldName:"chatJoinMessagesEnabled",...c.kB,checked:n.chatJoinMessagesEnabled,onChange:function(e){w({fieldName:"chatJoinMessagesEnabled",value:e})}}),(0,a.jsx)(u.Z,{fieldName:"establishedUserMode",...c.dj,checked:n.chatEstablishedUserMode,onChange:function(e){w({fieldName:"chatEstablishedUserMode",value:e})}}),(0,a.jsx)(d.$7,{fieldName:"welcomeMessage",...c.IX,type:l.Sk,value:n.welcomeMessage,initialValue:C,onChange:w}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)(r.Y,{title:c.Dg.label,placeholder:c.Dg.placeholder,description:c.Dg.tip,values:n.forbiddenUsernames,handleDeleteIndex:function(e){n.forbiddenUsernames.splice(e,1),D()},handleCreateString:function(e){n.forbiddenUsernames.push(e),w({fieldName:"forbiddenUsernames",value:n.forbiddenUsernames}),D()},submitStatus:m}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)(r.Y,{title:c.AN.label,placeholder:c.AN.placeholder,description:c.AN.tip,values:n.suggestedUsernames,handleDeleteIndex:function(e){n.suggestedUsernames.splice(e,1),T()},handleCreateString:function(e){n.suggestedUsernames.push(e),w({fieldName:"suggestedUsernames",value:n.suggestedUsernames}),T()},submitStatus:b,continuousStatusMessage:0===(e=n.suggestedUsernames.length)?(0,o.kg)("success",c.AN.no_entries):e>0&&e<10?(0,o.kg)("warning",c.AN.min_not_reached):null})]})]}):null}}},function(e){e.O(0,[5596,481,173,1407,4083,6880,1577,9915,4690,745,2524,9774,2888,179],function(){return e(e.s=42011)}),_N_E=e.O()}]);
//# sourceMappingURL=config-chat-60e13e6ef692a286.js.map