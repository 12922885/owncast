(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1591],{42011:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/config-chat",function(){return n(91616)}])},91616:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return f}});var a=n(85893),t=n(6880),i=n(67294),l=n(79139),d=n(46551),r=n(6979),u=n(48186),o=n(41983),c=n(90745),g=n(99519);function f(){const{Title:e}=t.Z,[s,n]=(0,i.useState)(null),[f,m]=(0,i.useState)(null),[h,b]=(0,i.useState)(null),U=(0,i.useContext)(g.aC),{serverConfig:v,setFieldInConfigState:N}=U||{},{chatDisabled:p,chatJoinMessagesEnabled:E,forbiddenUsernames:x,instanceDetails:j,suggestedUsernames:k,chatEstablishedUserMode:M}=v,{welcomeMessage:S}=j,_=e=>{let{fieldName:a,value:t}=e;n({...s,[a]:t})};function C(){m(null)}function w(){(0,c.Si)({apiPath:c.CJ,data:{value:s.forbiddenUsernames},onSuccess:()=>{N({fieldName:"forbiddenUsernames",value:s.forbiddenUsernames}),m((0,o.kg)(o.zv)),setTimeout(C,c.sI)},onError:e=>{m((0,o.kg)(o.Un,e)),setTimeout(C,c.sI)}})}function D(){b(null)}function I(){(0,c.Si)({apiPath:c.cf,data:{value:s.suggestedUsernames},onSuccess:()=>{N({fieldName:"suggestedUsernames",value:s.suggestedUsernames}),b((0,o.kg)(o.zv)),setTimeout(D,c.sI)},onError:e=>{m((0,o.kg)(o.Un,e)),setTimeout(D,c.sI)}})}return(0,i.useEffect)((()=>{n({chatDisabled:p,chatJoinMessagesEnabled:E,forbiddenUsernames:x,suggestedUsernames:k,welcomeMessage:S,chatEstablishedUserMode:M})}),[v]),s?(0,a.jsxs)("div",{className:"config-server-details-form",children:[(0,a.jsx)(e,{children:"Chat Settings"}),(0,a.jsxs)("div",{className:"form-module config-server-details-container",children:[(0,a.jsx)(r.Z,{fieldName:"chatDisabled",...c.yj,checked:!s.chatDisabled,reversed:!0,onChange:function(e){_({fieldName:"chatDisabled",value:!e})}}),(0,a.jsx)(r.Z,{fieldName:"chatJoinMessagesEnabled",...c.kB,checked:s.chatJoinMessagesEnabled,onChange:function(e){_({fieldName:"chatJoinMessagesEnabled",value:e})}}),(0,a.jsx)(r.Z,{fieldName:"establishedUserMode",...c.dj,checked:s.chatEstablishedUserMode,onChange:function(e){_({fieldName:"chatEstablishedUserMode",value:e})}}),(0,a.jsx)(d.$7,{fieldName:"welcomeMessage",...c.IX,type:l.Sk,value:s.welcomeMessage,initialValue:S,onChange:_}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)(u.Y,{title:c.Dg.label,placeholder:c.Dg.placeholder,description:c.Dg.tip,values:s.forbiddenUsernames,handleDeleteIndex:function(e){s.forbiddenUsernames.splice(e,1),w()},handleCreateString:function(e){s.forbiddenUsernames.push(e),_({fieldName:"forbiddenUsernames",value:s.forbiddenUsernames}),w()},submitStatus:f}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)(u.Y,{title:c.AN.label,placeholder:c.AN.placeholder,description:c.AN.tip,values:s.suggestedUsernames,handleDeleteIndex:function(e){s.suggestedUsernames.splice(e,1),I()},handleCreateString:function(e){s.suggestedUsernames.push(e),_({fieldName:"suggestedUsernames",value:s.suggestedUsernames}),I()},submitStatus:h,continuousStatusMessage:(T=s.suggestedUsernames.length,0===T?(0,o.kg)("success",c.AN.no_entries):T>0&&T<10?(0,o.kg)("warning",c.AN.min_not_reached):null)})]})]}):null;var T}}},function(e){e.O(0,[5596,481,173,1407,4083,6880,1577,9915,4690,745,2524,9774,2888,179],(function(){return s=42011,e(e.s=s);var s}));var s=e.O();_N_E=s}]);
//# sourceMappingURL=config-chat-1507a325ed7a081b.js.map