(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2532],{18957:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/config-federation",function(){return s(37990)}])},37990:function(e,n,s){"use strict";s.r(n);var a=s(85893),t=s(85402),i=s(71577),r=s(6880),l=s(14670),o=s(71230),d=s(15746),c=s(67294),h=s(45697),u=s.n(h),f=s(79139),p=s(46551),m=s(6979),b=s(48186),w=s(90745),g=s(99519),y=s(41983);let x=e=>{let{cancelPressed:n,okPressed:s}=e;return(0,a.jsxs)(t.Z,{width:"70%",title:"Enable Social Features",visible:!0,onCancel:n,footer:(0,a.jsxs)("div",{children:[(0,a.jsx)(i.Z,{onClick:n,children:"Do not enable"}),(0,a.jsx)(i.Z,{type:"primary",onClick:s,children:"Enable Social Features"})]}),children:[(0,a.jsx)(r.Z.Title,{level:3,children:"How do Owncast's social features work?"}),(0,a.jsxs)(r.Z.Paragraph,{children:["Owncast's social features are accomplished by having your server join The"," ",(0,a.jsx)("a",{href:"https://en.wikipedia.org/wiki/Fediverse",rel:"noopener noreferrer",target:"_blank",children:"Fediverse"}),", a decentralized, open, collection of independent servers, like yours."]}),"Please"," ",(0,a.jsx)("a",{href:"https://owncast.online/docs/social",rel:"noopener noreferrer",target:"_blank",children:"read more"})," ","about these features, the details behind them, and how they work.",(0,a.jsx)(r.Z.Paragraph,{}),(0,a.jsx)(r.Z.Title,{level:3,children:"What do you need to know?"}),(0,a.jsxs)("ul",{children:[(0,a.jsx)("li",{children:"These features are brand new. Given the variability of interfacing with the rest of the world, bugs are possible. Please report anything that you think isn't working quite right."}),(0,a.jsx)("li",{children:"You must always host your Owncast server with SSL using a https url."}),(0,a.jsx)("li",{children:"You should not change your server name URL or social username once people begin following you, as your server will be seen as a completely different user on the Fediverse, and the old user will disappear."}),(0,a.jsxs)("li",{children:["Turning on ",(0,a.jsx)("i",{children:"Private mode"})," will allow you to manually approve each follower and limit the visibility of your posts to followers only."]})]}),(0,a.jsx)(r.Z.Title,{level:3,children:"Learn more about The Fediverse"}),(0,a.jsxs)(r.Z.Paragraph,{children:["If these concepts are new you should discover more about what this functionality has to offer. Visit"," ",(0,a.jsx)("a",{href:"https://owncast.online/docs/social",rel:"noopener noreferrer",target:"_blank",children:"our documentation"})," ","to be pointed at some resources that will help get you started on The Fediverse."]})]})};x.propTypes={cancelPressed:u().func.isRequired,okPressed:u().func.isRequired};let j=()=>{let{Title:e}=r.Z,[n,s]=(0,c.useState)(null),[t,i]=(0,c.useState)(!1),h=(0,c.useContext)(g.aC),{serverConfig:u,setFieldInConfigState:j}=h||{},[v,k]=(0,c.useState)(null),{federation:Z,yp:S,instanceDetails:P}=u,{enabled:_,isPrivate:N,username:U,goLiveMessage:C,showEngagement:E,blockedDomains:T}=Z,{instanceUrl:R}=S,{nsfw:F}=P,L=e=>{let{fieldName:a,value:t}=e;s({...n,[a]:t})},O=e=>{e?i(!0):s({...n,enabled:!1})},D=()=>{let e=""!==n.instanceUrl,a=n.instanceUrl.startsWith("https://");e&&a||((0,w.Si)({apiPath:w.Kl.apiPath,data:{value:!1}}),s({...n,enabled:!1}))};function I(){k(null)}function q(){try{(0,w.Si)({apiPath:w.pE,data:{value:n.blockedDomains},onSuccess:()=>{j({fieldName:"forbiddenUsernames",value:n.forbiddenUsernames}),k(y.zv),setTimeout(I,w.sI)},onError:e=>{k((0,y.kg)(y.Un,e)),setTimeout(I,w.sI)}})}catch(e){console.error(e),k(y.Un)}}if((0,c.useEffect)(()=>{s({enabled:_,isPrivate:N,username:U,goLiveMessage:C,showEngagement:E,blockedDomains:T,nsfw:F,instanceUrl:S.instanceUrl})},[u,S]),!n)return null;let V=""!==R,Y=R.startsWith("https://"),K=!Y&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.Z,{message:"You must set your server URL before you can enable this feature.",type:"warning",showIcon:!0}),(0,a.jsx)("br",{}),(0,a.jsx)(p.$7,{fieldName:"instanceUrl",...w.yi,value:n.instanceUrl,initialValue:S.instanceUrl,type:f.xA,onChange:L,onSubmit:D,required:!0})]}),W=(0,a.jsx)(l.Z,{message:"Only Owncast instances available on the default SSL port 443 support this feature.",type:"warning",showIcon:!0}),X=R&&""!==new URL(R).port&&"443"!==new URL(R).port;return(0,a.jsxs)("div",{children:[(0,a.jsx)(e,{children:"Configure Social Features"}),(0,a.jsx)("p",{children:"Owncast provides the ability for people to follow and engage with your instance. It's a great way to promote alerting, sharing and engagement of your stream."}),(0,a.jsx)("p",{children:"Once enabled you'll alert your followers when you go live as well as gain the ability to compose custom posts to share any information you like."}),(0,a.jsx)("p",{children:(0,a.jsx)("a",{href:"https://owncast.online/docs/social",rel:"noopener noreferrer",target:"_blank",children:"Read more about the specifics of these social features."})}),(0,a.jsxs)(o.Z,{children:[(0,a.jsxs)(d.Z,{span:15,className:"form-module",style:{marginRight:"15px"},children:[K,X&&W,(0,a.jsx)(m.Z,{fieldName:"enabled",onChange:O,...w.Kl,checked:n.enabled,disabled:X||!V||!Y}),(0,a.jsx)(m.Z,{fieldName:"isPrivate",...w.LC,checked:n.isPrivate,disabled:!_}),(0,a.jsx)(m.Z,{fieldName:"nsfw",useSubmit:!0,...w.B_,checked:n.nsfw,disabled:X||!V}),(0,a.jsx)(p.$7,{required:!0,fieldName:"username",type:f.Kx,...w.Xc,value:n.username,initialValue:U,onChange:L,disabled:!_}),(0,a.jsx)(p.$7,{fieldName:"goLiveMessage",...w.BF,type:f.Sk,value:n.goLiveMessage,initialValue:C,onChange:L,disabled:!_}),(0,a.jsx)(m.Z,{fieldName:"showEngagement",...w.FE,checked:n.showEngagement,disabled:!_})]}),(0,a.jsx)(d.Z,{span:8,className:"form-module",children:(0,a.jsx)(b.Y,{title:w.dR.label,placeholder:w.dR.placeholder,description:w.dR.tip,values:n.blockedDomains,handleDeleteIndex:function(e){n.blockedDomains.splice(e,1),q()},handleCreateString:function(e){let s;try{let a=new URL(e);s=a.host}catch(t){s=e}n.blockedDomains.push(s),L({fieldName:"blockedDomains",value:n.blockedDomains}),q()},submitStatus:(0,y.kg)(v)})})]}),t&&(0,a.jsx)(x,{cancelPressed:function(){i(!1),s({...n,enabled:!1})},okPressed:function(){i(!1),s({...n,enabled:!0})}})]})};n.default=j}},function(e){e.O(0,[5596,481,173,1407,4083,6880,1577,9915,715,5402,1908,789,745,2524,9774,2888,179],function(){return e(e.s=18957)}),_N_E=e.O()}]);
//# sourceMappingURL=config-federation-d94275f834c035e0.js.map