(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1871,745,2524],{39856:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/config/general",function(){return n(67750)}])},48186:function(e,t,n){"use strict";n.d(t,{Q:function(){return u},Y:function(){return d}});var a=n(85893),s=n(67294),o=n(6880),i=n(20550),r=n(79139),l=n(73615);const{Title:c}=o.Z,u="#5a67d8",d=e=>{let{title:t,description:n,placeholder:o,maxLength:d,values:h,handleDeleteIndex:m,handleCreateString:p,submitStatus:f,continuousStatusMessage:g}=e;const[v,x]=(0,s.useState)("");return(0,a.jsxs)("div",{className:"edit-string-array-container",children:[(0,a.jsx)(c,{level:3,className:"section-title",children:t}),(0,a.jsx)("p",{className:"description",children:n}),(0,a.jsx)("div",{className:"edit-current-strings",children:null===h||void 0===h?void 0:h.map(((e,t)=>(0,a.jsx)(i.Z,{closable:!0,onClose:()=>{m(t)},color:u,children:e},"tag-".concat(e,"-").concat(t))))}),g&&(0,a.jsx)("div",{className:"continuous-status-section",children:(0,a.jsx)(l.E,{status:g})}),(0,a.jsx)("div",{className:"add-new-string-section",children:(0,a.jsx)(r.nv,{fieldName:"string-input",value:v,onChange:e=>{let{value:t}=e;x(t)},onPressEnter:()=>{const e=v.trim();p(e),x("")},maxLength:d,placeholder:o,status:f})})]})};d.defaultProps={maxLength:50,description:null,submitStatus:null,continuousStatusMessage:null}},73615:function(e,t,n){"use strict";n.d(t,{E:function(){return i}});var a=n(85893),s=(n(67294),n(94184)),o=n.n(s);const i=e=>{let{status:t}=e;const{type:n,icon:s,message:i}=t||{},r=o()({"status-container":!0,["status-".concat(n)]:n,empty:!i});return(0,a.jsxs)("span",{className:r,children:[s?(0,a.jsx)("span",{className:"status-icon",children:s}):null,i?(0,a.jsx)("span",{className:"status-message",children:i}):null]})};t.Z=i},79139:function(e,t,n){"use strict";n.d(t,{A8:function(){return u},Kx:function(){return c},Sk:function(){return h},mG:function(){return d},nv:function(){return p},xA:function(){return m}});var a=n(85893),s=(n(67294),n(94184)),o=n.n(s),i=n(69677),r=n(79915),l=n(73615);const c="default",u="password",d="numeric",h="textarea",m="url",p=e=>{let{className:t,disabled:n,fieldName:s,label:c,maxLength:p,onBlur:f,onChange:g,onPressEnter:v,pattern:x,placeholder:b,required:y,status:j,tip:w,type:N,useTrim:k,value:S}=e;let P=i.Z,C={};N===h?(P=i.Z.TextArea,C={autoSize:!0}):N===u?(P=i.Z.Password,C={visibilityToggle:!0}):N===d?(P=r.Z,C={type:"number",min:1,max:10**p-1}):N===m&&(C={type:"url",pattern:x});const T="field-".concat(s),{type:L}=j||{},E=o()({"formfield-container":!0,"textfield-container":!0,["type-".concat(N)]:!0,required:y,["status-".concat(L)]:j});return(0,a.jsxs)("div",{className:E,children:[c?(0,a.jsx)("div",{className:"label-side",children:(0,a.jsx)("label",{htmlFor:T,className:"formfield-label",children:c})}):null,(0,a.jsxs)("div",{className:"input-side",children:[(0,a.jsx)("div",{className:"input-group",children:(0,a.jsx)(P,{id:T,className:"field ".concat(t," ").concat(T),...C,...N!==d&&{allowClear:!0},placeholder:b,maxLength:p,onChange:e=>{if(g){const t=N===d?e:e.target.value;g({fieldName:s,value:k?t.trim():t})}},onBlur:e=>{const t=e.target.value;f&&f({value:t})},onPressEnter:()=>{v&&v()},disabled:n,value:S})}),(0,a.jsx)(l.E,{status:j}),(0,a.jsx)("p",{className:"field-tip",children:w})]})]})};p.defaultProps={className:"",disabled:!1,label:"",maxLength:255,placeholder:"",required:!1,status:null,tip:"",type:c,value:"",pattern:"",useTrim:!1,useTrimLead:!1,onSubmit:()=>{},onBlur:()=>{},onChange:()=>{},onPressEnter:()=>{}}},46551:function(e,t,n){"use strict";n.d(t,{$7:function(){return g},Kx:function(){return m},Sk:function(){return p},xA:function(){return f}});var a=n(85893),s=n(71577),o=n(94184),i=n.n(o),r=n(67294),l=n(90745),c=n(41983),u=n(99519),d=n(73615),h=n(79139);const m="default",p="textarea",f="url",g=e=>{let{apiPath:t,configPath:n="",initialValue:o,useTrim:m,useTrimLead:p,...f}=e;const[g,v]=(0,r.useState)(null),[x,b]=(0,r.useState)(!1),y=(0,r.useContext)(u.aC),{setFieldInConfigState:j}=y||{};let w=null;const{fieldName:N,required:k,tip:S,status:P,value:C,onChange:T,onSubmit:L}=f,E=()=>{v(null),b(!1),clearTimeout(w),w=null};(0,r.useEffect)((()=>{k&&(""===C||null===C)||C===o?b(!1):(E(),b(!0))}),[C]);const A=i()({"textfield-with-submit-container":!0,submittable:x});return(0,a.jsxs)("div",{className:A,children:[(0,a.jsx)("div",{className:"textfield-component",children:(0,a.jsx)(h.nv,{...f,onSubmit:null,onBlur:e=>{let{value:t}=e;T&&k&&""===t&&T({fieldName:N,value:o})},onChange:e=>{let{fieldName:t,value:n}=e;if(T){let e=n;m?e=n.trim():p&&(e=n.replace(/^\s+/g,"")),T({fieldName:t,value:e})}}})}),(0,a.jsxs)("div",{className:"formfield-container lower-container",children:[(0,a.jsx)("p",{className:"label-spacer"}),(0,a.jsxs)("div",{className:"lower-content",children:[(0,a.jsx)("div",{className:"field-tip",children:S}),(0,a.jsx)(d.E,{status:P||g}),(0,a.jsx)("div",{className:"update-button-container",children:(0,a.jsx)(s.Z,{type:"primary",size:"small",className:"submit-button",onClick:async()=>{(k&&""!==C||C!==o)&&(v((0,c.kg)(c.Jk)),await(0,l.Si)({apiPath:t,data:{value:C},onSuccess:()=>{j({fieldName:N,value:C,path:n}),v((0,c.kg)(c.zv))},onError:e=>{v((0,c.kg)(c.Un,"There was an error: ".concat(e)))}}),w=setTimeout(E,l.sI),L&&L())},disabled:!x,children:"Update"})})]})]})]})};g.defaultProps={configPath:"",initialValue:""}},6979:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var a=n(85893),s=n(67294),o=n(94594),i=n(41983),r=n(73615),l=n(90745),c=n(99519);const u=e=>{let{apiPath:t,checked:n,reversed:u=!1,configPath:d="",disabled:h=!1,fieldName:m,label:p,tip:f,useSubmit:g,onChange:v}=e;const[x,b]=(0,s.useState)(null);let y=null;const j=(0,s.useContext)(c.aC),{setFieldInConfigState:w}=j||{},N=()=>{b(null),clearTimeout(y),y=null},k=null!==x&&x.type===i.Jk;return(0,a.jsxs)("div",{className:"formfield-container toggleswitch-container",children:[p&&(0,a.jsx)("div",{className:"label-side",children:(0,a.jsx)("span",{className:"formfield-label",children:p})}),(0,a.jsxs)("div",{className:"input-side",children:[(0,a.jsxs)("div",{className:"input-group",children:[(0,a.jsx)(o.Z,{className:"switch field-".concat(m),loading:k,onChange:async e=>{if(g){b((0,i.kg)(i.Jk));const n=u?!e:e;await(0,l.Si)({apiPath:t,data:{value:n},onSuccess:()=>{w({fieldName:m,value:n,path:d}),b((0,i.kg)(i.zv))},onError:e=>{b((0,i.kg)(i.Un,"There was an error: ".concat(e)))}}),y=setTimeout(N,l.sI)}v&&v(e)},defaultChecked:n,checked:n,checkedChildren:"ON",unCheckedChildren:"OFF",disabled:h}),(0,a.jsx)(r.E,{status:x})]}),(0,a.jsx)("p",{className:"field-tip",children:f})]})]})};u.defaultProps={apiPath:"",checked:!1,reversed:!1,configPath:"",disabled:!1,label:"",tip:"",useSubmit:!1,onChange:null}},49817:function(e,t,n){"use strict";n.d(t,{Z:function(){return N}});var a=n(85893),s=n(67294),o=n(6880),i=n(71577),r=n(69677),l=n(48213),c=n(85402),u=n(10010),d=n(39398),h=n(48689),m=n(34041),p=n(90745);const f=e=>{let{iconList:t,selectedOption:n,onSelected:s}=e;const o=""===n?null:n;return(0,a.jsxs)("div",{className:"social-dropdown-container",children:[(0,a.jsx)("p",{className:"description",children:"If you are looking for a platform name not on this list, please select Other and type in your own name. A logo will not be provided."}),(0,a.jsxs)("div",{className:"formfield-container",children:[(0,a.jsx)("div",{className:"label-side",children:(0,a.jsx)("span",{className:"formfield-label",children:"Social Platform"})}),(0,a.jsx)("div",{className:"input-side",children:(0,a.jsxs)(m.Z,{style:{width:240},className:"social-dropdown",placeholder:"Social platform...",defaultValue:o,value:o,onSelect:e=>{s&&s(e)},children:[t.map((e=>{const{platform:t,icon:n,key:s}=e;return(0,a.jsxs)(m.Z.Option,{className:"social-option",value:s,children:[(0,a.jsx)("span",{className:"option-icon",children:(0,a.jsx)("img",{src:n,alt:"",className:"option-icon"})}),(0,a.jsx)("span",{className:"option-label",children:t})]},"platform-".concat(s))})),(0,a.jsx)(m.Z.Option,{className:"social-option",value:p.z_,children:"Other..."},"platform-".concat(p.z_))]})})]})]})};var g=n(64777),v=n(99519),x=n(37174),b=n(79139),y=n(41983),j=n(73615);const{Title:w}=o.Z;function N(){const[e,t]=(0,s.useState)([]),[n,o]=(0,s.useState)([]),[m,N]=(0,s.useState)(!1),[k,S]=(0,s.useState)(!1),[P,C]=(0,s.useState)(!1),[T,L]=(0,s.useState)(-1),[E,A]=(0,s.useState)(p.wC),[Z,I]=(0,s.useState)(null),O=(0,s.useContext)(v.aC),{serverConfig:U,setFieldInConfigState:_}=O||{},{instanceDetails:D}=U,{socialHandles:M}=D;let F=null;const B=t=>e.find((e=>e.key===t))||!1,z=""!==E.platform&&!e.find((e=>e.key===E.platform));(0,s.useEffect)((()=>{(async()=>{try{const e=await(0,g.rQ)(g.$i,{auth:!1}),n=Object.keys(e).map((t=>({key:t,...e[t]})));t(n)}catch(e){console.log(e)}})()}),[]),(0,s.useEffect)((()=>{D.socialHandles&&o(M)}),[D]);const R=()=>{I(null),F=null,clearTimeout(F)},q=()=>{N(!1),L(-1),S(!1),C(!1),A({...p.wC})},G=()=>{q()},H=(e,t)=>{A({...E,[e]:t})},V=async e=>{await(0,p.Si)({apiPath:p.c9,data:{value:e},onSuccess:()=>{_({fieldName:"socialHandles",value:e,path:"instanceDetails"}),C(!1),G(),I((0,y.kg)(y.zv)),F=setTimeout(R,p.sI)},onError:e=>{I((0,y.kg)(y.Un,"There was an error: ".concat(e))),C(!1),F=setTimeout(R,p.sI)}})},K=[{title:"Social Link",dataIndex:"",key:"combo",render:(e,t)=>{const{platform:n,url:s}=t,o=B(n);if(!o)return(0,a.jsx)("div",{className:"social-handle-cell",children:(0,a.jsxs)("p",{className:"option-label",children:[(0,a.jsx)("strong",{children:n}),(0,a.jsx)("span",{className:"handle-url",title:s,children:s})]})});const{icon:i,platform:r}=o;return(0,a.jsxs)("div",{className:"social-handle-cell",children:[(0,a.jsx)("span",{className:"option-icon",children:(0,a.jsx)("img",{src:i,alt:"",className:"option-icon"})}),(0,a.jsxs)("p",{className:"option-label",children:[(0,a.jsx)("strong",{children:r}),(0,a.jsx)("span",{className:"handle-url",title:s,children:s})]})]})}},{title:"",dataIndex:"",key:"edit",render:(e,t,s)=>(0,a.jsxs)("div",{className:"actions",children:[(0,a.jsx)(i.Z,{size:"small",onClick:()=>{const e=n[s];L(s),A({...e}),N(!0),B(e.platform)||S(!0)},children:"Edit"}),(0,a.jsx)(i.Z,{icon:(0,a.jsx)(u.Z,{}),size:"small",hidden:0===s,onClick:()=>(e=>{if(e<=0||e>=n.length)return;const t=[...n],a=t[e-1];t[e-1]=t[e],t[e]=a,V(t)})(s)}),(0,a.jsx)(i.Z,{icon:(0,a.jsx)(d.Z,{}),size:"small",hidden:s===n.length-1,onClick:()=>(e=>{if(e<0||e>=n.length-1)return;const t=[...n],a=t[e+1];t[e+1]=t[e],t[e]=a,V(t)})(s)}),(0,a.jsx)(i.Z,{className:"delete-button",icon:(0,a.jsx)(h.Z,{}),size:"small",onClick:()=>(e=>{const t=[...n];t.splice(e,1),V(t)})(s)})]})}],W={disabled:(Q=E.url,X=E.platform,!("xmpp"===X?(0,x.Kf)(Q,"xmpp"):"matrix"===X?(0,x.bu)(Q):(0,x.jv)(Q)))};var Q,X;const J=(0,a.jsxs)("div",{className:"other-field-container formfield-container",children:[(0,a.jsx)("div",{className:"label-side"}),(0,a.jsx)("div",{className:"input-side",children:(0,a.jsx)(r.Z,{placeholder:"Other platform name",defaultValue:E.platform,onChange:e=>{const{value:t}=e.target;H("platform",t)}})})]});return(0,a.jsxs)("div",{className:"social-links-edit-container",children:[(0,a.jsx)(w,{level:3,className:"section-title",children:"Your Social Handles"}),(0,a.jsx)("p",{className:"description",children:"Add all your social media handles and links to your other profiles here."}),(0,a.jsx)(j.E,{status:Z}),(0,a.jsx)(l.Z,{className:"social-handles-table",pagination:!1,size:"small",rowKey:e=>"".concat(e.platform,"-").concat(e.url),columns:K,dataSource:n}),(0,a.jsx)(c.Z,{title:"Edit Social Handle",open:m,onOk:()=>{C(!0);const e=n.length?[...n]:[];-1===T?e.push(E):e.splice(T,1,E),V(e)},onCancel:G,confirmLoading:P,okButtonProps:W,children:(0,a.jsxs)("div",{className:"social-handle-modal-content",children:[(0,a.jsx)(f,{iconList:e,selectedOption:z?p.z_:E.platform,onSelected:e=>{e===p.z_?(S(!0),H("platform","")):(S(!1),H("platform",e))}}),k&&J,(0,a.jsx)("br",{}),(0,a.jsx)(b.nv,{fieldName:"social-url",label:"URL",placeholder:{mastodon:"https://mastodon.social/@username",twitter:"https://twitter.com/username"}[E.platform]||"Url to page",value:E.url,onChange:e=>{let{value:t}=e;H("url",t)},useTrim:!0,type:"url",pattern:x.ax}),(0,a.jsx)(j.E,{status:Z})]})}),(0,a.jsx)("br",{}),(0,a.jsx)(i.Z,{type:"primary",onClick:()=>{q(),N(!0)},children:"Add a new social link"})]})}},67750:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ne}});var a=n(85893),s=n(67294),o=n(90575),i=n(6880),r=n(46551),l=n(99519),c=n(90745),u=n(6979),d=n(77916),h=n(71577),m=n(50888),p=n(88484),f=n(73615),g=n(41983),v=n(64777),x=n(60956);const b=()=>{var e;const[t,n]=(0,s.useState)(null),[o,i]=(0,s.useState)(!1),[r,u]=(0,s.useState)(0),b=(0,s.useContext)(l.aC),{setFieldInConfigState:y,serverConfig:j}=b||{},w=null===j||void 0===j||null===(e=j.instanceDetails)||void 0===e?void 0:e.logo,[N,k]=(0,s.useState)(null);let S=null;const{apiPath:P,tip:C}=c.ZQ,T=()=>{k(null),clearTimeout(S),S=null},L="".concat(v.WB,"logo?random=").concat(r);return(0,a.jsxs)("div",{className:"formfield-container logo-upload-container",children:[(0,a.jsx)("div",{className:"label-side",children:(0,a.jsx)("span",{className:"formfield-label",children:"Logo"})}),(0,a.jsxs)("div",{className:"input-side",children:[(0,a.jsxs)("div",{className:"input-group",children:[(0,a.jsx)("img",{src:L,alt:"avatar",className:"logo-preview"}),(0,a.jsx)(d.Z,{name:"logo",listType:"picture",className:"avatar-uploader",showUploadList:!1,accept:x.dr.join(","),beforeUpload:e=>(i(!0),new Promise(((t,a)=>{if(e.size>x.Z7){const t="File size is too big: ".concat((0,x.kR)(e.size));return k((0,g.kg)(g.Un,"There was an error: ".concat(t))),S=setTimeout(T,c.sI),i(!1),a()}if(!x.dr.includes(e.type)){const t="File type is not supported: ".concat(e.type);return k((0,g.kg)(g.Un,"There was an error: ".concat(t))),S=setTimeout(T,c.sI),i(!1),a()}(0,x.y3)(e,(e=>{n(e),setTimeout((()=>t()),100)}))}))),customRequest:async()=>{t!==w&&(k((0,g.kg)(g.Jk)),await(0,c.Si)({apiPath:P,data:{value:t},onSuccess:()=>{y({fieldName:"logo",value:t,path:""}),k((0,g.kg)(g.zv)),i(!1),u(Math.floor(100*Math.random()))},onError:e=>{k((0,g.kg)(g.Un,"There was an error: ".concat(e))),i(!1)}}),S=setTimeout(T,c.sI))},disabled:o,children:o?(0,a.jsx)(m.Z,{style:{color:"white"}}):(0,a.jsx)(h.Z,{icon:(0,a.jsx)(p.Z,{})})})]}),(0,a.jsx)(f.E,{status:N}),(0,a.jsx)("p",{className:"field-tip",children:C})]})]})},{Title:y}=i.Z;function j(){const[e,t]=(0,s.useState)(null),n=(0,s.useContext)(l.aC),{serverConfig:o}=n||{},{instanceDetails:i,yp:d}=o,{instanceUrl:h}=d;if((0,s.useEffect)((()=>{t({...i,...d})}),[i,d]),!e)return null;const m=n=>{let{fieldName:a,value:s}=n;t({...e,[a]:s})};const p=""!==h;return(0,a.jsxs)("div",{className:"edit-general-settings",children:[(0,a.jsx)(y,{level:3,className:"section-title",children:"Configure Instance Details"}),(0,a.jsx)("br",{}),(0,a.jsx)(r.$7,{fieldName:"name",...c.RE,value:e.name,initialValue:i.name,onChange:m}),(0,a.jsx)(r.$7,{fieldName:"instanceUrl",...c.cj,value:e.instanceUrl,initialValue:d.instanceUrl,type:r.xA,onChange:m,onSubmit:()=>{""===e.instanceUrl&&!0===d.enabled&&(0,c.Si)({apiPath:c.AP,data:{value:!1}})}}),(0,a.jsx)(r.$7,{fieldName:"summary",...c.rs,type:r.Sk,value:e.summary,initialValue:i.summary,onChange:m}),(0,a.jsx)(r.$7,{fieldName:"offlineMessage",...c.rd,type:r.Sk,value:e.offlineMessage,initialValue:i.offlineMessage,onChange:m}),(0,a.jsx)(b,{}),(0,a.jsx)(u.Z,{fieldName:"hideViewerCount",useSubmit:!0,...c._X,checked:e.hideViewerCount,onChange:function(e){m({fieldName:"hideViewerCount",value:e})}}),(0,a.jsx)("br",{}),(0,a.jsxs)("p",{className:"description",children:["Increase your audience by appearing in the"," ",(0,a.jsx)("a",{href:"https://directory.owncast.online",target:"_blank",rel:"noreferrer",children:(0,a.jsx)("strong",{children:"Owncast Directory"})}),". This is an external service run by the Owncast project."," ",(0,a.jsx)("a",{href:"https://owncast.online/docs/directory/?source=admin",target:"_blank",rel:"noopener noreferrer",children:"Learn more"}),"."]}),!d.instanceUrl&&(0,a.jsxs)("p",{className:"description",children:["You must set your ",(0,a.jsx)("strong",{children:"Server URL"})," above to enable the directory."]}),(0,a.jsxs)("div",{className:"config-yp-container",children:[(0,a.jsx)(u.Z,{fieldName:"enabled",useSubmit:!0,...c.P,checked:e.enabled,disabled:!p}),(0,a.jsx)(u.Z,{fieldName:"nsfw",useSubmit:!0,...c.EY,checked:e.nsfw,disabled:!p})]})]})}var w=n(20550),N=n(79139),k=n(48186);const{Title:S}=i.Z;function P(){const[e,t]=(0,s.useState)(""),[n,o]=(0,s.useState)(null),i=(0,s.useContext)(l.aC),{serverConfig:r,setFieldInConfigState:u}=i||{},{instanceDetails:d}=r,{tags:h=[]}=d,{apiPath:m,maxLength:p,placeholder:f,configPath:v}=c.y_;let x=null;(0,s.useEffect)((()=>()=>{clearTimeout(x)}),[]);const b=()=>{o(null),x=null,clearTimeout(x)},y=async e=>{o((0,g.kg)(g.Jk)),await(0,c.Si)({apiPath:m,data:{value:e},onSuccess:()=>{u({fieldName:"tags",value:e,path:v}),o((0,g.kg)(g.zv,"Tags updated.")),t(""),x=setTimeout(b,c.sI)},onError:e=>{o((0,g.kg)(g.Un,e)),x=setTimeout(b,c.sI)}})};return(0,a.jsxs)("div",{className:"tag-editor-container",children:[(0,a.jsx)(S,{level:3,className:"section-title",children:"Add Tags"}),(0,a.jsx)("p",{className:"description",children:"This is a great way to categorize your Owncast server on the Directory!"}),(0,a.jsx)("div",{className:"edit-current-strings",children:h.map(((e,t)=>(0,a.jsx)(w.Z,{closable:!0,onClose:()=>{(e=>{b();const t=[...h];t.splice(e,1),y(t)})(t)},color:k.Q,children:e},"tag-".concat(e,"-").concat(t))))}),(0,a.jsx)("div",{className:"add-new-string-section",children:(0,a.jsx)(N.nv,{fieldName:"tag-input",value:e,className:"new-tag-input",onChange:e=>{let{value:a}=e;n||o(null),t(a)},onPressEnter:()=>{b();const t=e.trim();if(""===t)return void o((0,g.kg)(g.dG,"Please enter a tag"));if(h.some((e=>e.toLowerCase()===t.toLowerCase())))return void o((0,g.kg)(g.dG,"This tag is already used!"));const n=[...h,t];y(n)},maxLength:p,placeholder:f,status:n})})]})}var C=n(49817),T=n(87685),L=n(58909),E=n(48825),A=n(76538);const{Title:Z}=i.Z;function I(){const[e,t]=(0,s.useState)(""),[n,o]=(0,s.useState)(null),[i,r]=(0,s.useState)(!1),u=(0,s.useContext)(l.aC),{serverConfig:d,setFieldInConfigState:m}=u||{},{instanceDetails:p}=d,{extraPageContent:v}=p;let x=null;const b=()=>{o(null),r(!1),clearTimeout(x),x=null};return(0,s.useEffect)((()=>{t(v)}),[p]),(0,a.jsxs)("div",{className:"edit-page-content",children:[(0,a.jsx)(Z,{level:3,className:"section-title",children:"Custom Page Content"}),(0,a.jsxs)("p",{className:"description",children:["Edit the content of your page by using simple"," ",(0,a.jsx)("a",{href:"https://www.markdownguide.org/basic-syntax/",target:"_blank",rel:"noopener noreferrer",children:"Markdown syntax"}),"."]}),(0,a.jsx)(T.ZP,{value:e,placeholder:"Enter your custom page content here...",theme:L.F,onChange:function(e){t(e),e===v||i?e===v&&i&&r(!1):r(!0)},extensions:[(0,E.markdown)({base:E.markdownLanguage,codeLanguages:A.M})]}),(0,a.jsx)("br",{}),(0,a.jsxs)("div",{className:"page-content-actions",children:[i&&(0,a.jsx)(h.Z,{type:"primary",onClick:async function(){o((0,g.kg)(g.Jk)),await(0,c.Si)({apiPath:c.AA,data:{value:e},onSuccess:t=>{m({fieldName:"extraPageContent",value:e,path:"instanceDetails"}),o((0,g.kg)(g.zv,t))},onError:e=>{o((0,g.kg)(g.Un,e))}}),x=setTimeout(b,c.sI)},children:"Save"}),(0,a.jsx)(f.E,{status:n})]})]})}function O(){return(0,a.jsxs)("div",{className:"config-public-details-page",children:[(0,a.jsxs)("p",{className:"description",children:["The following are displayed on your site to describe your stream and its content."," ",(0,a.jsx)("a",{href:"https://owncast.online/docs/website/?source=admin",target:"_blank",rel:"noopener noreferrer",children:"Learn more."})]}),(0,a.jsxs)("div",{className:"top-container",children:[(0,a.jsx)("div",{className:"form-module instance-details-container",children:(0,a.jsx)(j,{})}),(0,a.jsxs)("div",{className:"form-module social-items-container ",children:[(0,a.jsx)("div",{className:"form-module tags-module",children:(0,a.jsx)(P,{})}),(0,a.jsx)("div",{className:"form-module social-handles-container",children:(0,a.jsx)(C.Z,{})})]})]}),(0,a.jsx)("div",{className:"form-module page-content-module",children:(0,a.jsx)(I,{})})]})}var U=n(54907),_=n(15746),D=n(26713),M=n(71230),F=n(22918),B=n(21987),z=n(11700),R=n(61426);const{Title:q}=i.Z,G=()=>{const[e,t]=(0,s.useState)("/* Enter custom CSS here */"),[n,o]=(0,s.useState)(null),[i,r]=(0,s.useState)(!1),u=(0,s.useContext)(l.aC),{serverConfig:d,setFieldInConfigState:m}=u||{},{instanceDetails:p}=d,{customStyles:v}=p;let x=null;const b=()=>{o(null),r(!1),clearTimeout(x),x=null};(0,s.useEffect)((()=>{t(v)}),[p]);const y=s.useCallback((e=>{t(e),e===v||i?e===v&&i&&r(!1):r(!0)}),[]);return(0,a.jsxs)("div",{className:"edit-custom-css",children:[(0,a.jsx)(q,{level:3,className:"section-title",children:"Customize your page styling with CSS"}),(0,a.jsxs)("p",{className:"description",children:["Customize the look and feel of your Owncast instance by overriding the CSS styles of various components on the page. Refer to the"," ",(0,a.jsx)("a",{href:"https://owncast.online/docs/website/",rel:"noopener noreferrer",target:"_blank",children:"CSS & Components guide"}),"."]}),(0,a.jsx)("p",{className:"description",children:"Please input plain CSS text, as this will be directly injected onto your page during load."}),(0,a.jsx)(T.ZP,{value:e,placeholder:"/* Enter custom CSS here */",theme:L.F,height:"200px",extensions:[(0,R.css)()],onChange:y}),(0,a.jsx)("br",{}),(0,a.jsxs)("div",{className:"page-content-actions",children:[i&&(0,a.jsx)(h.Z,{type:"primary",onClick:async function(){o((0,g.kg)(g.Jk)),await(0,c.Si)({apiPath:c.d$,data:{value:e},onSuccess:t=>{m({fieldName:"customStyles",value:e,path:"instanceDetails"}),o((0,g.kg)(g.zv,t))},onError:e=>{o((0,g.kg)(g.Un,e))}}),x=setTimeout(b,c.sI)},children:"Save"}),(0,a.jsx)(f.E,{status:n})]})]})};var H=n(69575),V=n.n(H);const{Panel:K}=U.Z,W="/appearance",Q=[{name:"theme-color-users-0",description:""},{name:"theme-color-users-1",description:""},{name:"theme-color-users-2",description:""},{name:"theme-color-users-3",description:""},{name:"theme-color-users-4",description:""},{name:"theme-color-users-5",description:""},{name:"theme-color-users-6",description:""},{name:"theme-color-users-7",description:""}],X=[{name:"theme-color-palette-0",description:""},{name:"theme-color-palette-1",description:""},{name:"theme-color-palette-2",description:""},{name:"theme-color-palette-3",description:""},{name:"theme-color-palette-4",description:""},{name:"theme-color-palette-5",description:""},{name:"theme-color-palette-6",description:""},{name:"theme-color-palette-7",description:""},{name:"theme-color-palette-8",description:""},{name:"theme-color-palette-9",description:""},{name:"theme-color-palette-10",description:""},{name:"theme-color-palette-11",description:""},{name:"theme-color-palette-12",description:""}],J=[{name:"theme-color-background-main",description:"Background"},{name:"theme-color-action",description:"Action"},{name:"theme-color-action-hover",description:"Action Hover"},{name:"theme-color-components-chat-background",description:"Chat Background"},{name:"theme-color-components-chat-text",description:"Text: Chat"},{name:"theme-color-components-text-on-dark",description:"Text: Light"},{name:"theme-color-components-text-on-light",description:"Text: Dark"},{name:"theme-color-background-header",description:"Header/Footer"},{name:"theme-color-components-content-background",description:"Page Content"},{name:"theme-color-components-scrollbar-background",description:"Scrollbar Background"},{name:"theme-color-components-scrollbar-thumb",description:"Scrollbar Thumb"}],$=[{name:"theme-rounded-corners",description:"Corner radius"}],Y=[...X,...J,...Q,...$].reduce(((e,t)=>(e[t.name]={name:t.name,description:t.description},e)),{});function ee(e){let{value:t,name:n,description:s,onChange:o}=e;return(0,a.jsxs)(_.Z,{span:3,children:[(0,a.jsx)("input",{type:"color",id:n,name:s,title:s,value:t,className:V().colorPicker,onChange:e=>o(n,e.target.value,s)}),(0,a.jsx)("div",{style:{padding:"2px"},children:s})]},n)}function te(){var e,t,n;const o=(0,s.useContext)(l.aC),{serverConfig:i}=o,{instanceDetails:r}=i,{appearanceVariables:u}=r,[d,m]=(0,s.useState)(),[p,v]=(0,s.useState)(null);let x=null;const b=()=>{v(null),x=null,clearTimeout(x)},y=()=>{const e={};[...X,...J,...Q,...$].forEach((t=>{const n=getComputedStyle(document.documentElement).getPropertyValue("--".concat(t.name));e[t.name]={value:n.trim(),description:t.description}})),m(e)};(0,s.useEffect)((()=>{y()}),[]),(0,s.useEffect)((()=>{if(0===Object.keys(u).length)return;const e=d||{};Object.keys(u).forEach((t=>{var n;e[t]={value:u[t],description:(null===(n=Y[t])||void 0===n?void 0:n.description)||""}})),m(e)}),[u]);const j=(e,t,n)=>{m({...d,[e]:{value:t,description:n}})};return d?(0,a.jsxs)(D.Z,{direction:"vertical",children:[(0,a.jsx)(z.Z,{children:"Customize Appearance"}),(0,a.jsx)(B.Z,{children:"The following colors are used across the user interface."}),(0,a.jsx)("div",{children:(0,a.jsxs)(U.Z,{defaultActiveKey:["1"],children:[(0,a.jsxs)(K,{header:(0,a.jsx)(z.Z,{level:3,children:"Section Colors"}),children:[(0,a.jsx)("p",{children:"Certain sections of the interface can be customized by selecting new colors for them."}),(0,a.jsx)(M.Z,{gutter:[16,16],children:J.map((e=>{const{name:t}=e,n=d[t];return(0,a.jsx)(ee,{value:n.value,name:t,description:n.description,onChange:j},t)}))})]},"1"),(0,a.jsx)(K,{header:(0,a.jsx)(z.Z,{level:3,children:"Chat User Colors"}),children:(0,a.jsx)(M.Z,{gutter:[16,16],children:Q.map((e=>{const{name:t}=e,n=d[t];return(0,a.jsx)(ee,{value:n.value,name:t,description:n.description,onChange:j},t)}))})},"2"),(0,a.jsx)(K,{header:(0,a.jsx)(z.Z,{level:3,children:"Theme Colors"}),children:(0,a.jsx)(M.Z,{gutter:[16,16],children:X.map((e=>{const{name:t}=e,n=d[t];return(0,a.jsx)(ee,{value:n.value,name:t,description:n.description,onChange:j},t)}))})},"3"),(0,a.jsxs)(K,{header:(0,a.jsx)(z.Z,{level:3,children:"Other Settings"}),children:["How rounded should corners be?",(0,a.jsxs)(M.Z,{gutter:[16,16],children:[(0,a.jsx)(_.Z,{span:12,children:(0,a.jsx)(F.Z,{min:0,max:20,tooltip:{formatter:null},onChange:e=>{j("theme-rounded-corners","".concat(e.toString(),"px"),"")},value:Number((null===(e=d["theme-rounded-corners"])||void 0===e||null===(t=e.value)||void 0===t?void 0:t.replace("px",""))||0)})}),(0,a.jsx)(_.Z,{span:4,children:(0,a.jsx)("div",{style:{width:"100px",height:"30px",borderRadius:"".concat(null===(n=d["theme-rounded-corners"])||void 0===n?void 0:n.value),backgroundColor:"var(--theme-color-palette-7)"}})})]})]},"4")]})}),(0,a.jsxs)(D.Z,{direction:"horizontal",children:[(0,a.jsx)(h.Z,{type:"primary",onClick:async()=>{const e={};Object.keys(d).forEach((t=>{e[t]=d[t].value})),await(0,c.Si)({apiPath:W,data:{value:e},onSuccess:()=>{v((0,g.kg)(g.zv,"Updated.")),x=setTimeout(b,c.sI)},onError:e=>{v((0,g.kg)(g.Un,e)),x=setTimeout(b,c.sI)}})},children:"Save Colors"}),(0,a.jsx)(h.Z,{type:"ghost",onClick:async()=>{await(0,c.Si)({apiPath:W,data:{value:{}},onSuccess:()=>{v((0,g.kg)(g.zv,"Updated.")),x=setTimeout(b,c.sI),y()},onError:e=>{v((0,g.kg)(g.Un,e)),x=setTimeout(b,c.sI)}})},children:"Reset to Defaults"})]}),(0,a.jsx)(f.E,{status:p}),(0,a.jsx)("div",{className:"form-module page-content-module",children:(0,a.jsx)(G,{})})]}):(0,a.jsx)("div",{children:"Loading..."})}function ne(){return(0,a.jsx)("div",{className:"config-public-details-page",children:(0,a.jsx)(o.Z,{defaultActiveKey:"1",centered:!0,items:[{label:"General",key:"1",children:(0,a.jsx)(O,{})},{label:"Appearance",key:"2",children:(0,a.jsx)(te,{})}]})})}},64777:function(e,t,n){"use strict";n.d(t,{$i:function(){return O},$l:function(){return H},Bu:function(){return v},E8:function(){return D},Ff:function(){return C},GC:function(){return y},GR:function(){return Q},HP:function(){return _},IO:function(){return E},Kp:function(){return p},Kt:function(){return K},M_:function(){return Z},N$:function(){return z},NE:function(){return l},NM:function(){return g},Q_:function(){return c},Qc:function(){return P},RB:function(){return x},UJ:function(){return q},WB:function(){return i},WE:function(){return k},WQ:function(){return N},Wr:function(){return L},XA:function(){return A},Y9:function(){return M},a_:function(){return m},ao:function(){return d},bl:function(){return u},e_:function(){return U},hn:function(){return S},iG:function(){return I},iV:function(){return h},jr:function(){return b},kb:function(){return F},kg:function(){return V},ms:function(){return T},nx:function(){return j},op:function(){return B},qk:function(){return f},rQ:function(){return G},sG:function(){return w},um:function(){return R}});var a=n(34155);const s=a.env.NEXT_PUBLIC_ADMIN_USERNAME,o=a.env.NEXT_PUBLIC_ADMIN_STREAMKEY,i="/",r="".concat(i,"api/admin/"),l=15e3,c="".concat(r,"status"),u=("".concat(r,"disconnect"),"".concat(r,"changekey"),"".concat(r,"serverconfig")),d="".concat(r,"config"),h="".concat(r,"viewersOverTime"),m="".concat(r,"viewers"),p="".concat(r,"chat/clients"),f="".concat(r,"chat/users/disabled"),g="".concat(r,"chat/users/setenabled"),v="".concat(r,"chat/users/ipbans"),x="".concat(r,"chat/users/ipbans/remove"),b="".concat(r,"chat/users/setmoderator"),y="".concat(r,"chat/users/moderators"),j="".concat(r,"hardwarestats"),w="".concat(r,"logs"),N="".concat(r,"logs/warnings"),k="".concat(r,"chat/messages"),S="/api/admin/chat/messagevisibility",P="".concat(r,"emoji/upload"),C="".concat(r,"emoji/delete"),T="".concat(r,"accesstokens"),L="".concat(r,"accesstokens/delete"),E="".concat(r,"accesstokens/create"),A="".concat(r,"webhooks"),Z="".concat(r,"webhooks/delete"),I="".concat(r,"webhooks/create"),O="".concat(i,"api/socialplatforms"),U=("".concat(r,"api/externalactions"),"".concat(r,"federation/send")),_="".concat(r,"followers"),D="".concat(r,"followers/pending"),M="".concat(r,"followers/blocked"),F="".concat(r,"followers/approve"),B="".concat(r,"federation/actions"),z="".concat(r,"metrics/video"),R="".concat(r,"config/streamkeys"),q="".concat(r,"yp/reset");async function G(e,t){const{data:n,method:a="GET",auth:i=!0}=t||{},r={method:a};if(n&&(r.body=JSON.stringify(n)),i&&s&&o){const e=btoa("".concat(s,":").concat(o));r.headers={Authorization:"Basic ".concat(e)},r.mode="cors",r.credentials="include"}try{const t=await fetch(e,r),n=await t.json();if(!t.ok){const e=n.message||"An error has occurred: ".concat(t.status);throw new Error(e)}return n}catch(l){return console.error(l),l}}async function H(e,t){return G(e,{method:"GET",auth:!1,...t})}async function V(e){try{const t=await fetch(e,{referrerPolicy:"no-referrer",referrer:""});if(!t.ok){const e="An error has occured: ".concat(t.status);throw new Error(e)}return await t.json()}catch(t){console.log(t)}return{}}async function K(){return V("https://api.github.com/repos/owncast/owncast/releases/latest")}const W=/^\d+(\.\d+){0,2}$/;async function Q(e){let t=(await K()).tag_name;return"v"===t.substr(0,1)&&(t=t.substr(1)),function(e,t){if(!e||!t||0===e.length||0===t.length)return!1;if(e===t)return!0;if(W.test(e)&&W.test(t)){const n=e.split(".");for(;n.length<3;)n.push("0");const a=t.split(".");for(;a.length<3;)a.push("0");for(let e=0;e<3;e++){const t=parseInt(n[e],10),s=parseInt(a[e],10);if(t!==s)return t>s}return!0}return e>=t}(e,t)?null:t}},90745:function(e,t,n){"use strict";n.d(t,{$Z:function(){return pe},$t:function(){return k},$w:function(){return h},AA:function(){return l},AN:function(){return G},AP:function(){return g},BF:function(){return W},B_:function(){return J},CJ:function(){return v},CQ:function(){return y},Dg:function(){return q},EY:function(){return _},FE:function(){return K},HM:function(){return oe},I$:function(){return re},IX:function(){return C},KB:function(){return E},Kl:function(){return H},LC:function(){return V},ME:function(){return O},P:function(){return D},RE:function(){return N},SS:function(){return se},Si:function(){return w},Xc:function(){return Q},Xq:function(){return te},ZQ:function(){return T},_X:function(){return M},c9:function(){return m},cf:function(){return x},cj:function(){return I},d$:function(){return c},dL:function(){return Y},dR:function(){return $},dj:function(){return R},gX:function(){return F},i3:function(){return le},kB:function(){return z},lT:function(){return Z},mv:function(){return me},nm:function(){return ee},os:function(){return b},oy:function(){return he},pE:function(){return j},rE:function(){return A},rd:function(){return P},rs:function(){return S},sI:function(){return r},sv:function(){return p},t$:function(){return ie},tQ:function(){return L},vv:function(){return f},wC:function(){return ce},x8:function(){return ne},yC:function(){return ae},y_:function(){return U},yi:function(){return X},yj:function(){return B},z_:function(){return ue},zm:function(){return de}});var a=n(85893),s=n(64777),o=n(79139),i=n(37174);const r=3e3,l="/pagecontent",c="/customstyles",u="/serverurl",d="/nsfw",h="/s3",m="/socialhandles",p="/video/streamlatencylevel",f="/video/streamoutputvariants",g="/directoryenabled",v="/chat/forbiddenusernames",x="/chat/suggestedusernames",b="/externalactions",y="/video/codec",j="/federation/blockdomains";async function w(e){const{apiPath:t,data:n,onSuccess:a,onError:o}=e,i=await(0,s.rQ)("".concat(s.ao).concat(t),{data:n,method:"POST",auth:!0});i.success&&a?a(i.message):o&&o(i.message)}const N={apiPath:"/name",configPath:"instanceDetails",maxLength:255,placeholder:"Owncast site name",label:"Name",tip:"The name of your Owncast server",required:!0,useTrimLead:!0},k={apiPath:"/streamtitle",configPath:"instanceDetails",maxLength:100,placeholder:"Doing cool things...",label:"Stream Title",tip:"What is your stream about today?"},S={apiPath:"/serversummary",configPath:"instanceDetails",maxLength:500,placeholder:"",label:"About",tip:"A brief blurb about you, your server, or what your stream is about."},P={apiPath:"/offlinemessage",configPath:"instanceDetails",maxLength:2500,placeholder:"An optional message you can leave people when your stream is not live.",label:"Offline Message",tip:"An optional message you can leave people when your stream is not live."},C={apiPath:"/welcomemessage",configPath:"instanceDetails",maxLength:2500,placeholder:"",label:"Welcome Message",tip:"A system chat message sent to viewers when they first connect to chat. Leave blank to disable."},T={apiPath:"/logo",configPath:"instanceDetails",maxLength:255,placeholder:"/img/mylogo.png",label:"Logo",tip:"Upload your logo if you have one (max size 2 MB). We recommend that you use a square image that is at least 256x256. SVGs are discouraged as they cannot be displayed on all social media platforms."},L={apiPath:"/key",configPath:"",maxLength:255,placeholder:"abc123",label:"Admin Password",tip:"Save this password somewhere safe, you will need it to login to the admin dashboard!",required:!0},E={apiPath:"/ffmpegpath",configPath:"",maxLength:255,placeholder:"/usr/local/bin/ffmpeg",label:"FFmpeg Path",tip:"Absolute file path of the FFMPEG application on your server",required:!0},A={apiPath:"/webserverport",configPath:"",maxLength:6,placeholder:"8080",label:"Owncast port",tip:"What port is your Owncast web server listening? Default is 8080",required:!0},Z={apiPath:"/rtmpserverport",configPath:"",maxLength:6,placeholder:"1935",label:"RTMP port",tip:"What port should accept inbound broadcasts? Default is 1935",required:!0},I={apiPath:u,configPath:"yp",maxLength:255,placeholder:"https://owncast.mysite.com",label:"Server URL",tip:"The full url to your Owncast server.",type:o.xA,pattern:i.ax,useTrim:!0},O={apiPath:"/sockethostoverride",configPath:"",maxLength:255,placeholder:"https://owncast.mysite.com",label:"Websocket host override",tip:"The direct URL of your Owncast server.",type:o.xA,pattern:i.ax,useTrim:!0},U={apiPath:"/tags",configPath:"instanceDetails",maxLength:24,placeholder:"Add a new tag",required:!0,label:"",tip:""},_={apiPath:d,configPath:"instanceDetails",label:"NSFW?",tip:"Turn this ON if you plan to steam explicit or adult content. Please respectfully set this flag so unexpected eyes won't accidentally see it in the Directory."},D={apiPath:g,configPath:"yp",label:"Enable directory",tip:"Turn this ON to request to show up in the directory."},M={apiPath:"/hideviewercount",configPath:"",label:"Hide viewer count",tip:"Turn this ON to hide the viewer count the web page."},F={framerate:24,videoPassthrough:!1,videoBitrate:800,audioPassthrough:!0,audioBitrate:0,cpuUsageLevel:3,scaledHeight:null,scaledWidth:null,name:""},B={apiPath:"/chat/disable",configPath:"",label:"Chat",tip:"Turn the chat functionality on/off on your Owncast server.",useSubmit:!0},z={apiPath:"/chat/joinmessagesenabled",configPath:"",label:"Join Messages",tip:"Show when a viewer joins the chat.",useSubmit:!0},R={apiPath:"/chat/establishedusermode",configPath:"",label:"Established users only",tip:"Only users who have previously been established for some time may chat.",useSubmit:!0},q={apiPath:v,placeholder:"username",label:"Forbidden usernames",tip:"A list of words in chat usernames you disallow."},G={apiPath:x,placeholder:"username",label:"Default usernames",tip:"An optional list of chat usernames that new users get assigned. If the list holds less then 10 items, random names will be generated.  Users can change their usernames afterwards and the same username may be given out multple times.",min_not_reached:"At least 10 items are required for this feature.",no_entries:"The default name generator is used."},H={apiPath:"/federation/enable",configPath:"federation",label:"Enable Social Features",tip:"Send and receive activities on the Fediverse.",useSubmit:!0},V={apiPath:"/federation/private",configPath:"federation",label:"Private",tip:"Follow requests will require approval and only followers will see your activity.",useSubmit:!0},K={apiPath:"/federation/showengagement",configPath:"showEngagement",label:"Show engagement",tip:"Following, liking and sharing will appear in the chat feed.",useSubmit:!0},W={apiPath:"/federation/livemessage",configPath:"federation",maxLength:500,placeholder:"My stream has started, tune in!",label:"Now Live message",tip:"The message sent announcing that your live stream has begun. Tags will be automatically added. Leave blank to disable."},Q={apiPath:"/federation/username",configPath:"federation",maxLength:10,placeholder:"owncast",default:"owncast",label:"Username",tip:'The username used for sending and receiving activities from the Fediverse. For example, if you use "bob" as a username you would send messages to the fediverse from @bob@yourserver. Once people start following your instance you should not change this.'},X={apiPath:u,configPath:"yp",maxLength:255,placeholder:"https://owncast.mysite.com",label:"Server URL",tip:"The full url to your Owncast server is required to enable social features. Must use SSL (https). Once people start following your instance you should not change this.",type:o.xA,pattern:i.ax,useTrim:!0},J={apiPath:d,configPath:"instanceDetails",label:"Potentially NSFW",tip:"Turn this ON if you plan to steam explicit or adult content so previews of your stream can be marked as potentially sensitive."},$={apiPath:j,configPath:"federation",label:"Blocked domains",placeholder:"bad.domain.biz",tip:"You can block specific domains from interacting with you."},Y={audioBitrate:{min:600,max:1200,defaultValue:800,unit:"kbps",incrementBy:100,tip:"nothing to see here"},videoPassthrough:{tip:"If enabled, all other settings will be disabled. Otherwise configure as desired."},audioPassthrough:{tip:"If No is selected, then you should set your desired Audio Bitrate."},scaledWidth:{fieldName:"scaledWidth",label:"Resized Width",maxLength:4,placeholder:"1080",tip:"Optionally resize this content's width."},scaledHeight:{fieldName:"scaledHeight",label:"Resized Height",maxLength:4,placeholder:"720",tip:"Optionally resize this content's height."}},ee={min:24,max:120,defaultValue:24,unit:"fps",incrementBy:null,tip:"Reducing your framerate will decrease the amount of video that needs to be encoded and sent to your viewers, saving CPU and bandwidth at the expense of smoothness.  A lower value is generally is fine for most content."},te={[ee.min]:"".concat(ee.min," ").concat(ee.unit),25:" ",30:" ",50:" ",60:" ",90:" ",[ee.max]:"".concat(ee.max," ").concat(ee.unit)},ne={[ee.min]:"".concat(ee.min,"fps - Good for film, presentations, music, low power/bandwidth servers."),25:"25fps - Good for film, presentations, music, low power/bandwidth servers.",30:"30fps - Good for slow/casual games, chat, general purpose.",50:"50fps - Good for fast/action games, sports, HD video.",60:"60fps - Good for fast/action games, sports, HD video.",90:"90fps - Good for newer fast games and hardware.",[ee.max]:"".concat(ee.max,"fps - Experimental, use at your own risk!")},ae={min:400,max:6e3,defaultValue:1200,unit:"kbps",incrementBy:100,tip:"The overall quality of your stream is generally impacted most by bitrate."},se={fieldName:"name",label:"Name",maxLength:15,placeholder:"HD or Low",tip:"Human-readable name for for displaying in the player."},oe={[ae.min]:{style:{marginLeft:"24px"},label:"".concat(ae.min," ").concat(ae.unit)},3e3:3e3,4500:4500,[ae.max]:{style:{marginLeft:"-10px"},label:"".concat(ae.max," ").concat(ae.unit)}},ie={1:{style:{marginLeft:"15px"},label:(0,a.jsx)("p",{children:"lowest"})},2:"",3:"",4:"",5:{style:{marginLeft:"-15px"},label:(0,a.jsx)("p",{children:"highest"})}},re={1:"Lowest hardware usage - lowest quality video",2:"Low hardware usage - low quality video",3:"Medium hardware usage - average quality video",4:"High hardware usage - high quality video",5:"Highest hardware usage - higher quality video"},le={VIDEO_HEIGHT:1080,VIDEO_BITRATE:3e3,HELP_TEXT:"You have only set one video quality variant. If your server has the computing resources, consider adding another, lower-quality variant, so more people can view your content!"},ce={url:"",platform:""},ue="OTHER_SOCIAL_HANDLE_OPTION",de={accessKey:{fieldName:"accessKey",label:"Access Key",maxLength:255,placeholder:"access key 123",tip:""},acl:{fieldName:"acl",label:"ACL",maxLength:255,placeholder:"",tip:"Optional specific access control value to add to your content.  Generally not required."},bucket:{fieldName:"bucket",label:"Bucket",maxLength:255,placeholder:"bucket 123",tip:"Create a new bucket for each Owncast instance you may be running."},endpoint:{fieldName:"endpoint",label:"Endpoint",maxLength:255,placeholder:"https://your.s3.provider.endpoint.com",tip:'The full URL (with "https://") endpoint from your storage provider.',useTrim:!0,type:o.xA,pattern:i.ax},region:{fieldName:"region",label:"Region",maxLength:255,placeholder:"region 123",tip:""},secret:{fieldName:"secret",label:"Secret key",maxLength:255,placeholder:"your secret key",tip:""},servingEndpoint:{fieldName:"servingEndpoint",label:"Serving Endpoint",maxLength:255,placeholder:"http://cdn.ss3.provider.endpoint.com",tip:"Optional URL that content should be accessed from instead of the default.  Used with CDNs and specific storage providers. Generally not required.",type:o.xA,pattern:i.ax,useTrim:!0},forcePathStyle:{fieldName:"forcePathStyle",label:"Force path-style",tip:"If your S3 provider doesn't support virtual-hosted-style URLs set this to ON (i.e. Oracle Cloud Object Storage)"}},he={webhookUrl:{fieldName:"webhook",label:"Webhook URL",maxLength:255,placeholder:"https://discord.com/api/webhooks/837/jf38-6iNEv",tip:"The webhook assigned to your channel.",type:o.xA,pattern:i.ax,useTrim:!0},goLiveMessage:{fieldName:"goLiveMessage",label:"Go Live Text",maxLength:300,tip:"The text to send when you go live.",placeholder:"I've gone live! Come watch!"}},me={goLiveMessage:{fieldName:"goLiveMessage",label:"Go Live Text",maxLength:200,tip:"The text to send when you go live.",placeholder:"I've gone live! Come watch!"}},pe={apiKey:{fieldName:"apiKey",label:"API Key",maxLength:200,tip:"",placeholder:"gaUQhRC2lqfrEFfElBXJgOctU"},apiSecret:{fieldName:"apiSecret",label:"API Secret",maxLength:200,tip:"",placeholder:"IIz4jFZMWbUKdFOEGUprFjRwIslG56d1SPQlolJYjXwJ2y2qKS"},accessToken:{fieldName:"accessToken",label:"Access Token",maxLength:200,tip:"",placeholder:"952540400-EEiwe9fkuSvWjnNC82YFa9kgpqbyAP3J7FjE2dkka"},accessTokenSecret:{fieldName:"accessTokenSecret",label:"Access Token Secret",maxLength:200,tip:"",placeholder:"xO0AZWNGfZxpNsYPg3zNEKhAsPPGvNZFlzQArA2khI9Kg"},bearerToken:{fieldName:"bearerToken",label:"Bearer Token",maxLength:200,tip:"",placeholder:"AAAAAAAAAAAAAAFqpXwEAAnnepHkjA8XD5ftx5jUadYIRtPtaq7AAAAwpXPpDWKDcdhiWr0tVDjsgW%2B4awGOM9VQ%3XPoMFuWcHsE42TK"},goLiveMessage:{fieldName:"goLiveMessage",label:"Go Live Text",maxLength:200,tip:"The text to send when you go live.",placeholder:"I've gone live! Come watch!"}}},60956:function(e,t,n){"use strict";n.d(t,{Z7:function(){return a},dr:function(){return s},kR:function(){return i},y3:function(){return o}});const a=2097152,s=["image/png","image/jpeg","image/gif"];function o(e,t){const n=new FileReader;n.addEventListener("load",(()=>t(n.result))),n.readAsDataURL(e)}function i(e){const t=Math.floor(Math.log(e)/Math.log(1024)),n=1*Number((e/Math.pow(1024,t)).toFixed(2));return"".concat(n," ").concat(["B","KB","MB","GB","TB","PB","EB","ZB","YB"][t])}},41983:function(e,t,n){"use strict";n.d(t,{Jk:function(){return u},Un:function(){return l},dG:function(){return h},kg:function(){return p},zv:function(){return d}});var a=n(85893),s=n(89739),o=n(21640),i=n(50888),r=n(28058);const l="error",c="invalid",u="proessing",d="success",h="warning",m={[d]:{type:d,icon:(0,a.jsx)(s.Z,{style:{color:"green"}}),message:"Success!"},[l]:{type:l,icon:(0,a.jsx)(o.Z,{style:{color:"red"}}),message:"An error occurred."},[c]:{type:c,icon:(0,a.jsx)(o.Z,{style:{color:"red"}}),message:"An error occurred."},[u]:{type:u,icon:(0,a.jsx)(i.Z,{}),message:""},[h]:{type:h,icon:(0,a.jsx)(r.Z,{style:{color:"#fc0"}}),message:""}};function p(e,t){return e&&m[e]?t?{type:e,icon:m[e].icon,message:t}:m[e]:null}},99519:function(e,t,n){"use strict";n.d(t,{aC:function(){return u}});var a=n(85893),s=n(67294),o=n(45697),i=n.n(o),r=n(64777);const l={streamKeys:[],adminPassword:"",instanceDetails:{customStyles:"",extraPageContent:"",logo:"",name:"",nsfw:!1,socialHandles:[],streamTitle:"",summary:"",tags:[],title:"",welcomeMessage:"",offlineMessage:"",appearanceVariables:{}},ffmpegPath:"",rtmpServerPort:"",webServerPort:"",socketHostOverride:null,s3:{accessKey:"",acl:"",bucket:"",enabled:!1,endpoint:"",region:"",secret:"",servingEndpoint:"",forcePathStyle:!1},yp:{enabled:!1,instanceUrl:""},videoSettings:{latencyLevel:4,cpuUsageLevel:3,videoQualityVariants:[n(90745).gX]},federation:{enabled:!1,isPrivate:!1,username:"",goLiveMessage:"",showEngagement:!0,blockedDomains:[]},notifications:{browser:{enabled:!1,goLiveMessage:""},discord:{enabled:!1,webhook:"",goLiveMessage:""},twitter:{enabled:!1,goLiveMessage:"",apiKey:"",apiSecret:"",accessToken:"",accessTokenSecret:"",bearerToken:""}},externalActions:[],supportedCodecs:[],videoCodec:"",forbiddenUsernames:[],suggestedUsernames:[],chatDisabled:!1,chatJoinMessagesEnabled:!0,chatEstablishedUserMode:!1,hideViewerCount:!1},c={broadcastActive:!1,broadcaster:null,currentBroadcast:null,online:!1,viewerCount:0,sessionMaxViewerCount:0,sessionPeakViewerCount:0,overallPeakViewerCount:0,versionNumber:"0.0.0",streamTitle:"",chatDisabled:!1,health:{healthy:!0,healthPercentage:100,message:"",representation:0}},u=s.createContext({...c,serverConfig:l,setFieldInConfigState:e=>null}),d=e=>{let{children:t}=e;const[n,o]=(0,s.useState)(c),[i,d]=(0,s.useState)(l),h=async()=>{try{const e=await(0,r.rQ)(r.Q_);o({...e})}catch(e){}};(0,s.useEffect)((()=>{let e=null;return h(),e=setInterval(h,r.NE),(async()=>{try{const e=await(0,r.rQ)(r.bl);d(e)}catch(e){}})(),()=>{clearInterval(e)}}),[]);const m={...n,serverConfig:i,setFieldInConfigState:e=>{let{fieldName:t,value:n,path:a}=e;const s=a?{...i,[a]:{...i[a],[t]:n}}:{...i,[t]:n};d(s)}};return(0,a.jsx)(u.Provider,{value:m,children:t})};d.propTypes={children:i().element.isRequired},t.ZP=d},37174:function(e,t,n){"use strict";n.d(t,{Kf:function(){return o},ax:function(){return a},bu:function(){return i},jv:function(){return s}});const a="https?://.*";function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["http:","https:"];try{const n=new URL(e);if(""===n.protocol||""===n.hostname||!t.includes(n.protocol))return!1}catch(n){return!1}return!0}function o(e,t){e.startsWith("@")&&(e=e.slice(1));const n=e.split(/:|@/),[a,s,o]=n;return console.log({account:e,protocol:t,service:a,user:s,host:o}),a===t&&!!(3===n.length&&a&&s&&o)}function i(e){if(!e.startsWith("matrix:"))return!1;(e=e.slice(7)).startsWith("@")&&(e=e.slice(1));const t=e.split(":"),[n,a]=t;return!(2!==t.length||!n||!a)}},69575:function(e){e.exports={colorPicker:"appearance_colorPicker__xsvcV"}}},function(e){e.O(0,[5762,5596,481,173,1407,4083,6880,3174,1577,6386,3013,3698,2459,8213,9915,715,5402,1908,575,7910,7916,2918,6155,9927,2776,9774,2888,179],(function(){return t=39856,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=general-d57283b3941f17c9.js.map