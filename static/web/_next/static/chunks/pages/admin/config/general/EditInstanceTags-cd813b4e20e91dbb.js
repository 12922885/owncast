(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4687],{5199:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/config/general/EditInstanceTags",function(){return s(99683)}])},80894:function(e,t,s){"use strict";s.d(t,{Q:function(){return u},Y:function(){return d}});var n=s(85893),a=s(67294),r=s(84485),i=s(20550),l=s(52018),o=s(39664);let{Title:c}=r.Z,u="#5a67d8",d=e=>{let{title:t,description:s,placeholder:r,maxLength:d,values:g,handleDeleteIndex:m,handleCreateString:h,submitStatus:v,continuousStatusMessage:f}=e,[p,y]=(0,a.useState)(""),w=e=>{let{value:t}=e;y(t)},x=()=>{let e=p.trim();h(e),y("")};return(0,n.jsxs)("div",{className:"edit-string-array-container",children:[(0,n.jsx)(c,{level:3,className:"section-title",children:t}),(0,n.jsx)("p",{className:"description",children:s}),(0,n.jsx)("div",{className:"edit-current-strings",children:null==g?void 0:g.map((e,t)=>{let s=()=>{m(t)};return(0,n.jsx)(i.Z,{closable:!0,onClose:s,color:u,children:e},"tag-".concat(e,"-").concat(t))})}),f&&(0,n.jsx)("div",{className:"continuous-status-section",children:(0,n.jsx)(o.E,{status:f})}),(0,n.jsx)("div",{className:"add-new-string-section",children:(0,n.jsx)(l.nv,{fieldName:"string-input",value:p,onChange:w,onPressEnter:x,maxLength:d,placeholder:r,status:v})})]})};d.defaultProps={maxLength:50,description:null,submitStatus:null,continuousStatusMessage:null}},99683:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return m}});var n=s(85893),a=s(67294),r=s(84485),i=s(20550),l=s(99519),o=s(90745),c=s(52018),u=s(41983),d=s(80894);let{Title:g}=r.Z;function m(){let[e,t]=(0,a.useState)(""),[s,r]=(0,a.useState)(null),m=(0,a.useContext)(l.aC),{serverConfig:h,setFieldInConfigState:v}=m||{},{instanceDetails:f}=h,{tags:p=[]}=f,{apiPath:y,maxLength:w,placeholder:x,configPath:b}=o.y_,C=null;(0,a.useEffect)(()=>()=>{clearTimeout(C)},[]);let j=()=>{r(null),clearTimeout(C=null)},N=async e=>{r((0,u.kg)(u.Jk)),await (0,o.Si)({apiPath:y,data:{value:e},onSuccess:()=>{v({fieldName:"tags",value:e,path:b}),r((0,u.kg)(u.zv,"Tags updated.")),t(""),C=setTimeout(j,o.sI)},onError:e=>{r((0,u.kg)(u.Un,e)),C=setTimeout(j,o.sI)}})},k=e=>{let{value:n}=e;s||r(null),t(n)},P=()=>{j();let t=e.trim();if(""===t){r((0,u.kg)(u.dG,"Please enter a tag"));return}if(p.some(e=>e.toLowerCase()===t.toLowerCase())){r((0,u.kg)(u.dG,"This tag is already used!"));return}let s=[...p,t];N(s)},S=e=>{j();let t=[...p];t.splice(e,1),N(t)};return(0,n.jsxs)("div",{className:"tag-editor-container",children:[(0,n.jsx)(g,{level:3,className:"section-title",children:"Add Tags"}),(0,n.jsx)("p",{className:"description",children:"This is a great way to categorize your Owncast server on the Directory!"}),(0,n.jsx)("div",{className:"edit-current-strings",children:p.map((e,t)=>{let s=()=>{S(t)};return(0,n.jsx)(i.Z,{closable:!0,onClose:s,color:d.Q,children:e},"tag-".concat(e,"-").concat(t))})}),(0,n.jsx)("div",{className:"add-new-string-section",children:(0,n.jsx)(c.nv,{fieldName:"tag-input",value:e,className:"new-tag-input",onChange:k,onPressEnter:P,maxLength:w,placeholder:x,status:s})})]})}},41983:function(e,t,s){"use strict";s.d(t,{Jk:function(){return u},Un:function(){return o},dG:function(){return g},kg:function(){return h},zv:function(){return d}});var n=s(85893),a=s(89739),r=s(21640),i=s(50888),l=s(28058);let o="error",c="invalid",u="proessing",d="success",g="warning",m={[d]:{type:d,icon:(0,n.jsx)(a.Z,{style:{color:"green"}}),message:"Success!"},[o]:{type:o,icon:(0,n.jsx)(r.Z,{style:{color:"red"}}),message:"An error occurred."},[c]:{type:c,icon:(0,n.jsx)(r.Z,{style:{color:"red"}}),message:"An error occurred."},[u]:{type:u,icon:(0,n.jsx)(i.Z,{}),message:""},[g]:{type:g,icon:(0,n.jsx)(l.Z,{style:{color:"#fc0"}}),message:""}};function h(e,t){return e&&m[e]?t?{type:e,icon:m[e].icon,message:t}:m[e]:null}},99519:function(e,t,s){"use strict";s.d(t,{aC:function(){return d}});var n=s(85893),a=s(67294),r=s(45697),i=s.n(r),l=s(64777),o=s(90745);let c={streamKeys:[],adminPassword:"",instanceDetails:{customStyles:"",extraPageContent:"",logo:"",name:"",nsfw:!1,socialHandles:[],streamTitle:"",summary:"",tags:[],title:"",welcomeMessage:"",offlineMessage:"",appearanceVariables:{}},ffmpegPath:"",rtmpServerPort:"",webServerPort:"",socketHostOverride:null,s3:{accessKey:"",acl:"",bucket:"",enabled:!1,endpoint:"",region:"",secret:"",servingEndpoint:"",forcePathStyle:!1},yp:{enabled:!1,instanceUrl:""},videoSettings:{latencyLevel:4,cpuUsageLevel:3,videoQualityVariants:[o.gX]},federation:{enabled:!1,isPrivate:!1,username:"",goLiveMessage:"",showEngagement:!0,blockedDomains:[]},notifications:{browser:{enabled:!1,goLiveMessage:""},discord:{enabled:!1,webhook:"",goLiveMessage:""},twitter:{enabled:!1,goLiveMessage:"",apiKey:"",apiSecret:"",accessToken:"",accessTokenSecret:"",bearerToken:""}},externalActions:[],supportedCodecs:[],videoCodec:"",forbiddenUsernames:[],suggestedUsernames:[],chatDisabled:!1,chatJoinMessagesEnabled:!0,chatEstablishedUserMode:!1,hideViewerCount:!1},u={broadcastActive:!1,broadcaster:null,currentBroadcast:null,online:!1,viewerCount:0,sessionMaxViewerCount:0,sessionPeakViewerCount:0,overallPeakViewerCount:0,versionNumber:"0.0.0",streamTitle:"",chatDisabled:!1,health:{healthy:!0,healthPercentage:100,message:"",representation:0}},d=a.createContext({...u,serverConfig:c,setFieldInConfigState:e=>null}),g=e=>{let{children:t}=e,[s,r]=(0,a.useState)(u),[i,o]=(0,a.useState)(c),g=async()=>{try{let e=await (0,l.rQ)(l.Q_);r({...e})}catch(t){}},m=async()=>{try{let e=await (0,l.rQ)(l.bl);o(e)}catch(t){}},h=e=>{let{fieldName:t,value:s,path:n}=e,a=n?{...i,[n]:{...i[n],[t]:s}}:{...i,[t]:s};o(a)};(0,a.useEffect)(()=>{let e=null;return g(),e=setInterval(g,l.NE),m(),()=>{clearInterval(e)}},[]);let v={...s,serverConfig:i,setFieldInConfigState:h};return(0,n.jsx)(d.Provider,{value:v,children:t})};g.propTypes={children:i().element.isRequired},t.ZP=g}},function(e){e.O(0,[481,5596,1407,173,611,1577,3763,4485,5212,7033,6427,745,9774,2888,179],function(){return e(e.s=5199)}),_N_E=e.O()}]);
//# sourceMappingURL=EditInstanceTags-cd813b4e20e91dbb.js.map