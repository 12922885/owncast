{"version":3,"file":"static/chunks/pages/admin/config-federation-03d8bf7a5d1069eb.js","mappings":"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","sources":["webpack://_N_E/?28df","webpack://_N_E/./pages/admin/config-federation.tsx","webpack://_N_E/<anon>"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/admin/config-federation\",\n      function () {\n        return require(\"private-next-pages/admin/config-federation.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/admin/config-federation\"])\n      });\n    }\n  ","/* eslint-disable react/no-unescaped-entities */\nimport { Typography, Modal, Button, Row, Col, Alert } from 'antd';\nimport React, { useContext, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  TEXTFIELD_TYPE_TEXT,\n  TEXTFIELD_TYPE_TEXTAREA,\n  TEXTFIELD_TYPE_URL,\n} from '../../components/admin/TextField';\nimport { TextFieldWithSubmit } from '../../components/admin/TextFieldWithSubmit';\nimport { ToggleSwitch } from '../../components/admin/ToggleSwitch';\nimport { EditValueArray } from '../../components/admin/EditValueArray';\nimport { UpdateArgs } from '../../types/config-section';\nimport {\n  FIELD_PROPS_ENABLE_FEDERATION,\n  TEXTFIELD_PROPS_FEDERATION_LIVE_MESSAGE,\n  TEXTFIELD_PROPS_FEDERATION_DEFAULT_USER,\n  FIELD_PROPS_FEDERATION_IS_PRIVATE,\n  FIELD_PROPS_SHOW_FEDERATION_ENGAGEMENT,\n  TEXTFIELD_PROPS_FEDERATION_INSTANCE_URL,\n  FIELD_PROPS_FEDERATION_BLOCKED_DOMAINS,\n  postConfigUpdateToAPI,\n  RESET_TIMEOUT,\n  API_FEDERATION_BLOCKED_DOMAINS,\n  FIELD_PROPS_FEDERATION_NSFW,\n} from '../../utils/config-constants';\nimport { ServerStatusContext } from '../../utils/server-status-context';\nimport { createInputStatus, STATUS_ERROR, STATUS_SUCCESS } from '../../utils/input-statuses';\n\nconst FederationInfoModal = ({ cancelPressed, okPressed }) => (\n  <Modal\n    width=\"70%\"\n    title=\"Enable Social Features\"\n    visible\n    onCancel={cancelPressed}\n    footer={\n      <div>\n        <Button onClick={cancelPressed}>Do not enable</Button>\n        <Button type=\"primary\" onClick={okPressed}>\n          Enable Social Features\n        </Button>\n      </div>\n    }\n  >\n    <Typography.Title level={3}>How do Owncast's social features work?</Typography.Title>\n    <Typography.Paragraph>\n      Owncast's social features are accomplished by having your server join The{' '}\n      <a href=\"https://en.wikipedia.org/wiki/Fediverse\" rel=\"noopener noreferrer\" target=\"_blank\">\n        Fediverse\n      </a>\n      , a decentralized, open, collection of independent servers, like yours.\n    </Typography.Paragraph>\n    Please{' '}\n    <a href=\"https://owncast.online/docs/social\" rel=\"noopener noreferrer\" target=\"_blank\">\n      read more\n    </a>{' '}\n    about these features, the details behind them, and how they work.\n    <Typography.Paragraph />\n    <Typography.Title level={3}>What do you need to know?</Typography.Title>\n    <ul>\n      <li>\n        These features are brand new. Given the variability of interfacing with the rest of the\n        world, bugs are possible. Please report anything that you think isn't working quite right.\n      </li>\n      <li>You must always host your Owncast server with SSL using a https url.</li>\n      <li>\n        You should not change your server name URL or social username once people begin following\n        you, as your server will be seen as a completely different user on the Fediverse, and the\n        old user will disappear.\n      </li>\n      <li>\n        Turning on <i>Private mode</i> will allow you to manually approve each follower and limit\n        the visibility of your posts to followers only.\n      </li>\n    </ul>\n    <Typography.Title level={3}>Learn more about The Fediverse</Typography.Title>\n    <Typography.Paragraph>\n      If these concepts are new you should discover more about what this functionality has to offer.\n      Visit{' '}\n      <a href=\"https://owncast.online/docs/social\" rel=\"noopener noreferrer\" target=\"_blank\">\n        our documentation\n      </a>{' '}\n      to be pointed at some resources that will help get you started on The Fediverse.\n    </Typography.Paragraph>\n  </Modal>\n);\n\nFederationInfoModal.propTypes = {\n  cancelPressed: PropTypes.func.isRequired,\n  okPressed: PropTypes.func.isRequired,\n};\n\nconst ConfigFederation = () => {\n  const { Title } = Typography;\n  const [formDataValues, setFormDataValues] = useState(null);\n  const [isInfoModalOpen, setIsInfoModalOpen] = useState(false);\n  const serverStatusData = useContext(ServerStatusContext);\n  const { serverConfig, setFieldInConfigState } = serverStatusData || {};\n  const [blockedDomainSaveState, setBlockedDomainSaveState] = useState(null);\n\n  const { federation, yp, instanceDetails } = serverConfig;\n  const { enabled, isPrivate, username, goLiveMessage, showEngagement, blockedDomains } =\n    federation;\n  const { instanceUrl } = yp;\n  const { nsfw } = instanceDetails;\n\n  const handleFieldChange = ({ fieldName, value }: UpdateArgs) => {\n    setFormDataValues({\n      ...formDataValues,\n      [fieldName]: value,\n    });\n  };\n\n  const handleEnabledSwitchChange = (value: boolean) => {\n    if (!value) {\n      setFormDataValues({\n        ...formDataValues,\n        enabled: false,\n      });\n    } else {\n      setIsInfoModalOpen(true);\n    }\n  };\n\n  // if instanceUrl is empty, we should also turn OFF the `enabled` field of directory.\n  const handleSubmitInstanceUrl = () => {\n    const hasInstanceUrl = formDataValues.instanceUrl !== '';\n    const isInstanceUrlSecure = formDataValues.instanceUrl.startsWith('https://');\n\n    if (!hasInstanceUrl || !isInstanceUrlSecure) {\n      postConfigUpdateToAPI({\n        apiPath: FIELD_PROPS_ENABLE_FEDERATION.apiPath,\n        data: { value: false },\n      });\n      setFormDataValues({\n        ...formDataValues,\n        enabled: false,\n      });\n    }\n  };\n\n  function federationInfoModalCancelPressed() {\n    setIsInfoModalOpen(false);\n    setFormDataValues({\n      ...formDataValues,\n      enabled: false,\n    });\n  }\n\n  function federationInfoModalOkPressed() {\n    setIsInfoModalOpen(false);\n    setFormDataValues({\n      ...formDataValues,\n      enabled: true,\n    });\n  }\n\n  function resetBlockedDomainsSaveState() {\n    setBlockedDomainSaveState(null);\n  }\n\n  function saveBlockedDomains() {\n    try {\n      postConfigUpdateToAPI({\n        apiPath: API_FEDERATION_BLOCKED_DOMAINS,\n        data: { value: formDataValues.blockedDomains },\n        onSuccess: () => {\n          setFieldInConfigState({\n            fieldName: 'forbiddenUsernames',\n            value: formDataValues.forbiddenUsernames,\n          });\n          setBlockedDomainSaveState(STATUS_SUCCESS);\n          setTimeout(resetBlockedDomainsSaveState, RESET_TIMEOUT);\n        },\n        onError: (message: string) => {\n          setBlockedDomainSaveState(createInputStatus(STATUS_ERROR, message));\n          setTimeout(resetBlockedDomainsSaveState, RESET_TIMEOUT);\n        },\n      });\n    } catch (e) {\n      console.error(e);\n      setBlockedDomainSaveState(STATUS_ERROR);\n    }\n  }\n\n  function handleDeleteBlockedDomain(index: number) {\n    formDataValues.blockedDomains.splice(index, 1);\n    saveBlockedDomains();\n  }\n\n  function handleCreateBlockedDomain(domain: string) {\n    let newDomain;\n    try {\n      const u = new URL(domain);\n      newDomain = u.host;\n    } catch (_) {\n      newDomain = domain;\n    }\n\n    formDataValues.blockedDomains.push(newDomain);\n    handleFieldChange({\n      fieldName: 'blockedDomains',\n      value: formDataValues.blockedDomains,\n    });\n    saveBlockedDomains();\n  }\n\n  useEffect(() => {\n    setFormDataValues({\n      enabled,\n      isPrivate,\n      username,\n      goLiveMessage,\n      showEngagement,\n      blockedDomains,\n      nsfw,\n      instanceUrl: yp.instanceUrl,\n    });\n  }, [serverConfig, yp]);\n\n  if (!formDataValues) {\n    return null;\n  }\n\n  const hasInstanceUrl = instanceUrl !== '';\n  const isInstanceUrlSecure = instanceUrl.startsWith('https://');\n  const configurationWarning = !isInstanceUrlSecure && (\n    <>\n      <Alert\n        message=\"You must set your server URL before you can enable this feature.\"\n        type=\"warning\"\n        showIcon\n      />\n      <br />\n      <TextFieldWithSubmit\n        fieldName=\"instanceUrl\"\n        {...TEXTFIELD_PROPS_FEDERATION_INSTANCE_URL}\n        value={formDataValues.instanceUrl}\n        initialValue={yp.instanceUrl}\n        type={TEXTFIELD_TYPE_URL}\n        onChange={handleFieldChange}\n        onSubmit={handleSubmitInstanceUrl}\n        required\n      />\n    </>\n  );\n\n  const invalidPortWarning = (\n    <Alert\n      message=\"Only Owncast instances available on the default SSL port 443 support this feature.\"\n      type=\"warning\"\n      showIcon\n    />\n  );\n\n  const hasInvalidPort =\n    instanceUrl && new URL(instanceUrl).port !== '' && new URL(instanceUrl).port !== '443';\n\n  return (\n    <div>\n      <Title>Configure Social Features</Title>\n      <p>\n        Owncast provides the ability for people to follow and engage with your instance. It's a\n        great way to promote alerting, sharing and engagement of your stream.\n      </p>\n      <p>\n        Once enabled you'll alert your followers when you go live as well as gain the ability to\n        compose custom posts to share any information you like.\n      </p>\n      <p>\n        <a href=\"https://owncast.online/docs/social\" rel=\"noopener noreferrer\" target=\"_blank\">\n          Read more about the specifics of these social features.\n        </a>\n      </p>\n      <Row>\n        <Col span={15} className=\"form-module\" style={{ marginRight: '15px' }}>\n          {configurationWarning}\n          {hasInvalidPort && invalidPortWarning}\n          <ToggleSwitch\n            fieldName=\"enabled\"\n            onChange={handleEnabledSwitchChange}\n            {...FIELD_PROPS_ENABLE_FEDERATION}\n            checked={formDataValues.enabled}\n            disabled={hasInvalidPort || !hasInstanceUrl || !isInstanceUrlSecure}\n          />\n          <ToggleSwitch\n            fieldName=\"isPrivate\"\n            {...FIELD_PROPS_FEDERATION_IS_PRIVATE}\n            checked={formDataValues.isPrivate}\n            disabled={!enabled}\n          />\n          <ToggleSwitch\n            fieldName=\"nsfw\"\n            useSubmit\n            {...FIELD_PROPS_FEDERATION_NSFW}\n            checked={formDataValues.nsfw}\n            disabled={hasInvalidPort || !hasInstanceUrl}\n          />\n          <TextFieldWithSubmit\n            required\n            fieldName=\"username\"\n            type={TEXTFIELD_TYPE_TEXT}\n            {...TEXTFIELD_PROPS_FEDERATION_DEFAULT_USER}\n            value={formDataValues.username}\n            initialValue={username}\n            onChange={handleFieldChange}\n            disabled={!enabled}\n          />\n          <TextFieldWithSubmit\n            fieldName=\"goLiveMessage\"\n            {...TEXTFIELD_PROPS_FEDERATION_LIVE_MESSAGE}\n            type={TEXTFIELD_TYPE_TEXTAREA}\n            value={formDataValues.goLiveMessage}\n            initialValue={goLiveMessage}\n            onChange={handleFieldChange}\n            disabled={!enabled}\n          />\n          <ToggleSwitch\n            fieldName=\"showEngagement\"\n            {...FIELD_PROPS_SHOW_FEDERATION_ENGAGEMENT}\n            checked={formDataValues.showEngagement}\n            disabled={!enabled}\n          />\n        </Col>\n        <Col span={8} className=\"form-module\">\n          <EditValueArray\n            title={FIELD_PROPS_FEDERATION_BLOCKED_DOMAINS.label}\n            placeholder={FIELD_PROPS_FEDERATION_BLOCKED_DOMAINS.placeholder}\n            description={FIELD_PROPS_FEDERATION_BLOCKED_DOMAINS.tip}\n            values={formDataValues.blockedDomains}\n            handleDeleteIndex={handleDeleteBlockedDomain}\n            handleCreateString={handleCreateBlockedDomain}\n            submitStatus={createInputStatus(blockedDomainSaveState)}\n          />\n        </Col>\n      </Row>\n      {isInfoModalOpen && (\n        <FederationInfoModal\n          cancelPressed={federationInfoModalCancelPressed}\n          okPressed={federationInfoModalOkPressed}\n        />\n      )}\n    </div>\n  );\n};\nexport default ConfigFederation;\n"],"names":["window","__NEXT_P","push","__webpack_require__","FederationInfoModal","cancelPressed","okPressed","param","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsxs","Modal","width","title","visible","onCancel","footer","div","jsx","Button","onClick","type","Typography","level","a","href","rel","target","ul","li","i","propTypes","PropTypes","ConfigFederation","Title","formDataValues","setFormDataValues","useState","isInfoModalOpen","setIsInfoModalOpen","serverStatusData","useContext","ServerStatusContext","serverConfig","setFieldInConfigState","blockedDomainSaveState","setBlockedDomainSaveState","federation","yp","instanceDetails","enabled","isPrivate","username","goLiveMessage","showEngagement","blockedDomains","instanceUrl","nsfw","handleFieldChange","fieldName","value","handleEnabledSwitchChange","handleSubmitInstanceUrl","hasInstanceUrl","isInstanceUrlSecure","startsWith","postConfigUpdateToAPI","apiPath","FIELD_PROPS_ENABLE_FEDERATION","data","resetBlockedDomainsSaveState","saveBlockedDomains","API_FEDERATION_BLOCKED_DOMAINS","onSuccess","forbiddenUsernames","STATUS_SUCCESS","setTimeout","RESET_TIMEOUT","onError","createInputStatus","STATUS_ERROR","message","e","console","error","useEffect","configurationWarning","Fragment","Alert","showIcon","br","TextFieldWithSubmit","TEXTFIELD_PROPS_FEDERATION_INSTANCE_URL","initialValue","TEXTFIELD_TYPE_URL","onChange","onSubmit","required","invalidPortWarning","hasInvalidPort","URL","port","p","Row","Col","span","className","style","marginRight","ToggleSwitch","checked","disabled","FIELD_PROPS_FEDERATION_IS_PRIVATE","useSubmit","FIELD_PROPS_FEDERATION_NSFW","TEXTFIELD_TYPE_TEXT","TEXTFIELD_PROPS_FEDERATION_DEFAULT_USER","TEXTFIELD_PROPS_FEDERATION_LIVE_MESSAGE","TEXTFIELD_TYPE_TEXTAREA","FIELD_PROPS_SHOW_FEDERATION_ENGAGEMENT","EditValueArray","FIELD_PROPS_FEDERATION_BLOCKED_DOMAINS","placeholder","description","values","handleDeleteIndex","index","splice","handleCreateString","domain","newDomain","u","host","_","submitStatus","__webpack_exports__"],"sourceRoot":""}