(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9262],{70918:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/upgrade",function(){return e(97644)}])},97644:function(n,t,e){"use strict";e.r(t);var r=e(85893),c=e(67294),o=e(21364),a=e(84485),u=e(81025),s=e(64777);let{Title:i}=a.Z,l=n=>{let t=Object.values(n);return(0,r.jsx)(u.Z,{dataSource:t,columns:[{title:"Name",dataIndex:"name",key:"name",render:(n,t)=>(0,r.jsx)("a",{href:t.browser_download_url,children:n})},{title:"Size",dataIndex:"size",key:"size",render:n=>"".concat((n/1024/1024).toFixed(2)," MB")}],rowKey:n=>n.id,size:"large",pagination:!1})},f=()=>{let[n,t]=(0,c.useState)({html_url:"",name:"",created_at:null,body:"",assets:[]}),e=async()=>{try{let n=await (0,s.Kt)();t(n)}catch(e){console.log("==== error",e)}};return((0,c.useEffect)(()=>{e()},[]),n)?(0,r.jsxs)("div",{className:"upgrade-page",children:[(0,r.jsx)(i,{level:2,children:(0,r.jsx)("a",{href:n.html_url,children:n.name})}),(0,r.jsx)(i,{level:5,children:new Date(n.created_at).toDateString()}),(0,r.jsx)(o.D,{children:n.body}),(0,r.jsx)("h3",{children:"Downloads"}),(0,r.jsx)(l,{...n.assets})]}):null};t.default=f},64777:function(n,t,e){"use strict";e.d(t,{$i:function(){return G},$l:function(){return $},Bu:function(){return _},E8:function(){return z},Ff:function(){return I},GC:function(){return y},GR:function(){return Y},HP:function(){return P},IO:function(){return B},Kp:function(){return w},Kt:function(){return J},M_:function(){return S},N$:function(){return Q},NE:function(){return s},NM:function(){return p},Q_:function(){return i},Qc:function(){return x},RB:function(){return g},UJ:function(){return U},WB:function(){return a},WE:function(){return N},WQ:function(){return v},Wr:function(){return T},XA:function(){return M},Y9:function(){return C},a_:function(){return h},ao:function(){return f},bl:function(){return l},e_:function(){return O},hn:function(){return j},iG:function(){return D},iV:function(){return d},jr:function(){return b},kb:function(){return K},kg:function(){return F},ms:function(){return A},nx:function(){return k},op:function(){return X},qk:function(){return m},rQ:function(){return W},sG:function(){return E},um:function(){return R}});var r=e(34155);let c=r.env.NEXT_PUBLIC_ADMIN_USERNAME,o=r.env.NEXT_PUBLIC_ADMIN_STREAMKEY,a="/",u="".concat(a,"api/admin/"),s=15e3,i="".concat(u,"status"),l="".concat(u,"serverconfig"),f="".concat(u,"config"),d="".concat(u,"viewersOverTime"),h="".concat(u,"viewers"),w="".concat(u,"chat/clients"),m="".concat(u,"chat/users/disabled"),p="".concat(u,"chat/users/setenabled"),_="".concat(u,"chat/users/ipbans"),g="".concat(u,"chat/users/ipbans/remove"),b="".concat(u,"chat/users/setmoderator"),y="".concat(u,"chat/users/moderators"),k="".concat(u,"hardwarestats"),E="".concat(u,"logs"),v="".concat(u,"logs/warnings"),N="".concat(u,"chat/messages"),j="/api/admin/chat/messagevisibility",x="".concat(u,"emoji/upload"),I="".concat(u,"emoji/delete"),A="".concat(u,"accesstokens"),T="".concat(u,"accesstokens/delete"),B="".concat(u,"accesstokens/create"),M="".concat(u,"webhooks"),S="".concat(u,"webhooks/delete"),D="".concat(u,"webhooks/create"),G="".concat(a,"api/socialplatforms"),O="".concat(u,"federation/send"),P="".concat(u,"followers"),z="".concat(u,"followers/pending"),C="".concat(u,"followers/blocked"),K="".concat(u,"followers/approve"),X="".concat(u,"federation/actions"),Q="".concat(u,"metrics/video"),R="".concat(u,"config/streamkeys"),U="".concat(u,"yp/reset");async function W(n,t){let{data:e,method:r="GET",auth:a=!0}=t||{},u={method:r};if(e&&(u.body=JSON.stringify(e)),a&&c&&o){let s=btoa("".concat(c,":").concat(o));u.headers={Authorization:"Basic ".concat(s)},u.mode="cors",u.credentials="include"}try{let i=await fetch(n,u),l=await i.json();if(!i.ok){let f=l.message||"An error has occurred: ".concat(i.status);throw Error(f)}return l}catch(d){return console.error(d),d}}async function $(n,t){let e={method:"GET",auth:!1,...t};return W(n,e)}async function F(n){try{let t=await fetch(n,{referrerPolicy:"no-referrer",referrer:""});if(!t.ok){let e="An error has occured: ".concat(t.status);throw Error(e)}let r=await t.json();return r}catch(c){console.log(c)}return{}}async function J(){return F("https://api.github.com/repos/owncast/owncast/releases/latest")}let L=/^\d+(\.\d+){0,2}$/;async function Y(n){let t=await J(),e=t.tag_name;return("v"===e.substr(0,1)&&(e=e.substr(1)),!function(n,t){if(!n||!t||0===n.length||0===t.length)return!1;if(n===t)return!0;if(L.test(n)&&L.test(t)){let e=n.split(".");for(;e.length<3;)e.push("0");let r=t.split(".");for(;r.length<3;)r.push("0");for(let c=0;c<3;c++){let o=parseInt(e[c],10),a=parseInt(r[c],10);if(o!==a)return o>a}return!0}return n>=t}(n,e))?e:null}}},function(n){n.O(0,[481,5596,1407,173,611,1577,3763,4485,5212,4759,8909,3903,3698,3461,5349,9774,2888,179],function(){return n(n.s=70918)}),_N_E=n.O()}]);
//# sourceMappingURL=upgrade-f9dc28769ce21c44.js.map