(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4311],{86045:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/config-public-details",function(){return t(42992)}])},80939:function(e,n,t){"use strict";t.d(n,{Q:function(){return u},Y:function(){return d}});var a=t(85893),s=t(67294),i=t(84485),r=t(20550),l=t(24389),o=t(25521),c=i.Z.Title,u="#5a67d8",d=function(e){var n=e.title,t=e.description,i=e.placeholder,d=e.maxLength,f=e.values,h=e.handleDeleteIndex,m=e.handleCreateString,p=e.submitStatus,g=e.continuousStatusMessage,v=(0,s.useState)(""),x=v[0],j=v[1];return(0,a.jsxs)("div",{className:"edit-string-array-container",children:[(0,a.jsx)(c,{level:3,className:"section-title",children:n}),(0,a.jsx)("p",{className:"description",children:t}),(0,a.jsx)("div",{className:"edit-current-strings",children:null===f||void 0===f?void 0:f.map((function(e,n){return(0,a.jsx)(r.Z,{closable:!0,onClose:function(){h(n)},color:u,children:e},"tag-".concat(e,"-").concat(n))}))}),g&&(0,a.jsx)("div",{className:"continuous-status-section",children:(0,a.jsx)(o.E,{status:g})}),(0,a.jsx)("div",{className:"add-new-string-section",children:(0,a.jsx)(l.nv,{fieldName:"string-input",value:x,onChange:function(e){var n=e.value;j(n)},onPressEnter:function(){var e=x.trim();m(e),j("")},maxLength:d,placeholder:i,status:p})})]})};d.defaultProps={maxLength:50,description:null,submitStatus:null,continuousStatusMessage:null}},3664:function(e,n,t){"use strict";t.d(n,{Z:function(){return h}});var a=t(47568),s=t(34051),i=t.n(s),r=t(85893),l=t(67294),o=t(94594),c=t(83192),u=t(25521),d=t(25964),f=t(35159),h=function(e){var n=e.apiPath,t=e.checked,s=e.reversed,h=void 0!==s&&s,m=e.configPath,p=void 0===m?"":m,g=e.disabled,v=void 0!==g&&g,x=e.fieldName,j=e.label,N=e.tip,C=e.useSubmit,S=e.onChange,k=(0,l.useState)(null),w=k[0],y=k[1],b=null,Z=((0,l.useContext)(f.aC)||{}).setFieldInConfigState,T=function(){y(null),clearTimeout(b),b=null},P=function(){var e=(0,a.Z)(i().mark((function e(t){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!C){e.next=6;break}return y((0,c.kg)(c.Jk)),a=h?!t:t,e.next=5,(0,d.Si)({apiPath:n,data:{value:a},onSuccess:function(){Z({fieldName:x,value:a,path:p}),y((0,c.kg)(c.zv))},onError:function(e){y((0,c.kg)(c.Un,"There was an error: ".concat(e)))}});case 5:b=setTimeout(T,d.sI);case 6:S&&S(t);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),E=null!==w&&w.type===c.Jk;return(0,r.jsxs)("div",{className:"formfield-container toggleswitch-container",children:[j&&(0,r.jsx)("div",{className:"label-side",children:(0,r.jsx)("span",{className:"formfield-label",children:j})}),(0,r.jsxs)("div",{className:"input-side",children:[(0,r.jsxs)("div",{className:"input-group",children:[(0,r.jsx)(o.Z,{className:"switch field-".concat(x),loading:E,onChange:P,defaultChecked:t,checked:t,checkedChildren:"ON",unCheckedChildren:"OFF",disabled:v}),(0,r.jsx)(u.E,{status:w})]}),(0,r.jsx)("p",{className:"field-tip",children:N})]})]})};h.defaultProps={apiPath:"",checked:!1,reversed:!1,configPath:"",disabled:!1,label:"",tip:"",useSubmit:!1,onChange:null}},42992:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return G}});var a=t(85893),s=t(67294),i=t(84485),r=t(14924),l=t(26042),o=t(69396),c=t(45200),u=t(35159),d=t(25964),f=t(3664),h=t(47568),m=t(34051),p=t.n(m),g=t(77916),v=t(71577),x=t(50888),j=t(88484),N=t(25521),C=t(83192),S=t(58827),k=["image/png","image/jpeg","image/gif"];var w=function(){var e,n=(0,s.useState)(null),t=n[0],i=n[1],r=(0,s.useState)(!1),l=r[0],o=r[1],c=(0,s.useState)(0),f=c[0],m=c[1],w=(0,s.useContext)(u.aC)||{},y=w.setFieldInConfigState,b=w.serverConfig,Z=null===b||void 0===b||null===(e=b.instanceDetails)||void 0===e?void 0:e.logo,T=(0,s.useState)(null),P=T[0],E=T[1],_=null,L=d.ZQ.apiPath,U=d.ZQ.tip,I=function(){E(null),clearTimeout(_),_=null},D=function(){var e=(0,h.Z)(p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===Z){e.next=5;break}return E((0,C.kg)(C.Jk)),e.next=4,(0,d.Si)({apiPath:L,data:{value:t},onSuccess:function(){y({fieldName:"logo",value:t,path:""}),E((0,C.kg)(C.zv)),o(!1),m(Math.floor(100*Math.random()))},onError:function(e){E((0,C.kg)(C.Un,"There was an error: ".concat(e))),o(!1)}});case 4:_=setTimeout(I,d.sI);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F="".concat(S.WB,"logo?random=").concat(f);return(0,a.jsxs)("div",{className:"formfield-container logo-upload-container",children:[(0,a.jsx)("div",{className:"label-side",children:(0,a.jsx)("span",{className:"formfield-label",children:"Logo"})}),(0,a.jsxs)("div",{className:"input-side",children:[(0,a.jsxs)("div",{className:"input-group",children:[(0,a.jsx)("img",{src:F,alt:"avatar",className:"logo-preview"}),(0,a.jsx)(g.Z,{name:"logo",listType:"picture",className:"avatar-uploader",showUploadList:!1,accept:k.join(","),beforeUpload:function(e){return o(!0),new Promise((function(n,t){if(!k.includes(e.type)){var a="File type is not supported: ".concat(e.type);return E((0,C.kg)(C.Un,"There was an error: ".concat(a))),_=setTimeout(I,d.sI),o(!1),t()}!function(e,n){var t=new FileReader;t.addEventListener("load",(function(){return n(t.result)})),t.readAsDataURL(e)}(e,(function(e){return i(e),n()}))}))},customRequest:D,disabled:l,children:l?(0,a.jsx)(x.Z,{style:{color:"white"}}):(0,a.jsx)(v.Z,{icon:(0,a.jsx)(j.Z,{})})})]}),(0,a.jsx)(N.E,{status:P}),(0,a.jsx)("p",{className:"field-tip",children:U})]})]})},y=i.Z.Title,b=function(){var e=(0,s.useState)(null),n=e[0],t=e[1],i=((0,s.useContext)(u.aC)||{}).serverConfig,h=i.instanceDetails,m=i.yp,p=m.instanceUrl;if((0,s.useEffect)((function(){t((0,l.Z)({},h,m))}),[h,m]),!n)return null;var g=function(e){var a=e.fieldName,s=e.value;t((0,o.Z)((0,l.Z)({},n),(0,r.Z)({},a,s)))},v=""!==p;return(0,a.jsxs)("div",{className:"edit-general-settings",children:[(0,a.jsx)(y,{level:3,className:"section-title",children:"Configure Instance Details"}),(0,a.jsx)("br",{}),(0,a.jsx)(c.$7,(0,o.Z)((0,l.Z)({fieldName:"name"},d.RE),{value:n.name,initialValue:h.name,onChange:g})),(0,a.jsx)(c.$7,(0,o.Z)((0,l.Z)({fieldName:"instanceUrl"},d.cj),{value:n.instanceUrl,initialValue:m.instanceUrl,type:c.xA,onChange:g,onSubmit:function(){""===n.instanceUrl&&!0===m.enabled&&(0,d.Si)({apiPath:d.AP,data:{value:!1}})}})),(0,a.jsx)(c.$7,(0,o.Z)((0,l.Z)({fieldName:"summary"},d.rs),{type:c.Sk,value:n.summary,initialValue:h.summary,onChange:g})),(0,a.jsx)(c.$7,(0,o.Z)((0,l.Z)({fieldName:"offlineMessage"},d.rd),{type:c.Sk,value:n.offlineMessage,initialValue:h.offlineMessage,onChange:g})),(0,a.jsx)(w,{}),(0,a.jsx)(f.Z,(0,o.Z)((0,l.Z)({fieldName:"hideViewerCount",useSubmit:!0},d._X),{checked:n.hideViewerCount,onChange:function(e){g({fieldName:"hideViewerCount",value:e})}})),(0,a.jsx)("br",{}),(0,a.jsxs)("p",{className:"description",children:["Increase your audience by appearing in the"," ",(0,a.jsx)("a",{href:"https://directory.owncast.online",target:"_blank",rel:"noreferrer",children:(0,a.jsx)("strong",{children:"Owncast Directory"})}),". This is an external service run by the Owncast project."," ",(0,a.jsx)("a",{href:"https://owncast.online/docs/directory/?source=admin",target:"_blank",rel:"noopener noreferrer",children:"Learn more"}),"."]}),!m.instanceUrl&&(0,a.jsxs)("p",{className:"description",children:["You must set your ",(0,a.jsx)("strong",{children:"Server URL"})," above to enable the directory."]}),(0,a.jsxs)("div",{className:"config-yp-container",children:[(0,a.jsx)(f.Z,(0,o.Z)((0,l.Z)({fieldName:"enabled",useSubmit:!0},d.P),{checked:n.enabled,disabled:!v})),(0,a.jsx)(f.Z,(0,o.Z)((0,l.Z)({fieldName:"nsfw",useSubmit:!0},d.EY),{checked:n.nsfw,disabled:!v}))]})]})},Z=t(29815),T=t(20550),P=t(24389),E=t(80939),_=i.Z.Title,L=function(){var e=(0,s.useState)(""),n=e[0],t=e[1],i=(0,s.useState)(null),r=i[0],l=i[1],o=(0,s.useContext)(u.aC)||{},c=o.serverConfig,f=o.setFieldInConfigState,m=c.instanceDetails.tags,g=void 0===m?[]:m,v=d.y_.apiPath,x=d.y_.maxLength,j=d.y_.placeholder,N=d.y_.configPath,S=null;(0,s.useEffect)((function(){return function(){clearTimeout(S)}}),[]);var k=function(){l(null),S=null,clearTimeout(S)},w=function(){var e=(0,h.Z)(p().mark((function e(n){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l((0,C.kg)(C.Jk)),e.next=3,(0,d.Si)({apiPath:v,data:{value:n},onSuccess:function(){f({fieldName:"tags",value:n,path:N}),l((0,C.kg)(C.zv,"Tags updated.")),t(""),S=setTimeout(k,d.sI)},onError:function(e){l((0,C.kg)(C.Un,e)),S=setTimeout(k,d.sI)}});case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,a.jsxs)("div",{className:"tag-editor-container",children:[(0,a.jsx)(_,{level:3,className:"section-title",children:"Add Tags"}),(0,a.jsx)("p",{className:"description",children:"This is a great way to categorize your Owncast server on the Directory!"}),(0,a.jsx)("div",{className:"edit-current-strings",children:g.map((function(e,n){return(0,a.jsx)(T.Z,{closable:!0,onClose:function(){!function(e){k();var n=(0,Z.Z)(g);n.splice(e,1),w(n)}(n)},color:E.Q,children:e},"tag-".concat(e,"-").concat(n))}))}),(0,a.jsx)("div",{className:"add-new-string-section",children:(0,a.jsx)(P.nv,{fieldName:"tag-input",value:n,className:"new-tag-input",onChange:function(e){var n=e.value;r||l(null),t(n)},onPressEnter:function(){k();var e=n.trim();if(""!==e)if(g.some((function(n){return n.toLowerCase()===e.toLowerCase()})))l((0,C.kg)(C.dG,"This tag is already used!"));else{var t=(0,Z.Z)(g).concat([e]);w(t)}else l((0,C.kg)(C.dG,"Please enter a tag"))},maxLength:x,placeholder:j,status:r})})]})},U=t(72877),I=t(5152),D=t.n(I),F=t(9980),M=t.n(F),z=(t(69596),new(M())),O=D()((function(){return t.e(7610).then(t.bind(t,77610))}),{loadableGenerated:{webpack:function(){return[77610]}},ssr:!1}),V=i.Z.Title,A=function(){var e=(0,s.useState)(""),n=e[0],t=e[1],i=(0,s.useState)(null),r=i[0],l=i[1],o=(0,s.useState)(!1),c=o[0],f=o[1],m=(0,s.useContext)(u.aC)||{},g=m.serverConfig,x=m.setFieldInConfigState,j=g.instanceDetails,S=j.extraPageContent,k=null,w=function(){l(null),f(!1),clearTimeout(k),k=null};function y(){return(y=(0,h.Z)(p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l((0,C.kg)(C.Jk)),e.next=3,(0,d.Si)({apiPath:d.AA,data:{value:n},onSuccess:function(e){x({fieldName:"extraPageContent",value:n,path:"instanceDetails"}),l((0,C.kg)(C.zv,e))},onError:function(e){l((0,C.kg)(C.Un,e))}});case 3:k=setTimeout(w,d.sI);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,s.useEffect)((function(){t(S)}),[j]),(0,a.jsxs)("div",{className:"edit-page-content",children:[(0,a.jsx)(V,{level:3,className:"section-title",children:"Custom Page Content"}),(0,a.jsxs)("p",{className:"description",children:["Edit the content of your page by using simple"," ",(0,a.jsx)("a",{href:"https://www.markdownguide.org/basic-syntax/",target:"_blank",rel:"noopener noreferrer",children:"Markdown syntax"}),"."]}),(0,a.jsx)(O,{style:{height:"30em"},value:n,renderHTML:function(e){return z.render(e)},onChange:function(e){var n=e.text;t(n),n===S||c?n===S&&c&&f(!1):f(!0)},config:{htmlClass:"markdown-editor-preview-pane",markdownClass:"markdown-editor-pane"}}),(0,a.jsx)("br",{}),(0,a.jsxs)("div",{className:"page-content-actions",children:[c&&(0,a.jsx)(v.Z,{type:"primary",onClick:function(){return y.apply(this,arguments)},children:"Save"}),(0,a.jsx)(N.E,{status:r})]})]})},J=i.Z.Title,R=function(){var e=(0,s.useState)(""),n=e[0],t=e[1],i=(0,s.useState)(null),r=i[0],l=i[1],o=(0,s.useState)(!1),c=o[0],f=o[1],m=(0,s.useContext)(u.aC)||{},g=m.serverConfig,x=m.setFieldInConfigState,j=g.instanceDetails,S=j.customStyles,k=null,w=function(){l(null),f(!1),clearTimeout(k),k=null};function y(){return(y=(0,h.Z)(p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l((0,C.kg)(C.Jk)),e.next=3,(0,d.Si)({apiPath:d.d$,data:{value:n},onSuccess:function(e){x({fieldName:"customStyles",value:n,path:"instanceDetails"}),l((0,C.kg)(C.zv,e))},onError:function(e){l((0,C.kg)(C.Un,e))}});case 3:k=setTimeout(w,d.sI);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,s.useEffect)((function(){t(S)}),[j]),(0,a.jsxs)("div",{className:"edit-custom-css",children:[(0,a.jsx)(J,{level:3,className:"section-title",children:"Customize your page styling with CSS"}),(0,a.jsxs)("p",{className:"description",children:["Customize the look and feel of your Owncast instance by overriding the CSS styles of various components on the page. Refer to the"," ",(0,a.jsx)("a",{href:"https://owncast.online/docs/website/",rel:"noopener noreferrer",target:"_blank",children:"CSS & Components guide"}),"."]}),(0,a.jsx)("p",{className:"description",children:"Please input plain CSS text, as this will be directly injected onto your page during load."}),(0,a.jsx)(P.nv,{fieldName:"customStyles",type:P.Sk,value:n,maxLength:null,onChange:function(e){var n=e.value;t(n),n===S||c?n===S&&c&&f(!1):f(!0)},placeholder:"/* Enter custom CSS here */"}),(0,a.jsx)("br",{}),(0,a.jsxs)("div",{className:"page-content-actions",children:[c&&(0,a.jsx)(v.Z,{type:"primary",onClick:function(){return y.apply(this,arguments)},children:"Save"}),(0,a.jsx)(N.E,{status:r})]})]})},$=i.Z.Title;function G(){return(0,a.jsxs)("div",{className:"config-public-details-page",children:[(0,a.jsx)($,{children:"General Settings"}),(0,a.jsxs)("p",{className:"description",children:["The following are displayed on your site to describe your stream and its content."," ",(0,a.jsx)("a",{href:"https://owncast.online/docs/website/?source=admin",target:"_blank",rel:"noopener noreferrer",children:"Learn more."})]}),(0,a.jsxs)("div",{className:"top-container",children:[(0,a.jsx)("div",{className:"form-module instance-details-container",children:(0,a.jsx)(b,{})}),(0,a.jsxs)("div",{className:"form-module social-items-container ",children:[(0,a.jsx)("div",{className:"form-module tags-module",children:(0,a.jsx)(L,{})}),(0,a.jsx)("div",{className:"form-module social-handles-container",children:(0,a.jsx)(U.h,{})})]})]}),(0,a.jsx)("div",{className:"form-module page-content-module",children:(0,a.jsx)(A,{})}),(0,a.jsx)("div",{className:"form-module page-content-module",children:(0,a.jsx)(R,{})})]})}}},function(e){e.O(0,[7330,7266,355,7910,927,2877,9774,2888,179],(function(){return n=86045,e(e.s=n);var n}));var n=e.O();_N_E=n}]);