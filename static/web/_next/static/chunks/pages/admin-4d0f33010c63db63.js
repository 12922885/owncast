(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6964,745],{64830:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return n(95689)}])},22825:function(e,t){"use strict";t.Z={src:"/_next/static/media/fediverse-black.0b51c805.png",height:100,width:100,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAOVBMVEVMaXEbGxsREREQEBAPDw8NDQ0FBQUQEBAQEBAUFBQNDQ0REREVFRUQEBAODg4UFBQUFBQHBwcNDQ1DUQGwAAAAE3RSTlMAC2QvWeDEnZQbSn15tW2ri/pAr8wTOgAAAAlwSFlzAAALEwAACxMBAJqcGAAAAD1JREFUeJwdy0cOgDAMAMGNS2yHFPj/Z0GcRwMwegNaWbgB3WfmZSArZd7eqR0qEYM6GT/pc/bygqal8v0XMgEBhHcrytIAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},73615:function(e,t,n){"use strict";n.d(t,{E:function(){return i}});var a=n(85893);n(67294);var s=n(94184),r=n.n(s);let i=e=>{let{status:t}=e,{type:n,icon:s,message:i}=t||{},o=r()({"status-container":!0,["status-".concat(n)]:n,empty:!i});return(0,a.jsxs)("span",{className:o,children:[s?(0,a.jsx)("span",{className:"status-icon",children:s}):null,i?(0,a.jsx)("span",{className:"status-message",children:i}):null]})};t.Z=i},82536:function(e,t,n){"use strict";n.d(t,{o:function(){return h}});var a=n(85893);n(67294);var s=n(6880),r=n(20550),i=n(48213),o=n(53731),l=n(58091);let{Title:c}=s.Z;function u(e,t){let n="black";return"warning"===t.level?n="orange":"error"===t.level&&(n="red"),(0,a.jsx)(r.Z,{color:n,children:e})}function d(e){return(0,a.jsx)(o.Z,{children:e})}let h=e=>{let{logs:t,pageSize:n}=e;return(null==t?void 0:t.length)?(0,a.jsxs)("div",{className:"logs-section",children:[(0,a.jsx)(c,{children:"Logs"}),(0,a.jsx)(i.Z,{size:"middle",dataSource:t,columns:[{title:"Level",dataIndex:"level",key:"level",filters:[{text:"Info",value:"info"},{text:"Warning",value:"warning"},{text:"Error",value:"Error"}],onFilter:(e,t)=>0===t.level.indexOf(e),render:u},{title:"Timestamp",dataIndex:"time",key:"time",render:e=>{let t=new Date(e);return(0,l.Z)(t,"pp P")},sorter:(e,t)=>new Date(e.time).getTime()-new Date(t.time).getTime(),sortDirections:["descend","ascend"],defaultSortOrder:"descend"},{title:"Message",dataIndex:"message",key:"message",render:d}],rowKey:e=>e.time,pagination:{pageSize:n||20}})]}):null}},44654:function(e,t,n){"use strict";n.d(t,{j:function(){return g}});var a=n(85893),s=n(8751),r=n(11475),i=n(71230),o=n(15746),l=n(74763),c=n(6880),u=n(14670),d=n(71577),h=n(41664),f=n.n(h),m=n(67294),p=n(99519);let g=e=>{let{showTroubleshootButton:t}=e,n=(0,m.useContext)(p.aC),{health:h}=n;if(!h)return null;let{healthy:g,healthPercentage:x,message:y,representation:v}=h,j="#3f8600",b="info";return x<80?(j="#cf000f",b="error"):x<30&&(j="#f0ad4e",b="error"),(0,a.jsxs)("div",{children:[(0,a.jsxs)(i.Z,{gutter:8,children:[(0,a.jsx)(o.Z,{span:12,children:(0,a.jsx)(l.Z,{title:"Healthy Stream",value:g?"Yes":"No",valueStyle:{color:j},prefix:g?(0,a.jsx)(s.Z,{}):(0,a.jsx)(r.Z,{})})}),(0,a.jsx)(o.Z,{span:12,children:(0,a.jsx)(l.Z,{title:"Playback Health",value:x,valueStyle:{color:j},suffix:"%"})})]}),(0,a.jsx)(i.Z,{style:{display:v<100&&0!==v?"grid":"none"},children:(0,a.jsxs)(c.Z.Text,{type:"secondary",style:{textAlign:"center",fontSize:"0.7em",opacity:"0.3"},children:["Stream health represents ",v,"% of all known players. Other player status is unknown."]})}),(0,a.jsx)(i.Z,{gutter:16,style:{width:"100%",display:y?"grid":"none",marginTop:"10px"},children:(0,a.jsx)(o.Z,{span:24,children:(0,a.jsx)(u.Z,{message:y,type:b,showIcon:!0,action:t&&(0,a.jsx)(f(),{passHref:!0,href:"/stream-health",children:(0,a.jsx)(d.Z,{size:"small",type:"text",style:{color:"black"},children:"TROUBLESHOOT"})})})})})]})};g.defaultProps={showTroubleshootButton:!0}},79139:function(e,t,n){"use strict";n.d(t,{A8:function(){return u},Kx:function(){return c},Sk:function(){return h},mG:function(){return d},nv:function(){return m},xA:function(){return f}});var a=n(85893);n(67294);var s=n(94184),r=n.n(s),i=n(69677),o=n(79915),l=n(73615);let c="default",u="password",d="numeric",h="textarea",f="url",m=e=>{let{className:t,disabled:n,fieldName:s,label:c,maxLength:m,onBlur:p,onChange:g,onPressEnter:x,pattern:y,placeholder:v,required:j,status:b,tip:w,type:k,useTrim:A,value:N}=e,P=e=>{if(g){let t=k===d?e:e.target.value;g({fieldName:s,value:A?t.trim():t})}},Z=e=>{let t=e.target.value;p&&p({value:t})},S=()=>{x&&x()},L=i.Z,T={};k===h?(L=i.Z.TextArea,T={autoSize:!0}):k===u?(L=i.Z.Password,T={visibilityToggle:!0}):k===d?(L=o.Z,T={type:"number",min:1,max:10**m-1}):k===f&&(T={type:"url",pattern:y});let C="field-".concat(s),{type:E}=b||{},O=r()({"formfield-container":!0,"textfield-container":!0,["type-".concat(k)]:!0,required:j,["status-".concat(E)]:b});return(0,a.jsxs)("div",{className:O,children:[c?(0,a.jsx)("div",{className:"label-side",children:(0,a.jsx)("label",{htmlFor:C,className:"formfield-label",children:c})}):null,(0,a.jsxs)("div",{className:"input-side",children:[(0,a.jsx)("div",{className:"input-group",children:(0,a.jsx)(L,{id:C,className:"field ".concat(t," ").concat(C),...T,...k!==d&&{allowClear:!0},placeholder:v,maxLength:m,onChange:P,onBlur:Z,onPressEnter:S,disabled:n,value:N})}),(0,a.jsx)(l.E,{status:b}),(0,a.jsx)("p",{className:"field-tip",children:w})]})]})};m.defaultProps={className:"",disabled:!1,label:"",maxLength:255,placeholder:"",required:!1,status:null,tip:"",type:c,value:"",pattern:"",useTrim:!1,useTrimLead:!1,onSubmit:()=>{},onBlur:()=>{},onChange:()=>{},onPressEnter:()=>{}}},46551:function(e,t,n){"use strict";n.d(t,{$7:function(){return g},Kx:function(){return f},Sk:function(){return m},xA:function(){return p}});var a=n(85893),s=n(71577),r=n(94184),i=n.n(r),o=n(67294),l=n(90745),c=n(41983),u=n(99519),d=n(73615),h=n(79139);let f="default",m="textarea",p="url",g=e=>{let{apiPath:t,configPath:n="",initialValue:r,useTrim:f,useTrimLead:m,...p}=e,[g,x]=(0,o.useState)(null),[y,v]=(0,o.useState)(!1),j=(0,o.useContext)(u.aC),{setFieldInConfigState:b}=j||{},w=null,{fieldName:k,required:A,tip:N,status:P,value:Z,onChange:S,onSubmit:L}=p,T=()=>{x(null),v(!1),clearTimeout(w),w=null};(0,o.useEffect)(()=>{A&&(""===Z||null===Z)||Z===r?v(!1):(T(),v(!0))},[Z]);let C=e=>{let{fieldName:t,value:n}=e;if(S){let a=n;f?a=n.trim():m&&(a=n.replace(/^\s+/g,"")),S({fieldName:t,value:a})}},E=e=>{let{value:t}=e;S&&A&&""===t&&S({fieldName:k,value:r})},O=async()=>{(A&&""!==Z||Z!==r)&&(x((0,c.kg)(c.Jk)),await (0,l.Si)({apiPath:t,data:{value:Z},onSuccess:()=>{b({fieldName:k,value:Z,path:n}),x((0,c.kg)(c.zv))},onError:e=>{x((0,c.kg)(c.Un,"There was an error: ".concat(e)))}}),w=setTimeout(T,l.sI),L&&L())},F=i()({"textfield-with-submit-container":!0,submittable:y});return(0,a.jsxs)("div",{className:F,children:[(0,a.jsx)("div",{className:"textfield-component",children:(0,a.jsx)(h.nv,{...p,onSubmit:null,onBlur:E,onChange:C})}),(0,a.jsxs)("div",{className:"formfield-container lower-container",children:[(0,a.jsx)("p",{className:"label-spacer"}),(0,a.jsxs)("div",{className:"lower-content",children:[(0,a.jsx)("div",{className:"field-tip",children:N}),(0,a.jsx)(d.E,{status:P||g}),(0,a.jsx)("div",{className:"update-button-container",children:(0,a.jsx)(s.Z,{type:"primary",size:"small",className:"submit-button",onClick:O,disabled:!y,children:"Update"})})]})]})]})};g.defaultProps={configPath:"",initialValue:""}},50738:function(e,t,n){"use strict";n.d(t,{C:function(){return l}});var a=n(85893);n(67294);var s=n(94184),r=n.n(s),i=n(29403),o=n.n(i);let l=e=>{let{variant:t="simple"}=e,n=r()(o().root,{[o().simple]:"simple"===t,[o().contrast]:"contrast"===t});return(0,a.jsx)("div",{className:n,children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 95.68623352050781 104.46271514892578",className:"logo-svg",children:(0,a.jsx)("g",{transform:"matrix(1 0 0 1 -37.08803939819336 -18.940391540527344)",children:(0,a.jsx)("g",{children:(0,a.jsxs)("g",{children:[(0,a.jsx)("g",{children:(0,a.jsxs)("g",{transform:"matrix(1.0445680396949917 0 0 1.0445679172996596 36.34559138380523 18.877718021903796)",children:[(0,a.jsxs)("g",{transform:"matrix(1 0 0 1 0 0)",children:[(0,a.jsx)("defs",{children:(0,a.jsxs)("linearGradient",{x1:"0",y1:"0",x2:"0",y2:"1",id:"gradient120",gradientTransform:"rotate(-90 .5 .5)",children:[(0,a.jsx)("stop",{offset:"0",stopColor:"#1f2022",stopOpacity:"1"}),(0,a.jsx)("stop",{offset:"1",stopColor:"#635e69",stopOpacity:"1"})]})}),(0,a.jsx)("path",{fill:"url(#gradient120)",d:"M91.5 75.35Q93.05 71.15 91.65 67.7 90.35 64.5 86.65 62.3 83.2 60.3 78.3 59.4 73.85 58.6 68.6 58.7 63.55 58.85 58.8 59.8 54.25 60.75 50.8 62.2 47.4 63.65 45.5 65.35 43.6 67.15 43.5 69.05 43.35 71.3 45.8 73.9 48.05 76.3 52.1 78.6 56.15 80.9 61.05 82.55 66.3 84.3 71.4 84.8 74.7 85.1 77.55 84.9 80.65 84.6 83.3 83.6 86.15 82.5 88.15 80.55 90.4 78.4 91.5 75.35M70.6 67.5Q72.3 68.4 73.1 69.7 73.9 71.15 73.45 73 73.1 74.3 72.3 75.25 71.55 76.1 70.3 76.6 69.25 77.05 67.75 77.25 66.3 77.4 64.85 77.3 62.3 77.15 59.25 76.3 56.6 75.5 54.15 74.3 51.9 73.2 50.45 72 49.05 70.75 49.1 69.8 49.2 69 50.25 68.25 51.3 67.55 53.15 67 55 66.4 57.25 66.1 59.8 65.8 62.1 65.8 64.65 65.85 66.7 66.2 68.9 66.65 70.6 67.5Z"})]}),(0,a.jsxs)("g",{transform:"matrix(1 0 0 1 0 0)",children:[(0,a.jsx)("defs",{children:(0,a.jsxs)("linearGradient",{x1:"0",y1:"0",x2:"0",y2:"1",id:"gradient121",gradientTransform:"rotate(-180 .5 .5)",children:[(0,a.jsx)("stop",{offset:"0",stopColor:"#2087e2",stopOpacity:"1"}),(0,a.jsx)("stop",{offset:"1",stopColor:"#b63fff",stopOpacity:"1"})]})}),(0,a.jsx)("path",{fill:"url(#gradient121)",d:"M66.6 15.05Q66.4 9.65 63.9 6.05 61.25 2.1 56.1 0.65 54.95 0.3 53.65 0.15 52.5 0 51.3 0.1 50.2 0.1 49.1 0.35 48.15 0.55 47 1 43.3 2.45 40.3 6.1 37.5 9.4 35.5 14.3 33.75 18.45 32.7 23.4 31.7 28.05 31.35 32.85 31.05 37.2 31.3 41.2 31.6 45.15 32.4 48.35 34 54.9 37.3 56.4 37.6 56.55 37.9 56.65L39.2 56.85Q39.45 56.85 39.95 56.8 42.05 56.6 44.7 55.05 47.25 53.5 50.05 50.8 53.05 47.9 55.85 44.05 58.8 40.05 61.1 35.6 63.8 30.35 65.25 25.3 66.75 19.75 66.6 15.05M47.55 23.15Q48.05 23.25 48.4 23.4 52.45 24.8 52.55 29.85 52.6 34 50 39.4 47.85 43.9 44.85 47.3 42.05 50.5 40.15 50.7L39.9 50.75 39.45 50.7 39.2 50.6Q37.8 49.95 37.25 46.35 36.7 42.7 37.3 38 37.95 32.75 39.75 28.8 41.9 24.1 45.05 23.25 45.6 23.1 45.85 23.1 46.25 23.05 46.65 23.05 47.05 23.05 47.55 23.15Z"})]}),(0,a.jsxs)("g",{transform:"matrix(1 0 0 1 0 0)",children:[(0,a.jsx)("defs",{children:(0,a.jsxs)("linearGradient",{x1:"0",y1:"0",x2:"0",y2:"1",id:"gradient122",gradientTransform:"rotate(-90 .5 .5)",children:[(0,a.jsx)("stop",{offset:"0",stopColor:"#100f0f",stopOpacity:"1"}),(0,a.jsx)("stop",{offset:"1",stopColor:"#49261F",stopOpacity:"1"})]})}),(0,a.jsx)("path",{fill:"url(#gradient122)",d:"M2.7 33.6Q2.1 34.4 1.7 35.35 1.25 36.5 1.05 37.7 0 42.6 2.2 47.2 4 51 8 54.35 11.55 57.3 16 59.15 20.5 61 23.85 60.85 24.5 60.85 25.25 60.7 26 60.55 26.5 60.3 27 60.05 27.45 59.65 27.9 59.25 28.15 58.75 29.35 56.45 27.5 51.65 25.6 47 21.75 42.1 17.75 37 13.4 34.05 8.7 30.9 5.45 31.7 4.65 31.9 3.95 32.4 3.25 32.85 2.7 33.6M10.1 43.55Q10.35 43.1 10.6 42.85 10.85 42.6 11.2 42.4 11.6 42.25 11.9 42.2 13.5 41.9 15.95 43.6 18.15 45.05 20.35 47.7 22.35 50.1 23.55 52.4 24.7 54.75 24.25 55.7 24.15 55.9 24 56 23.85 56.2 23.65 56.25 23.55 56.35 23.25 56.4L22.7 56.5Q21.1 56.6 18.55 55.6 16.05 54.6 13.85 52.95 11.5 51.2 10.35 49.15 9.05 46.8 9.75 44.45 9.9 43.95 10.1 43.55Z"})]}),(0,a.jsxs)("g",{transform:"matrix(1 0 0 1 0 0)",children:[(0,a.jsx)("defs",{children:(0,a.jsxs)("linearGradient",{x1:"0",y1:"0",x2:"0",y2:"1",id:"gradient123",gradientTransform:"rotate(-180 .5 .5)",children:[(0,a.jsx)("stop",{offset:"0",stopColor:"#222020",stopOpacity:"1"}),(0,a.jsx)("stop",{offset:"1",stopColor:"#49261F",stopOpacity:"1"})]})}),(0,a.jsx)("path",{fill:"url(#gradient123)",d:"M34.95 74.2L34.75 74.2Q33.2 74.15 31.9 75.25 30.7 76.3 29.85 78.25 29.1 80 28.8 82.2 28.5 84.4 28.7 86.65 29.1 91.4 31.5 94.7 34.3 98.5 39.3 99.7L39.4 99.7 39.7 99.8 39.85 99.8Q45.3 100.85 47.15 97.75 48 96.3 48 94.05 47.95 91.9 47.2 89.35 46.45 86.75 45.1 84.15 43.75 81.5 42.05 79.35 40.25 77.1 38.45 75.75 36.55 74.35 34.95 74.2M33.55 80.4Q34.35 78.2 35.6 78.3L35.65 78.3Q36.9 78.45 38.6 80.9 40.3 83.35 41.15 86.05 42.1 89 41.55 90.75 40.9 92.6 38.35 92.25L38.3 92.25 38.25 92.2 38.1 92.2Q35.6 91.7 34.25 89.6 33.1 87.7 32.95 85 32.8 82.35 33.55 80.4Z"})]}),(0,a.jsxs)("g",{transform:"matrix(0.9999999999999999 0 0 1 0 5.684341886080802e-14)",children:[(0,a.jsx)("defs",{children:(0,a.jsxs)("linearGradient",{x1:"0",y1:"0",x2:"0",y2:"1",id:"gradient124",gradientTransform:"rotate(-180 .5 .5)",children:[" ",(0,a.jsx)("stop",{offset:"0",stopColor:"#1e1c1c",stopOpacity:"1"}),(0,a.jsx)("stop",{offset:"1",stopColor:"#49261F",stopOpacity:"1"})]})}),(0,a.jsx)("path",{fill:"url(#gradient124)",d:"M22.7 69.65Q22.25 69.3 21.6 69.05 20.95 68.8 20.25 68.7 19.6 68.55 18.85 68.5 16.7 68.45 14.65 69.15 12.65 69.8 11.4 71.1 10.15 72.5 10.2 74.2 10.25 76.05 11.95 78.2 12.4 78.75 13.05 79.4 13.55 79.9 14.2 80.3 14.7 80.6 15.3 80.85 16 81.1 16.4 81.1 18.2 81.35 19.9 80.35 21.55 79.4 22.75 77.65 24 75.85 24.3 73.95 24.6 71.85 23.55 70.5 23.15 70 22.7 69.65M21.7 71.7Q22.15 72.3 21.9 73.3 21.7 74.25 21 75.25 20.3 76.2 19.4 76.75 18.45 77.35 17.55 77.25L17 77.15Q16.7 77.05 16.45 76.85 16.25 76.75 15.9 76.45 15.7 76.25 15.4 75.9 14.5 74.75 14.7 73.8 14.8 72.95 15.75 72.3 16.6 71.7 17.8 71.4 19 71.1 20.1 71.15L20.65 71.2 21.1 71.3Q21.3 71.4 21.45 71.5L21.7 71.7Z"})]}),(0,a.jsxs)("g",{transform:"matrix(1 0 0 1 0 0)",children:[(0,a.jsx)("defs",{children:(0,a.jsxs)("linearGradient",{x1:"0",y1:"0",x2:"0",y2:"1",id:"gradient125",gradientTransform:"rotate(-360 .5 .5)",children:[(0,a.jsx)("stop",{offset:"0",stopColor:"#FFFFFF",stopOpacity:"0.5"}),(0,a.jsx)("stop",{offset:"1",stopColor:"#FFFFFF",stopOpacity:"0.2"})]})}),(0,a.jsx)("path",{fill:"url(#gradient125)",d:"M52.6 19.25Q59.6 19.25 66.2 20.95 66.7 17.8 66.6 15.05 66.4 9.65 63.9 6.05 61.25 2.1 56.1 0.65 54.95 0.3 53.65 0.15 52.5 0 51.3 0.1 50.2 0.1 49.1 0.35 48.15 0.55 47 1 43.3 2.45 40.3 6.1 37.5 9.4 35.5 14.3 33.85 18.3 32.8 22.85 42.25 19.25 52.6 19.25Z"})]}),(0,a.jsxs)("g",{transform:"matrix(1 0 0 1 0 0)",children:[(0,a.jsx)("defs",{children:(0,a.jsxs)("linearGradient",{x1:"0",y1:"0",x2:"0",y2:"1",id:"gradient126",gradientTransform:"rotate(-360 .5 .5)",children:[(0,a.jsx)("stop",{offset:"0",stopColor:"#FFFFFF",stopOpacity:"0.5"}),(0,a.jsx)("stop",{offset:"1",stopColor:"#FFFFFF",stopOpacity:"0.2"})]})}),(0,a.jsx)("path",{fill:"url(#gradient126)",d:"M1.05 37.7Q0 42.6 2.2 47.2 2.95 48.8 4.05 50.25 7.55 41.65 14.4 34.75 14 34.45 13.4 34.05 8.7 30.9 5.45 31.7 4.65 31.9 3.95 32.4 3.25 32.85 2.7 33.6 2.1 34.4 1.7 35.35 1.25 36.5 1.05 37.7Z"})]})]})}),(0,a.jsx)("g",{transform:"matrix(1.219512230276127 0 0 1.2195122143630526 32.82519274395008 88.56945194723018)",children:(0,a.jsx)("path",{fill:"#000000",fillOpacity:"1",d:""})})]})})})})})}},95689:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ej}});var a=n(85893),s=n(67294),r=n(26303),i=n(74763),o=n(59652),l=n(71230),c=n(15746),u=n(24019),d=n(87547),h=n(19642),f=n(45938),m=n(99519),p=n(82536),g=n(66567),x=n(63179),y=n(78346),v=n(27482),j=n(6880),b=n(41664),w=n.n(b),k=n(50738),A=n(54907),N=n(58091),P=n(64777);let{Panel:Z}=A.Z,{Title:S,Link:L}=j.Z,T=e=>{let{title:t,url:n,content_html:s,date_published:r}=e,i=new Date(r),o=(0,N.Z)(i,"MMM dd, yyyy, HH:mm");return(0,a.jsx)("article",{children:(0,a.jsx)(A.Z,{children:(0,a.jsxs)(Z,{header:t,children:[(0,a.jsxs)("p",{className:"timestamp",children:[o," (",(0,a.jsx)(L,{href:"".concat("https://owncast.online").concat(n),target:"_blank",rel:"noopener noreferrer",children:"Link"}),")"]}),(0,a.jsx)("div",{dangerouslySetInnerHTML:{__html:s}})]},n)})})},C=()=>{let[e,t]=(0,s.useState)([]),[n,i]=(0,s.useState)(!0),o=async()=>{i(!1);try{let e=await (0,P.kg)("https://owncast.online/news/index.json");(null==e?void 0:e.items.length)>0&&t(e.items)}catch(n){console.log("==== error",n)}};(0,s.useEffect)(()=>{o()},[]);let l=n?(0,a.jsx)(r.Z,{loading:!0,active:!0}):null,c=n||0!==e.length?null:(0,a.jsx)("div",{children:"No news."});return(0,a.jsxs)("section",{className:"news-feed form-module",children:[(0,a.jsx)(S,{level:2,children:"News & Updates from Owncast"}),l,e.map(e=>(0,s.createElement)(T,{...e,key:e.url})),c]})},{Paragraph:E,Text:O}=j.Z,{Title:F}=j.Z,{Meta:M}=o.Z,U=e=>{var t,r,i;let u,{logs:d=[],config:h}=e,f=(0,s.useContext)(m.aC),{serverConfig:j}=f||{},{rtmpServerPort:b}=j,A=(null===(t=n.g.window)||void 0===t?void 0:t.location.hostname)||"";A&&b&&(u="rtmp://".concat(A.replace(/(^\w+:|^)\/\//,""),":").concat(b,"/live"));let N=[{icon:(0,a.jsx)(g.Z,{twoToneColor:"#6f42c1"}),title:"Use your broadcasting software",content:(0,a.jsxs)("div",{children:[(0,a.jsx)("a",{href:"https://owncast.online/docs/broadcasting/?source=admin",target:"_blank",rel:"noopener noreferrer",children:"Learn how to point your existing software to your new server and start streaming your content."}),(0,a.jsxs)("div",{className:"stream-info-container",children:[(0,a.jsx)(O,{strong:!0,className:"stream-info-label",children:"Streaming URL:"}),u&&(0,a.jsx)(E,{className:"stream-info-box",copyable:!0,children:u}),(0,a.jsx)(O,{strong:!0,className:"stream-info-label",children:"Streaming Keys:"}),(0,a.jsx)(O,{strong:!0,className:"stream-info-box",children:(0,a.jsx)(w(),{href:"/admin/config/streamkeys",children:" View "})})]})]})},{icon:(0,a.jsx)(x.Z,{twoToneColor:"#f9826c"}),title:"Embed your video onto other sites",content:(0,a.jsx)("div",{children:(0,a.jsx)("a",{href:"https://owncast.online/docs/embed?source=admin",target:"_blank",rel:"noopener noreferrer",children:"Learn how you can add your Owncast stream to other sites you control."})})}];return(null==h?void 0:h.chatDisabled)||N.push({icon:(0,a.jsx)(y.Z,{twoToneColor:"#0366d6"}),title:"Chat is disabled",content:(0,a.jsx)("span",{children:"Chat will continue to be disabled until you begin a live stream."})}),(null==h?void 0:null===(r=h.yp)||void 0===r?void 0:r.enabled)||N.push({icon:(0,a.jsx)(v.Z,{twoToneColor:"#D18BFE"}),title:"Find an audience on the Owncast Directory",content:(0,a.jsxs)("div",{children:["List yourself in the Owncast Directory and show off your stream. Enable it in"," ",(0,a.jsx)(w(),{href:"/config-public-details",children:"settings."})]})}),(null==h?void 0:null===(i=h.federation)||void 0===i?void 0:i.enabled)||N.push({icon:(0,a.jsx)("img",{alt:"fediverse",width:"20px",src:"fediverse-white.png"}),title:"Add your Owncast instance to the Fediverse",content:(0,a.jsxs)("div",{children:[(0,a.jsx)(w(),{href:"/config-federation",children:"Enable Owncast social"})," features to have your instance join the Fediverse, allowing people to follow, share and engage with your live stream."]})}),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.Z,{children:(0,a.jsx)(c.Z,{span:12,offset:6,children:(0,a.jsxs)("div",{className:"offline-intro",children:[(0,a.jsx)("span",{className:"logo",children:(0,a.jsx)(k.C,{variant:"simple"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)(F,{level:2,children:"No stream is active"}),(0,a.jsx)("p",{children:"You should start one."})]})]})})}),(0,a.jsxs)(l.Z,{gutter:[16,16],className:"offline-content",children:[(0,a.jsx)(c.Z,{span:12,xs:24,sm:24,md:24,lg:12,className:"list-section",children:N.map(e=>(0,a.jsx)(o.Z,{size:"small",bordered:!1,children:(0,a.jsx)(M,{avatar:e.icon,title:e.title,description:e.content})},e.title))}),(0,a.jsx)(c.Z,{span:12,xs:24,sm:24,md:24,lg:12,children:(0,a.jsx)(C,{})})]}),(0,a.jsx)(p.o,{logs:d,pageSize:5})]})};var D=n(44654),_=n(70241),Q=n(82661),I=n(45697),B=n.n(I),G=n(9008),R=n.n(G),q=n(11699),H=n(11163),W=n(97183),z=n(14670),V=n(66516),K=n(26713),X=n(94199),J=n(71577),Y=n(67874),$=n(25998),ee=n(73403),et=n(56299),en=n(38545),ea=n(42952),es=n(2830),er=n(27521),ei=n(25035),eo=n(86548),el=n(94184),ec=n.n(el),eu=n(46551),ed=n(90745),eh=n(69677),ef=n(85402),em=n(41983);let{TextArea:ep}=eh.Z,eg=e=>{let{open:t,handleClose:n}=e,[r,i]=(0,s.useState)(""),[o,l]=(0,s.useState)(!1),[c,u]=(0,s.useState)(null);function d(){l(!1),u(null),n()}async function h(){l(!0);try{await (0,P.rQ)(P.e_,{data:{value:r},method:"POST",auth:!0}),u(em.zv),setTimeout(d,1e3)}catch(e){console.error(e),u(em.Un)}l(!1)}return(0,a.jsxs)(ef.Z,{destroyOnClose:!0,width:600,title:"Post to Followers",open:t,onCancel:n,footer:[(0,a.jsx)(J.Z,{onClick:()=>n(),children:"Cancel"}),(0,a.jsx)(J.Z,{type:"primary",onClick:h,disabled:o||c,loading:o,children:(null==c?void 0:c.toUpperCase())||"Post"})],children:[(0,a.jsx)("h3",{children:"Tell the world about your future streaming plans or let your followers know to tune in."}),(0,a.jsx)(ep,{placeholder:"I'm still live, come join me!",size:"large",showCount:!0,maxLength:500,style:{height:"150px",width:"100%"},onChange:function(e){i(e.target.value)}})]})};var ex=n(22825);let ey=e=>{let{children:t}=e,n=(0,s.useContext)(m.aC),{serverConfig:r,online:i,broadcaster:o,versionNumber:l}=n||{},{instanceDetails:c,chatDisabled:u,federation:d}=r,{enabled:h}=d,[f,p]=(0,s.useState)(""),[g,x]=(0,s.useState)(!1),y=(0,s.useContext)(Q.k),v=(0,H.useRouter)(),{route:j}=v||{},{Header:b,Footer:A,Content:N,Sider:Z}=W.Z,[S,L]=(0,s.useState)(""),T=async()=>{try{let e=await (0,P.GR)(l);L(e)}catch(t){console.log("==== error",t)}};(0,s.useEffect)(()=>{T()},[l]),(0,s.useEffect)(()=>{p(c.streamTitle)},[c]);let C=e=>{let{value:t}=e;p(t)},E=()=>{x(!0)},O=ec()({"app-container":!0,online:i}),F=()=>{y.setMessage(null)},M=y.message?(0,a.jsx)(z.Z,{message:y.message,afterClose:F,banner:!0,closable:!0}):null,U=o?(0,_.wS)((0,q.Z)(new Date,new Date(o.time))):"",D=i?(0,a.jsx)(Y.Z,{}):(0,a.jsx)($.Z,{}),I=(0,a.jsxs)("div",{className:"online-status-indicator",children:[(0,a.jsx)("span",{className:"status-label",children:i?"Online ".concat(U):"Offline"}),(0,a.jsx)("span",{className:"status-icon",children:D})]}),B=[{label:(0,a.jsx)(w(),{href:"/admin/webhooks",children:"Webhooks"}),key:"webhooks"},{label:(0,a.jsx)(w(),{href:"/admin/access-tokens",children:"Access Tokens"}),key:"access-tokens"},{label:(0,a.jsx)(w(),{href:"/admin/actions",children:"External Actions"}),key:"actions"}],G=[{label:(0,a.jsx)(w(),{href:"/admin/chat/messages",children:"Messages"}),key:"messages"},{label:(0,a.jsx)(w(),{href:"/admin/chat/users",children:"Users"}),key:"chat-users"},{label:(0,a.jsx)(w(),{href:"/admin/chat/emojis",children:"Emojis"}),key:"emojis"}],el=[{label:(0,a.jsx)(w(),{href:"/admin/hardware-info",children:"Hardware"}),key:"hardware-info"},{label:(0,a.jsx)(w(),{href:"/admin/stream-health",children:"Stream Health"}),key:"stream-health"},{label:(0,a.jsx)(w(),{href:"/admin/logs",children:"Logs"}),key:"logs"},h&&{label:(0,a.jsx)(w(),{href:"/admin/federation/actions",children:"Social Actions"}),key:"federation-activities"}],eh=[{label:(0,a.jsx)(w(),{href:"/admin/config/general",children:"General"}),key:"config-public-details"},{label:(0,a.jsx)(w(),{href:"/admin/config/server",children:"Server Setup"}),key:"config-server"},{label:(0,a.jsx)(w(),{href:"/admin/config-video",children:"Video"}),key:"config-video"},{label:(0,a.jsx)(w(),{href:"/admin/config-chat",children:"Chat"}),key:"config-chat"},{label:(0,a.jsx)(w(),{href:"/admin/config-federation",children:"Social"}),key:"config-federation"},{label:(0,a.jsx)(w(),{href:"/admin/config-notify",children:"Notifications"}),key:"config-notify"}],ef=[{label:(0,a.jsx)(w(),{href:"/admin",children:"Home"}),icon:(0,a.jsx)(ee.Z,{}),key:"home"},{label:(0,a.jsx)(w(),{href:"/admin/viewer-info",children:"Viewers"}),icon:(0,a.jsx)(et.Z,{}),key:"viewer-info"},!u&&{label:(0,a.jsx)(w(),{href:"/admin/viewer-info",children:"Chat & Users"}),icon:(0,a.jsx)(en.Z,{}),children:G,key:"chat-and-users"},h&&{key:"fediverse-followers",label:(0,a.jsx)(w(),{href:"/admin/federation/followers",children:"Followers"}),icon:(0,a.jsx)("img",{alt:"fediverse icon",src:ex.Z.src,width:"17rem",style:{opacity:.6,position:"relative",top:"-1px"}})},{key:"configuration",label:"Configuration",icon:(0,a.jsx)(ea.Z,{}),children:eh},{key:"utilities",label:"Utilities",icon:(0,a.jsx)(es.Z,{}),children:el},{key:"integrations",label:"Integrations",icon:(0,a.jsx)(er.Z,{}),children:B},S&&{key:"upgrade",label:(0,a.jsx)(w(),{href:"/upgrade",children:"Upgrade to v".concat("".concat(S)||"")})},{key:"help",label:(0,a.jsx)(w(),{href:"/admin/help",children:"Help"}),icon:(0,a.jsx)(ei.Z,{})}];return(0,a.jsxs)(W.Z,{className:O,children:[(0,a.jsxs)(R(),{children:[(0,a.jsx)("title",{children:"Owncast Admin"}),(0,a.jsx)("link",{rel:"icon",type:"image/png",sizes:"32x32",href:"/img/favicon/favicon-32x32.png"})]}),(0,a.jsxs)(Z,{width:240,className:"side-nav",children:[(0,a.jsxs)("h1",{className:"owncast-title",children:[(0,a.jsx)("span",{className:"logo-container",children:(0,a.jsx)(k.C,{variant:"simple"})}),(0,a.jsx)("span",{className:"title-label",children:"Owncast Admin"})]}),(0,a.jsx)(V.Z,{defaultSelectedKeys:[j.substring(1)||"home"],defaultOpenKeys:S?["utilities-menu"]:[],mode:"inline",className:"menu-container",items:ef})]}),(0,a.jsxs)(W.Z,{className:"layout-main",children:[(0,a.jsxs)(b,{className:"layout-header",children:[(0,a.jsx)(K.Z,{direction:"horizontal",children:(0,a.jsx)(X.Z,{title:"Compose post to your social followers",children:(0,a.jsx)(J.Z,{type:"link",icon:(0,a.jsx)(eo.Z,{}),size:"small",onClick:E,style:{display:h?"block":"none",margin:"10px"},children:"Compose Post"})})}),(0,a.jsx)("div",{className:"global-stream-title-container",children:(0,a.jsx)(eu.$7,{fieldName:"streamTitle",...ed.$t,placeholder:"What are you streaming now? (Stream title)",value:f,initialValue:c.streamTitle,onChange:C})}),(0,a.jsx)(K.Z,{direction:"horizontal",children:I})]}),M,(0,a.jsx)(N,{className:"main-content-container",children:t}),(0,a.jsx)(A,{className:"footer-container",children:(0,a.jsxs)("a",{href:"https://owncast.online/?source=admin",target:"_blank",rel:"noopener noreferrer",children:["About Owncast v",l]})})]}),(0,a.jsx)(eg,{open:g,handleClose:()=>x(!1)})]})};function ev(e){return(0,a.jsxs)("ul",{className:"statistics-list",children:[(0,a.jsxs)("li",{children:[e.videoCodec||"Unknown"," @ ",e.videoBitrate||"Unknown"," kbps"]}),(0,a.jsxs)("li",{children:[e.framerate||"Unknown"," fps"]}),(0,a.jsxs)("li",{children:[e.width," x ",e.height]})]})}function ej(){var e,t;let n=(0,s.useContext)(m.aC),{broadcaster:g,serverConfig:x}=n||{},{remoteAddr:y,streamDetails:v}=g||{},j=(null==v?void 0:v.encoder)||"Unknown encoder",[b,w]=(0,s.useState)([]),k=async()=>{try{let e=await (0,P.rQ)(P.WQ);w(e)}catch(t){console.log("==== error",t)}},A=()=>{k()};if((0,s.useEffect)(()=>{A();let e=null;return e=setInterval(A,P.NE),()=>{clearInterval(e)}},[]),(0,_.Qr)(x)||(0,_.Qr)(n))return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.Z,{active:!0}),(0,a.jsx)(r.Z,{active:!0}),(0,a.jsx)(r.Z,{active:!0})]});if(!g)return(0,a.jsx)(U,{logs:b,config:x});let N=null==n?void 0:null===(e=n.currentBroadcast)||void 0===e?void 0:null===(t=e.outputSettings)||void 0===t?void 0:t.map(e=>{let{audioPassthrough:t,videoPassthrough:n,audioBitrate:s,videoBitrate:r,framerate:o}=e,l=t?"".concat(v.audioCodec||"Unknown",", ").concat(v.audioBitrate," kbps"):"".concat(s||"Unknown"," kbps"),c=n?"".concat(v.videoBitrate||"Unknown"," kbps, ").concat(v.framerate," fps ").concat(v.width," x ").concat(v.height):"".concat(r||"Unknown"," kbps, ").concat(o," fps");return(0,a.jsxs)("div",{className:"stream-details-item-container",children:[(0,a.jsx)(i.Z,{className:"stream-details-item",title:"Outbound Video Stream",value:c}),(0,a.jsx)(i.Z,{className:"stream-details-item",title:"Outbound Audio Stream",value:l})]})}),{viewerCount:Z,sessionPeakViewerCount:S}=n,L="".concat(v.audioCodec,", ").concat(v.audioBitrate||"Unknown"," kbps"),T=new Date(g.time);return(0,a.jsxs)("div",{className:"home-container",children:[(0,a.jsxs)("div",{className:"sections-container",children:[(0,a.jsx)("div",{className:"online-status-section",children:(0,a.jsxs)(o.Z,{size:"small",type:"inner",className:"online-details-card",children:[(0,a.jsxs)(l.Z,{gutter:[16,16],align:"middle",children:[(0,a.jsx)(c.Z,{span:8,sm:24,md:8,children:(0,a.jsx)(i.Z,{title:"Stream started ".concat((0,h.Z)(T,Date.now())),value:(0,f.Z)(T),prefix:(0,a.jsx)(u.Z,{})})}),(0,a.jsx)(c.Z,{span:8,sm:24,md:8,children:(0,a.jsx)(i.Z,{title:"Viewers",value:Z,prefix:(0,a.jsx)(d.Z,{})})}),(0,a.jsx)(c.Z,{span:8,sm:24,md:8,children:(0,a.jsx)(i.Z,{title:"Peak viewer count",value:S,prefix:(0,a.jsx)(d.Z,{})})})]}),(0,a.jsx)(D.j,{})]})}),(0,a.jsxs)(l.Z,{gutter:[16,16],className:"section stream-details-section",children:[(0,a.jsxs)(c.Z,{className:"stream-details",span:12,sm:24,md:24,lg:12,children:[(0,a.jsx)(o.Z,{size:"small",title:"Outbound Stream Details",type:"inner",className:"outbound-details",children:N}),(0,a.jsxs)(o.Z,{size:"small",title:"Inbound Stream Details",type:"inner",children:[(0,a.jsx)(i.Z,{className:"stream-details-item",title:"Input",value:"".concat(j," ").concat((0,_.t5)(y))}),(0,a.jsx)(i.Z,{className:"stream-details-item",title:"Inbound Video Stream",value:v,formatter:ev}),(0,a.jsx)(i.Z,{className:"stream-details-item",title:"Inbound Audio Stream",value:L})]})]}),(0,a.jsx)(c.Z,{span:12,xs:24,sm:24,md:24,lg:12,children:(0,a.jsx)(C,{})})]})]}),(0,a.jsx)("br",{}),(0,a.jsx)(p.o,{logs:b,pageSize:5})]})}ey.propTypes={children:B().element.isRequired},ej.getLayout=function(e){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("link",{rel:"stylesheet",href:"/styles/admin/main-layout.css"}),(0,a.jsx)("link",{rel:"stylesheet",href:"/styles/admin/form-textfields.css"}),(0,a.jsx)("link",{rel:"stylesheet",href:"/styles/admin/config-socialhandles.css"}),(0,a.jsx)("link",{rel:"stylesheet",href:"/styles/admin/config-storage.css"}),(0,a.jsx)("link",{rel:"stylesheet",href:"/styles/admin/config-edit-string-tags.css"}),(0,a.jsx)("link",{rel:"stylesheet",href:"/styles/admin/config-video-variants.css"}),(0,a.jsx)("link",{rel:"stylesheet",href:"/styles/admin/config-public-details.css"}),(0,a.jsx)("link",{rel:"stylesheet",href:"/styles/admin/home.css"}),(0,a.jsx)("link",{rel:"stylesheet",href:"/styles/admin/chat.css"}),(0,a.jsx)("link",{rel:"stylesheet",href:"/styles/admin/pages.css"}),(0,a.jsx)("link",{rel:"stylesheet",href:"/styles/admin/offline-notice.css"}),(0,a.jsx)(m.ZP,{children:(0,a.jsx)(Q.Z,{children:(0,a.jsx)(ey,{children:e})})})]})}},82661:function(e,t,n){"use strict";n.d(t,{k:function(){return o}});var a=n(85893),s=n(67294),r=n(45697),i=n.n(r);let o=s.createContext({message:null,setMessage:e=>null}),l=e=>{let{children:t}=e,[n,r]=(0,s.useState)("");return(0,a.jsx)(o.Provider,{value:{message:n,setMessage:r},children:t})};l.propTypes={children:i().element.isRequired},t.Z=l},64777:function(e,t,n){"use strict";n.d(t,{$i:function(){return F},$l:function(){return H},Bu:function(){return x},E8:function(){return D},Ff:function(){return Z},GC:function(){return j},GR:function(){return K},HP:function(){return U},IO:function(){return T},Kp:function(){return m},Kt:function(){return z},M_:function(){return E},N$:function(){return B},NE:function(){return l},NM:function(){return g},Q_:function(){return c},Qc:function(){return P},RB:function(){return y},UJ:function(){return R},WB:function(){return i},WE:function(){return A},WQ:function(){return k},Wr:function(){return L},XA:function(){return C},Y9:function(){return _},a_:function(){return f},ao:function(){return d},bl:function(){return u},e_:function(){return M},hn:function(){return N},iG:function(){return O},iV:function(){return h},jr:function(){return v},kb:function(){return Q},kg:function(){return W},ms:function(){return S},nx:function(){return b},op:function(){return I},qk:function(){return p},rQ:function(){return q},sG:function(){return w},um:function(){return G}});var a=n(34155);let s=a.env.NEXT_PUBLIC_ADMIN_USERNAME,r=a.env.NEXT_PUBLIC_ADMIN_STREAMKEY,i="/",o="".concat(i,"api/admin/"),l=15e3,c="".concat(o,"status"),u="".concat(o,"serverconfig"),d="".concat(o,"config"),h="".concat(o,"viewersOverTime"),f="".concat(o,"viewers"),m="".concat(o,"chat/clients"),p="".concat(o,"chat/users/disabled"),g="".concat(o,"chat/users/setenabled"),x="".concat(o,"chat/users/ipbans"),y="".concat(o,"chat/users/ipbans/remove"),v="".concat(o,"chat/users/setmoderator"),j="".concat(o,"chat/users/moderators"),b="".concat(o,"hardwarestats"),w="".concat(o,"logs"),k="".concat(o,"logs/warnings"),A="".concat(o,"chat/messages"),N="/api/admin/chat/messagevisibility",P="".concat(o,"emoji/upload"),Z="".concat(o,"emoji/delete"),S="".concat(o,"accesstokens"),L="".concat(o,"accesstokens/delete"),T="".concat(o,"accesstokens/create"),C="".concat(o,"webhooks"),E="".concat(o,"webhooks/delete"),O="".concat(o,"webhooks/create"),F="".concat(i,"api/socialplatforms"),M="".concat(o,"federation/send"),U="".concat(o,"followers"),D="".concat(o,"followers/pending"),_="".concat(o,"followers/blocked"),Q="".concat(o,"followers/approve"),I="".concat(o,"federation/actions"),B="".concat(o,"metrics/video"),G="".concat(o,"config/streamkeys"),R="".concat(o,"yp/reset");async function q(e,t){let{data:n,method:a="GET",auth:i=!0}=t||{},o={method:a};if(n&&(o.body=JSON.stringify(n)),i&&s&&r){let l=btoa("".concat(s,":").concat(r));o.headers={Authorization:"Basic ".concat(l)},o.mode="cors",o.credentials="include"}try{let c=await fetch(e,o),u=await c.json();if(!c.ok){let d=u.message||"An error has occurred: ".concat(c.status);throw Error(d)}return u}catch(h){return console.error(h),h}}async function H(e,t){let n={method:"GET",auth:!1,...t};return q(e,n)}async function W(e){try{let t=await fetch(e,{referrerPolicy:"no-referrer",referrer:""});if(!t.ok){let n="An error has occured: ".concat(t.status);throw Error(n)}let a=await t.json();return a}catch(s){console.log(s)}return{}}async function z(){return W("https://api.github.com/repos/owncast/owncast/releases/latest")}let V=/^\d+(\.\d+){0,2}$/;async function K(e){let t=await z(),n=t.tag_name;return("v"===n.substr(0,1)&&(n=n.substr(1)),!function(e,t){if(!e||!t||0===e.length||0===t.length)return!1;if(e===t)return!0;if(V.test(e)&&V.test(t)){let n=e.split(".");for(;n.length<3;)n.push("0");let a=t.split(".");for(;a.length<3;)a.push("0");for(let s=0;s<3;s++){let r=parseInt(n[s],10),i=parseInt(a[s],10);if(r!==i)return r>i}return!0}return e>=t}(e,n))?n:null}},90745:function(e,t,n){"use strict";n.d(t,{$Z:function(){return em},$t:function(){return A},$w:function(){return h},AA:function(){return l},AN:function(){return q},AP:function(){return g},BF:function(){return V},B_:function(){return J},CJ:function(){return x},CQ:function(){return j},Dg:function(){return R},EY:function(){return U},FE:function(){return z},HM:function(){return er},I$:function(){return eo},IX:function(){return Z},KB:function(){return T},Kl:function(){return H},LC:function(){return W},ME:function(){return F},P:function(){return D},RE:function(){return k},SS:function(){return es},Si:function(){return w},Xc:function(){return K},Xq:function(){return et},ZQ:function(){return S},_X:function(){return _},c9:function(){return f},cf:function(){return y},cj:function(){return O},d$:function(){return c},dL:function(){return $},dR:function(){return Y},dj:function(){return G},gX:function(){return Q},i3:function(){return el},kB:function(){return B},lT:function(){return E},mv:function(){return ef},nm:function(){return ee},os:function(){return v},oy:function(){return eh},pE:function(){return b},rE:function(){return C},rd:function(){return P},rs:function(){return N},sI:function(){return o},sv:function(){return m},t$:function(){return ei},tQ:function(){return L},vv:function(){return p},wC:function(){return ec},x8:function(){return en},yC:function(){return ea},y_:function(){return M},yi:function(){return X},yj:function(){return I},z_:function(){return eu},zm:function(){return ed}});var a=n(85893),s=n(64777),r=n(79139),i=n(37174);let o=3e3,l="/pagecontent",c="/customstyles",u="/serverurl",d="/nsfw",h="/s3",f="/socialhandles",m="/video/streamlatencylevel",p="/video/streamoutputvariants",g="/directoryenabled",x="/chat/forbiddenusernames",y="/chat/suggestedusernames",v="/externalactions",j="/video/codec",b="/federation/blockdomains";async function w(e){let{apiPath:t,data:n,onSuccess:a,onError:r}=e,i=await (0,s.rQ)("".concat(s.ao).concat(t),{data:n,method:"POST",auth:!0});i.success&&a?a(i.message):r&&r(i.message)}let k={apiPath:"/name",configPath:"instanceDetails",maxLength:255,placeholder:"Owncast site name",label:"Name",tip:"The name of your Owncast server",required:!0,useTrimLead:!0},A={apiPath:"/streamtitle",configPath:"instanceDetails",maxLength:100,placeholder:"Doing cool things...",label:"Stream Title",tip:"What is your stream about today?"},N={apiPath:"/serversummary",configPath:"instanceDetails",maxLength:500,placeholder:"",label:"About",tip:"A brief blurb about you, your server, or what your stream is about."},P={apiPath:"/offlinemessage",configPath:"instanceDetails",maxLength:2500,placeholder:"An optional message you can leave people when your stream is not live.",label:"Offline Message",tip:"An optional message you can leave people when your stream is not live."},Z={apiPath:"/welcomemessage",configPath:"instanceDetails",maxLength:2500,placeholder:"",label:"Welcome Message",tip:"A system chat message sent to viewers when they first connect to chat. Leave blank to disable."},S={apiPath:"/logo",configPath:"instanceDetails",maxLength:255,placeholder:"/img/mylogo.png",label:"Logo",tip:"Upload your logo if you have one (max size 2 MB). We recommend that you use a square image that is at least 256x256. SVGs are discouraged as they cannot be displayed on all social media platforms."},L={apiPath:"/key",configPath:"",maxLength:255,placeholder:"abc123",label:"Admin Password",tip:"Save this password somewhere safe, you will need it to login to the admin dashboard!",required:!0},T={apiPath:"/ffmpegpath",configPath:"",maxLength:255,placeholder:"/usr/local/bin/ffmpeg",label:"FFmpeg Path",tip:"Absolute file path of the FFMPEG application on your server",required:!0},C={apiPath:"/webserverport",configPath:"",maxLength:6,placeholder:"8080",label:"Owncast port",tip:"What port is your Owncast web server listening? Default is 8080",required:!0},E={apiPath:"/rtmpserverport",configPath:"",maxLength:6,placeholder:"1935",label:"RTMP port",tip:"What port should accept inbound broadcasts? Default is 1935",required:!0},O={apiPath:u,configPath:"yp",maxLength:255,placeholder:"https://owncast.mysite.com",label:"Server URL",tip:"The full url to your Owncast server.",type:r.xA,pattern:i.ax,useTrim:!0},F={apiPath:"/sockethostoverride",configPath:"",maxLength:255,placeholder:"https://owncast.mysite.com",label:"Websocket host override",tip:"The direct URL of your Owncast server.",type:r.xA,pattern:i.ax,useTrim:!0},M={apiPath:"/tags",configPath:"instanceDetails",maxLength:24,placeholder:"Add a new tag",required:!0,label:"",tip:""},U={apiPath:d,configPath:"instanceDetails",label:"NSFW?",tip:"Turn this ON if you plan to steam explicit or adult content. Please respectfully set this flag so unexpected eyes won't accidentally see it in the Directory."},D={apiPath:g,configPath:"yp",label:"Enable directory",tip:"Turn this ON to request to show up in the directory."},_={apiPath:"/hideviewercount",configPath:"",label:"Hide viewer count",tip:"Turn this ON to hide the viewer count the web page."},Q={framerate:24,videoPassthrough:!1,videoBitrate:800,audioPassthrough:!0,audioBitrate:0,cpuUsageLevel:3,scaledHeight:null,scaledWidth:null,name:""},I={apiPath:"/chat/disable",configPath:"",label:"Chat",tip:"Turn the chat functionality on/off on your Owncast server.",useSubmit:!0},B={apiPath:"/chat/joinmessagesenabled",configPath:"",label:"Join Messages",tip:"Show when a viewer joins the chat.",useSubmit:!0},G={apiPath:"/chat/establishedusermode",configPath:"",label:"Established users only",tip:"Only users who have previously been established for some time may chat.",useSubmit:!0},R={apiPath:x,placeholder:"username",label:"Forbidden usernames",tip:"A list of words in chat usernames you disallow."},q={apiPath:y,placeholder:"username",label:"Default usernames",tip:"An optional list of chat usernames that new users get assigned. If the list holds less then 10 items, random names will be generated.  Users can change their usernames afterwards and the same username may be given out multple times.",min_not_reached:"At least 10 items are required for this feature.",no_entries:"The default name generator is used."},H={apiPath:"/federation/enable",configPath:"federation",label:"Enable Social Features",tip:"Send and receive activities on the Fediverse.",useSubmit:!0},W={apiPath:"/federation/private",configPath:"federation",label:"Private",tip:"Follow requests will require approval and only followers will see your activity.",useSubmit:!0},z={apiPath:"/federation/showengagement",configPath:"showEngagement",label:"Show engagement",tip:"Following, liking and sharing will appear in the chat feed.",useSubmit:!0},V={apiPath:"/federation/livemessage",configPath:"federation",maxLength:500,placeholder:"My stream has started, tune in!",label:"Now Live message",tip:"The message sent announcing that your live stream has begun. Tags will be automatically added. Leave blank to disable."},K={apiPath:"/federation/username",configPath:"federation",maxLength:10,placeholder:"owncast",default:"owncast",label:"Username",tip:'The username used for sending and receiving activities from the Fediverse. For example, if you use "bob" as a username you would send messages to the fediverse from @bob@yourserver. Once people start following your instance you should not change this.'},X={apiPath:u,configPath:"yp",maxLength:255,placeholder:"https://owncast.mysite.com",label:"Server URL",tip:"The full url to your Owncast server is required to enable social features. Must use SSL (https). Once people start following your instance you should not change this.",type:r.xA,pattern:i.ax,useTrim:!0},J={apiPath:d,configPath:"instanceDetails",label:"Potentially NSFW",tip:"Turn this ON if you plan to steam explicit or adult content so previews of your stream can be marked as potentially sensitive."},Y={apiPath:b,configPath:"federation",label:"Blocked domains",placeholder:"bad.domain.biz",tip:"You can block specific domains from interacting with you."},$={audioBitrate:{min:600,max:1200,defaultValue:800,unit:"kbps",incrementBy:100,tip:"nothing to see here"},videoPassthrough:{tip:"If enabled, all other settings will be disabled. Otherwise configure as desired."},audioPassthrough:{tip:"If No is selected, then you should set your desired Audio Bitrate."},scaledWidth:{fieldName:"scaledWidth",label:"Resized Width",maxLength:4,placeholder:"1080",tip:"Optionally resize this content's width."},scaledHeight:{fieldName:"scaledHeight",label:"Resized Height",maxLength:4,placeholder:"720",tip:"Optionally resize this content's height."}},ee={min:24,max:120,defaultValue:24,unit:"fps",incrementBy:null,tip:"Reducing your framerate will decrease the amount of video that needs to be encoded and sent to your viewers, saving CPU and bandwidth at the expense of smoothness.  A lower value is generally is fine for most content."},et={[ee.min]:"".concat(ee.min," ").concat(ee.unit),25:" ",30:" ",50:" ",60:" ",90:" ",[ee.max]:"".concat(ee.max," ").concat(ee.unit)},en={[ee.min]:"".concat(ee.min,"fps - Good for film, presentations, music, low power/bandwidth servers."),25:"25fps - Good for film, presentations, music, low power/bandwidth servers.",30:"30fps - Good for slow/casual games, chat, general purpose.",50:"50fps - Good for fast/action games, sports, HD video.",60:"60fps - Good for fast/action games, sports, HD video.",90:"90fps - Good for newer fast games and hardware.",[ee.max]:"".concat(ee.max,"fps - Experimental, use at your own risk!")},ea={min:400,max:6e3,defaultValue:1200,unit:"kbps",incrementBy:100,tip:"The overall quality of your stream is generally impacted most by bitrate."},es={fieldName:"name",label:"Name",maxLength:15,placeholder:"HD or Low",tip:"Human-readable name for for displaying in the player."},er={[ea.min]:{style:{marginLeft:"24px"},label:"".concat(ea.min," ").concat(ea.unit)},3e3:3e3,4500:4500,[ea.max]:{style:{marginLeft:"-10px"},label:"".concat(ea.max," ").concat(ea.unit)}},ei={1:{style:{marginLeft:"15px"},label:(0,a.jsx)("p",{children:"lowest"})},2:"",3:"",4:"",5:{style:{marginLeft:"-15px"},label:(0,a.jsx)("p",{children:"highest"})}},eo={1:"Lowest hardware usage - lowest quality video",2:"Low hardware usage - low quality video",3:"Medium hardware usage - average quality video",4:"High hardware usage - high quality video",5:"Highest hardware usage - higher quality video"},el={VIDEO_HEIGHT:1080,VIDEO_BITRATE:3e3,HELP_TEXT:"You have only set one video quality variant. If your server has the computing resources, consider adding another, lower-quality variant, so more people can view your content!"},ec={url:"",platform:""},eu="OTHER_SOCIAL_HANDLE_OPTION",ed={accessKey:{fieldName:"accessKey",label:"Access Key",maxLength:255,placeholder:"access key 123",tip:""},acl:{fieldName:"acl",label:"ACL",maxLength:255,placeholder:"",tip:"Optional specific access control value to add to your content.  Generally not required."},bucket:{fieldName:"bucket",label:"Bucket",maxLength:255,placeholder:"bucket 123",tip:"Create a new bucket for each Owncast instance you may be running."},endpoint:{fieldName:"endpoint",label:"Endpoint",maxLength:255,placeholder:"https://your.s3.provider.endpoint.com",tip:'The full URL (with "https://") endpoint from your storage provider.',useTrim:!0,type:r.xA,pattern:i.ax},region:{fieldName:"region",label:"Region",maxLength:255,placeholder:"region 123",tip:""},secret:{fieldName:"secret",label:"Secret key",maxLength:255,placeholder:"your secret key",tip:""},servingEndpoint:{fieldName:"servingEndpoint",label:"Serving Endpoint",maxLength:255,placeholder:"http://cdn.ss3.provider.endpoint.com",tip:"Optional URL that content should be accessed from instead of the default.  Used with CDNs and specific storage providers. Generally not required.",type:r.xA,pattern:i.ax,useTrim:!0},forcePathStyle:{fieldName:"forcePathStyle",label:"Force path-style",tip:"If your S3 provider doesn't support virtual-hosted-style URLs set this to ON (i.e. Oracle Cloud Object Storage)"}},eh={webhookUrl:{fieldName:"webhook",label:"Webhook URL",maxLength:255,placeholder:"https://discord.com/api/webhooks/837/jf38-6iNEv",tip:"The webhook assigned to your channel.",type:r.xA,pattern:i.ax,useTrim:!0},goLiveMessage:{fieldName:"goLiveMessage",label:"Go Live Text",maxLength:300,tip:"The text to send when you go live.",placeholder:"I've gone live! Come watch!"}},ef={goLiveMessage:{fieldName:"goLiveMessage",label:"Go Live Text",maxLength:200,tip:"The text to send when you go live.",placeholder:"I've gone live! Come watch!"}},em={apiKey:{fieldName:"apiKey",label:"API Key",maxLength:200,tip:"",placeholder:"gaUQhRC2lqfrEFfElBXJgOctU"},apiSecret:{fieldName:"apiSecret",label:"API Secret",maxLength:200,tip:"",placeholder:"IIz4jFZMWbUKdFOEGUprFjRwIslG56d1SPQlolJYjXwJ2y2qKS"},accessToken:{fieldName:"accessToken",label:"Access Token",maxLength:200,tip:"",placeholder:"952540400-EEiwe9fkuSvWjnNC82YFa9kgpqbyAP3J7FjE2dkka"},accessTokenSecret:{fieldName:"accessTokenSecret",label:"Access Token Secret",maxLength:200,tip:"",placeholder:"xO0AZWNGfZxpNsYPg3zNEKhAsPPGvNZFlzQArA2khI9Kg"},bearerToken:{fieldName:"bearerToken",label:"Bearer Token",maxLength:200,tip:"",placeholder:"AAAAAAAAAAAAAAFqpXwEAAnnepHkjA8XD5ftx5jUadYIRtPtaq7AAAAwpXPpDWKDcdhiWr0tVDjsgW%2B4awGOM9VQ%3XPoMFuWcHsE42TK"},goLiveMessage:{fieldName:"goLiveMessage",label:"Go Live Text",maxLength:200,tip:"The text to send when you go live.",placeholder:"I've gone live! Come watch!"}}},70241:function(e,t,n){"use strict";n.d(t,{AB:function(){return c},Qr:function(){return i},t5:function(){return r},wS:function(){return l}});var a=n(42238),s=n.n(a);function r(e){let t=e.split(":");t[t.length-1]="";let n=t.join(":");return"[::1]"===(n=n.slice(0,n.length-1))||"127.0.0.1"===n?"Localhost":n}function i(e){return!e||0===Object.keys(e).length&&e.constructor===Object}function o(e,t,n){return String(t.repeat(n)+e).slice(-n)}function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=Number.isFinite(+e)?Math.abs(e):0,n=Math.floor(t/86400),a=n>0?"".concat(n," day").concat(n>1?"s":""," "):"",s=Math.floor(t/3600%24),r=s||n?o("".concat(s,":"),"0",3):"",i=o("".concat(Math.floor(t/60%60),":"),"0",3),l=o("".concat(Math.floor(t%60)),"0",2);return a+r+i+l}function c(e){let t=s()(e),{device:n,os:a,browser:r}=t,{major:i,name:o}=r,{version:l,name:c}=a,{model:u,type:d}=n;return"libmpv"===e?"mpv media player":o&&i&&c?"".concat(o," ").concat(i," on ").concat(c," ").concat(l,"\n  ").concat(u||d?" (".concat(u||d,")"):""):e}},41983:function(e,t,n){"use strict";n.d(t,{Jk:function(){return u},Un:function(){return l},dG:function(){return h},kg:function(){return m},zv:function(){return d}});var a=n(85893),s=n(89739),r=n(21640),i=n(50888),o=n(28058);let l="error",c="invalid",u="proessing",d="success",h="warning",f={[d]:{type:d,icon:(0,a.jsx)(s.Z,{style:{color:"green"}}),message:"Success!"},[l]:{type:l,icon:(0,a.jsx)(r.Z,{style:{color:"red"}}),message:"An error occurred."},[c]:{type:c,icon:(0,a.jsx)(r.Z,{style:{color:"red"}}),message:"An error occurred."},[u]:{type:u,icon:(0,a.jsx)(i.Z,{}),message:""},[h]:{type:h,icon:(0,a.jsx)(o.Z,{style:{color:"#fc0"}}),message:""}};function m(e,t){return e&&f[e]?t?{type:e,icon:f[e].icon,message:t}:f[e]:null}},99519:function(e,t,n){"use strict";n.d(t,{aC:function(){return d}});var a=n(85893),s=n(67294),r=n(45697),i=n.n(r),o=n(64777),l=n(90745);let c={streamKeys:[],adminPassword:"",instanceDetails:{customStyles:"",extraPageContent:"",logo:"",name:"",nsfw:!1,socialHandles:[],streamTitle:"",summary:"",tags:[],title:"",welcomeMessage:"",offlineMessage:"",appearanceVariables:{}},ffmpegPath:"",rtmpServerPort:"",webServerPort:"",socketHostOverride:null,s3:{accessKey:"",acl:"",bucket:"",enabled:!1,endpoint:"",region:"",secret:"",servingEndpoint:"",forcePathStyle:!1},yp:{enabled:!1,instanceUrl:""},videoSettings:{latencyLevel:4,cpuUsageLevel:3,videoQualityVariants:[l.gX]},federation:{enabled:!1,isPrivate:!1,username:"",goLiveMessage:"",showEngagement:!0,blockedDomains:[]},notifications:{browser:{enabled:!1,goLiveMessage:""},discord:{enabled:!1,webhook:"",goLiveMessage:""},twitter:{enabled:!1,goLiveMessage:"",apiKey:"",apiSecret:"",accessToken:"",accessTokenSecret:"",bearerToken:""}},externalActions:[],supportedCodecs:[],videoCodec:"",forbiddenUsernames:[],suggestedUsernames:[],chatDisabled:!1,chatJoinMessagesEnabled:!0,chatEstablishedUserMode:!1,hideViewerCount:!1},u={broadcastActive:!1,broadcaster:null,currentBroadcast:null,online:!1,viewerCount:0,sessionMaxViewerCount:0,sessionPeakViewerCount:0,overallPeakViewerCount:0,versionNumber:"0.0.0",streamTitle:"",chatDisabled:!1,health:{healthy:!0,healthPercentage:100,message:"",representation:0}},d=s.createContext({...u,serverConfig:c,setFieldInConfigState:e=>null}),h=e=>{let{children:t}=e,[n,r]=(0,s.useState)(u),[i,l]=(0,s.useState)(c),h=async()=>{try{let e=await (0,o.rQ)(o.Q_);r({...e})}catch(t){}},f=async()=>{try{let e=await (0,o.rQ)(o.bl);l(e)}catch(t){}},m=e=>{let{fieldName:t,value:n,path:a}=e,s=a?{...i,[a]:{...i[a],[t]:n}}:{...i,[t]:n};l(s)};(0,s.useEffect)(()=>{let e=null;return h(),e=setInterval(h,o.NE),f(),()=>{clearInterval(e)}},[]);let p={...n,serverConfig:i,setFieldInConfigState:m};return(0,a.jsx)(d.Provider,{value:p,children:t})};h.propTypes={children:i().element.isRequired},t.ZP=h},37174:function(e,t,n){"use strict";n.d(t,{Kf:function(){return r},ax:function(){return a},bu:function(){return i},jv:function(){return s}});let a="https?://.*";function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["http:","https:"];try{let n=new URL(e);if(""===n.protocol||""===n.hostname||!t.includes(n.protocol))return!1}catch(a){return!1}return!0}function r(e,t){e.startsWith("@")&&(e=e.slice(1));let n=e.split(/:|@/),[a,s,r]=n;return console.log({account:e,protocol:t,service:a,user:s,host:r}),a===t&&3===n.length&&!!a&&!!s&&!!r}function i(e){if(!e.startsWith("matrix:"))return!1;(e=e.slice(7)).startsWith("@")&&(e=e.slice(1));let t=e.split(":"),[n,a]=t;return 2===t.length&&!!n&&!!a}},29403:function(e){e.exports={root:"OwncastLogo_root__uDVJf",contrast:"OwncastLogo_contrast__rDMJY",simple:"OwncastLogo_simple___hC9r"}}},function(e){e.O(0,[5596,481,173,1407,4083,1577,6880,3174,2459,6386,3013,3698,8213,9915,6754,195,5402,1834,575,8067,5938,5101,4763,5360,421,9774,2888,179],function(){return e(e.s=64830)}),_N_E=e.O()}]);
//# sourceMappingURL=admin-4d0f33010c63db63.js.map