{"version":3,"file":"static/chunks/8097-6820286859c6fff3.js","mappings":"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","sources":["webpack://_N_E/./components/config/ToggleSwitch.tsx","webpack://_N_E/./pages/admin/config/server/EditStorage.tsx","webpack://_N_E/./utils/alert-message-context.tsx","webpack://_N_E/./utils/input-statuses.tsx","webpack://_N_E/./utils/server-status-context.tsx","webpack://_N_E/<anon>"],"sourcesContent":["// This is a wrapper for the Ant Switch component.\n// This one is styled to match the form-textfield component.\n// If `useSubmit` is true then it will automatically post to the config API onChange.\n\nimport React, { useState, useContext, FC } from 'react';\nimport { Switch } from 'antd';\nimport {\n  createInputStatus,\n  StatusState,\n  STATUS_ERROR,\n  STATUS_PROCESSING,\n  STATUS_SUCCESS,\n} from '../../utils/input-statuses';\nimport { FormStatusIndicator } from './FormStatusIndicator';\n\nimport { RESET_TIMEOUT, postConfigUpdateToAPI } from '../../utils/config-constants';\nimport { ServerStatusContext } from '../../utils/server-status-context';\n\nexport type ToggleSwitchProps = {\n  fieldName: string;\n\n  apiPath?: string;\n  checked?: boolean;\n  reversed?: boolean;\n  configPath?: string;\n  disabled?: boolean;\n  label?: string;\n  tip?: string;\n  useSubmit?: boolean;\n  onChange?: (arg: boolean) => void;\n};\n\nexport const ToggleSwitch: FC<ToggleSwitchProps> = ({\n  apiPath,\n  checked,\n  reversed = false,\n  configPath = '',\n  disabled = false,\n  fieldName,\n  label,\n  tip,\n  useSubmit,\n  onChange,\n}) => {\n  const [submitStatus, setSubmitStatus] = useState<StatusState>(null);\n\n  let resetTimer = null;\n\n  const serverStatusData = useContext(ServerStatusContext);\n  const { setFieldInConfigState } = serverStatusData || {};\n\n  const resetStates = () => {\n    setSubmitStatus(null);\n    clearTimeout(resetTimer);\n    resetTimer = null;\n  };\n\n  const handleChange = async (isChecked: boolean) => {\n    if (useSubmit) {\n      setSubmitStatus(createInputStatus(STATUS_PROCESSING));\n      const isCheckedSend = reversed ? !isChecked : isChecked;\n\n      await postConfigUpdateToAPI({\n        apiPath,\n        data: { value: isCheckedSend },\n        onSuccess: () => {\n          setFieldInConfigState({ fieldName, value: isCheckedSend, path: configPath });\n          setSubmitStatus(createInputStatus(STATUS_SUCCESS));\n        },\n        onError: (message: string) => {\n          setSubmitStatus(createInputStatus(STATUS_ERROR, `There was an error: ${message}`));\n        },\n      });\n      resetTimer = setTimeout(resetStates, RESET_TIMEOUT);\n    }\n    if (onChange) {\n      onChange(isChecked);\n    }\n  };\n\n  const loading = submitStatus !== null && submitStatus.type === STATUS_PROCESSING;\n  return (\n    <div className=\"formfield-container toggleswitch-container\">\n      {label && (\n        <div className=\"label-side\">\n          <span className=\"formfield-label\">{label}</span>\n        </div>\n      )}\n\n      <div className=\"input-side\">\n        <div className=\"input-group\">\n          <Switch\n            className={`switch field-${fieldName}`}\n            loading={loading}\n            onChange={handleChange}\n            defaultChecked={checked}\n            checked={checked}\n            checkedChildren=\"ON\"\n            unCheckedChildren=\"OFF\"\n            disabled={disabled}\n          />\n          <FormStatusIndicator status={submitStatus} />\n        </div>\n        <p className=\"field-tip\">{tip}</p>\n      </div>\n    </div>\n  );\n};\nexport default ToggleSwitch;\n\nToggleSwitch.defaultProps = {\n  apiPath: '',\n  checked: false,\n  reversed: false,\n  configPath: '',\n  disabled: false,\n  label: '',\n  tip: '',\n  useSubmit: false,\n  onChange: null,\n};\n","import { Button, Collapse } from 'antd';\nimport classNames from 'classnames';\nimport React, { useContext, useState, useEffect } from 'react';\nimport { UpdateArgs } from '../../../../types/config-section';\nimport { ServerStatusContext } from '../../../../utils/server-status-context';\nimport { AlertMessageContext } from '../../../../utils/alert-message-context';\n\nimport {\n  postConfigUpdateToAPI,\n  API_S3_INFO,\n  RESET_TIMEOUT,\n  S3_TEXT_FIELDS_INFO,\n} from '../../../../utils/config-constants';\nimport {\n  createInputStatus,\n  StatusState,\n  STATUS_ERROR,\n  STATUS_PROCESSING,\n  STATUS_SUCCESS,\n} from '../../../../utils/input-statuses';\nimport { TextField } from '../../../../components/config/TextField';\nimport { FormStatusIndicator } from '../../../../components/config/FormStatusIndicator';\nimport { isValidUrl } from '../../../../utils/urls';\nimport { ToggleSwitch } from '../../../../components/config/ToggleSwitch';\n\nconst { Panel } = Collapse;\n\n// we could probably add more detailed checks here\n// `currentValues` is what's currently in the global store and in the db\nfunction checkSaveable(formValues: any, currentValues: any) {\n  const {\n    endpoint,\n    accessKey,\n    secret,\n    bucket,\n    region,\n    enabled,\n    servingEndpoint,\n    acl,\n    forcePathStyle,\n  } = formValues;\n  // if fields are filled out and different from what's in store, then return true\n  if (enabled) {\n    if (!!endpoint && isValidUrl(endpoint) && !!accessKey && !!secret && !!bucket && !!region) {\n      if (\n        enabled !== currentValues.enabled ||\n        endpoint !== currentValues.endpoint ||\n        accessKey !== currentValues.accessKey ||\n        secret !== currentValues.secret ||\n        bucket !== currentValues.bucket ||\n        region !== currentValues.region ||\n        (!currentValues.servingEndpoint && servingEndpoint !== '') ||\n        (!!currentValues.servingEndpoint && servingEndpoint !== currentValues.servingEndpoint) ||\n        (!currentValues.acl && acl !== '') ||\n        (!!currentValues.acl && acl !== currentValues.acl) ||\n        forcePathStyle !== currentValues.forcePathStyle\n      ) {\n        return true;\n      }\n    }\n  } else if (enabled !== currentValues.enabled) {\n    return true;\n  }\n  return false;\n}\n\nexport default function EditStorage() {\n  const [formDataValues, setFormDataValues] = useState(null);\n  const [submitStatus, setSubmitStatus] = useState<StatusState>(null);\n\n  const [shouldDisplayForm, setShouldDisplayForm] = useState(false);\n  const serverStatusData = useContext(ServerStatusContext);\n  const { serverConfig, setFieldInConfigState } = serverStatusData || {};\n\n  const { setMessage: setAlertMessage } = useContext(AlertMessageContext);\n\n  const { s3 } = serverConfig;\n  const {\n    accessKey = '',\n    acl = '',\n    bucket = '',\n    enabled = false,\n    endpoint = '',\n    region = '',\n    secret = '',\n    servingEndpoint = '',\n    forcePathStyle = false,\n  } = s3;\n\n  useEffect(() => {\n    setFormDataValues({\n      accessKey,\n      acl,\n      bucket,\n      enabled,\n      endpoint,\n      region,\n      secret,\n      servingEndpoint,\n      forcePathStyle,\n    });\n    setShouldDisplayForm(enabled);\n  }, [s3]);\n\n  if (!formDataValues) {\n    return null;\n  }\n\n  let resetTimer = null;\n  const resetStates = () => {\n    setSubmitStatus(null);\n    resetTimer = null;\n    clearTimeout(resetTimer);\n  };\n\n  // update individual values in state\n  const handleFieldChange = ({ fieldName, value }: UpdateArgs) => {\n    setFormDataValues({\n      ...formDataValues,\n      [fieldName]: value,\n    });\n  };\n\n  // posts the whole state\n  const handleSave = async () => {\n    setSubmitStatus(createInputStatus(STATUS_PROCESSING));\n    const postValue = formDataValues;\n\n    await postConfigUpdateToAPI({\n      apiPath: API_S3_INFO,\n      data: { value: postValue },\n      onSuccess: () => {\n        setFieldInConfigState({ fieldName: 's3', value: postValue, path: '' });\n        setSubmitStatus(createInputStatus(STATUS_SUCCESS, 'Updated.'));\n        resetTimer = setTimeout(resetStates, RESET_TIMEOUT);\n        setAlertMessage(\n          'Changing your storage configuration will take place the next time you start a new stream.',\n        );\n      },\n      onError: (message: string) => {\n        setSubmitStatus(createInputStatus(STATUS_ERROR, message));\n        resetTimer = setTimeout(resetStates, RESET_TIMEOUT);\n      },\n    });\n  };\n\n  // toggle switch.\n  const handleSwitchChange = (storageEnabled: boolean) => {\n    setShouldDisplayForm(storageEnabled);\n    handleFieldChange({ fieldName: 'enabled', value: storageEnabled });\n  };\n\n  const handleForcePathStyleSwitchChange = (forcePathStyleEnabled: boolean) => {\n    handleFieldChange({ fieldName: 'forcePathStyle', value: forcePathStyleEnabled });\n  };\n\n  const containerClass = classNames({\n    'edit-storage-container': true,\n    'form-module': true,\n    enabled: shouldDisplayForm,\n  });\n\n  const isSaveable = checkSaveable(formDataValues, s3);\n\n  return (\n    <div className={containerClass}>\n      <div className=\"enable-switch\">\n        <ToggleSwitch\n          apiPath=\"\"\n          fieldName=\"enabled\"\n          label=\"Use S3 Storage Provider\"\n          checked={formDataValues.enabled}\n          onChange={handleSwitchChange}\n        />\n        {/* <Switch\n          checked={formDataValues.enabled}\n          defaultChecked={formDataValues.enabled}\n          onChange={handleSwitchChange}\n          checkedChildren=\"ON\"\n          unCheckedChildren=\"OFF\"\n        />{' '}\n        Enabled */}\n      </div>\n\n      <div className=\"form-fields\">\n        <div className=\"field-container\">\n          <TextField\n            {...S3_TEXT_FIELDS_INFO.endpoint}\n            value={formDataValues.endpoint}\n            onChange={handleFieldChange}\n          />\n        </div>\n        <div className=\"field-container\">\n          <TextField\n            {...S3_TEXT_FIELDS_INFO.accessKey}\n            value={formDataValues.accessKey}\n            onChange={handleFieldChange}\n          />\n        </div>\n        <div className=\"field-container\">\n          <TextField\n            {...S3_TEXT_FIELDS_INFO.secret}\n            value={formDataValues.secret}\n            onChange={handleFieldChange}\n          />\n        </div>\n        <div className=\"field-container\">\n          <TextField\n            {...S3_TEXT_FIELDS_INFO.bucket}\n            value={formDataValues.bucket}\n            onChange={handleFieldChange}\n          />\n        </div>\n        <div className=\"field-container\">\n          <TextField\n            {...S3_TEXT_FIELDS_INFO.region}\n            value={formDataValues.region}\n            onChange={handleFieldChange}\n          />\n        </div>\n\n        <Collapse className=\"advanced-section\">\n          <Panel header=\"Optional Settings\" key=\"1\">\n            <div className=\"field-container\">\n              <TextField\n                {...S3_TEXT_FIELDS_INFO.acl}\n                value={formDataValues.acl}\n                onChange={handleFieldChange}\n              />\n            </div>\n            <div className=\"field-container\">\n              <TextField\n                {...S3_TEXT_FIELDS_INFO.servingEndpoint}\n                value={formDataValues.servingEndpoint}\n                onChange={handleFieldChange}\n              />\n            </div>\n            <div className=\"enable-switch\">\n              <ToggleSwitch\n                {...S3_TEXT_FIELDS_INFO.forcePathStyle}\n                fieldName=\"forcePathStyle\"\n                checked={formDataValues.forcePathStyle}\n                onChange={handleForcePathStyleSwitchChange}\n              />\n            </div>\n          </Panel>\n        </Collapse>\n      </div>\n\n      <div className=\"button-container\">\n        <Button type=\"primary\" onClick={handleSave} disabled={!isSaveable}>\n          Save\n        </Button>\n        <FormStatusIndicator status={submitStatus} />\n      </div>\n    </div>\n  );\n}\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nexport const AlertMessageContext = React.createContext({\n  message: null,\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  setMessage: (text?: string) => null,\n});\n\nconst AlertMessageProvider = ({ children }) => {\n  const [message, setMessage] = useState('');\n\n  const providerValue = {\n    message,\n    setMessage,\n  };\n  return (\n    <AlertMessageContext.Provider value={providerValue}>{children}</AlertMessageContext.Provider>\n  );\n};\n\nAlertMessageProvider.propTypes = {\n  children: PropTypes.element.isRequired,\n};\n\nexport default AlertMessageProvider;\n","import {\n  CheckCircleFilled,\n  ExclamationCircleFilled,\n  LoadingOutlined,\n  WarningOutlined,\n} from '@ant-design/icons';\n\nexport const STATUS_RESET_TIMEOUT = 3000;\n\nexport const STATUS_ERROR = 'error';\nexport const STATUS_INVALID = 'invalid';\nexport const STATUS_PROCESSING = 'proessing';\nexport const STATUS_SUCCESS = 'success';\nexport const STATUS_WARNING = 'warning';\n\nexport type InputStatusTypes = 'error' | 'invalid' | 'proessing' | 'success' | 'warning';\n\nexport interface StatusState {\n  type: InputStatusTypes;\n  icon: any; // Element type of sorts?\n  message: string;\n}\ninterface InputStates {\n  [key: string]: StatusState;\n}\n\nexport const INPUT_STATES: InputStates = {\n  [STATUS_SUCCESS]: {\n    type: STATUS_SUCCESS,\n    icon: <CheckCircleFilled style={{ color: 'green' }} />,\n    message: 'Success!',\n  },\n  [STATUS_ERROR]: {\n    type: STATUS_ERROR,\n    icon: <ExclamationCircleFilled style={{ color: 'red' }} />,\n    message: 'An error occurred.',\n  },\n  [STATUS_INVALID]: {\n    type: STATUS_INVALID,\n    icon: <ExclamationCircleFilled style={{ color: 'red' }} />,\n    message: 'An error occurred.',\n  },\n  [STATUS_PROCESSING]: {\n    type: STATUS_PROCESSING,\n    icon: <LoadingOutlined />,\n    message: '',\n  },\n  [STATUS_WARNING]: {\n    type: STATUS_WARNING,\n    icon: <WarningOutlined style={{ color: '#fc0' }} />,\n    message: '',\n  },\n};\n\n// Don't like any of the default messages in INPUT_STATES? Create a state with custom message by providing an icon style with your message.\nexport function createInputStatus(type: InputStatusTypes, message?: string): StatusState {\n  if (!type || !INPUT_STATES[type]) {\n    return null;\n  }\n  if (!message) {\n    return INPUT_STATES[type];\n  }\n  return {\n    type,\n    icon: INPUT_STATES[type].icon,\n    message,\n  };\n}\n","// TODO: add a notication after updating info that changes will take place either on a new stream or server restart. may be different for each field.\n\nimport React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { STATUS, fetchData, FETCH_INTERVAL, SERVER_CONFIG } from './apis';\nimport { ConfigDetails, UpdateArgs } from '../types/config-section';\nimport { DEFAULT_VARIANT_STATE } from './config-constants';\n\nexport const initialServerConfigState: ConfigDetails = {\n  streamKeys: [],\n  adminPassword: '',\n  instanceDetails: {\n    customStyles: '',\n    extraPageContent: '',\n    logo: '',\n    name: '',\n    nsfw: false,\n    socialHandles: [],\n    streamTitle: '',\n    summary: '',\n    tags: [],\n    title: '',\n    welcomeMessage: '',\n    offlineMessage: '',\n    appearanceVariables: {},\n  },\n  ffmpegPath: '',\n  rtmpServerPort: '',\n  webServerPort: '',\n  socketHostOverride: null,\n  s3: {\n    accessKey: '',\n    acl: '',\n    bucket: '',\n    enabled: false,\n    endpoint: '',\n    region: '',\n    secret: '',\n    servingEndpoint: '',\n    forcePathStyle: false,\n  },\n  yp: {\n    enabled: false,\n    instanceUrl: '',\n  },\n  videoSettings: {\n    latencyLevel: 4,\n    cpuUsageLevel: 3,\n    videoQualityVariants: [DEFAULT_VARIANT_STATE],\n  },\n  federation: {\n    enabled: false,\n    isPrivate: false,\n    username: '',\n    goLiveMessage: '',\n    showEngagement: true,\n    blockedDomains: [],\n  },\n  notifications: {\n    browser: { enabled: false, goLiveMessage: '' },\n    discord: { enabled: false, webhook: '', goLiveMessage: '' },\n    twitter: {\n      enabled: false,\n      goLiveMessage: '',\n      apiKey: '',\n      apiSecret: '',\n      accessToken: '',\n      accessTokenSecret: '',\n      bearerToken: '',\n    },\n  },\n  externalActions: [],\n  supportedCodecs: [],\n  videoCodec: '',\n  forbiddenUsernames: [],\n  suggestedUsernames: [],\n  chatDisabled: false,\n  chatJoinMessagesEnabled: true,\n  chatEstablishedUserMode: false,\n  hideViewerCount: false,\n};\n\nconst initialServerStatusState = {\n  broadcastActive: false,\n  broadcaster: null,\n  currentBroadcast: null,\n  online: false,\n  viewerCount: 0,\n  sessionMaxViewerCount: 0,\n  sessionPeakViewerCount: 0,\n  overallPeakViewerCount: 0,\n  versionNumber: '0.0.0',\n  streamTitle: '',\n  chatDisabled: false,\n  health: {\n    healthy: true,\n    healthPercentage: 100,\n    message: '',\n    representation: 0,\n  },\n};\n\nexport const ServerStatusContext = React.createContext({\n  ...initialServerStatusState,\n  serverConfig: initialServerConfigState,\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  setFieldInConfigState: (args: UpdateArgs) => null,\n});\n\nconst ServerStatusProvider = ({ children }) => {\n  const [status, setStatus] = useState(initialServerStatusState);\n  const [config, setConfig] = useState(initialServerConfigState);\n\n  const getStatus = async () => {\n    try {\n      const result = await fetchData(STATUS);\n      setStatus({ ...result });\n    } catch (error) {\n      // todo\n    }\n  };\n  const getConfig = async () => {\n    try {\n      const result = await fetchData(SERVER_CONFIG);\n      setConfig(result);\n    } catch (error) {\n      // todo\n    }\n  };\n\n  const setFieldInConfigState = ({ fieldName, value, path }: UpdateArgs) => {\n    const updatedConfig = path\n      ? {\n          ...config,\n          [path]: {\n            ...config[path],\n            [fieldName]: value,\n          },\n        }\n      : {\n          ...config,\n          [fieldName]: value,\n        };\n    setConfig(updatedConfig);\n  };\n\n  useEffect(() => {\n    let getStatusIntervalId = null;\n\n    getStatus();\n    getStatusIntervalId = setInterval(getStatus, FETCH_INTERVAL);\n\n    getConfig();\n\n    // returned function will be called on component unmount\n    return () => {\n      clearInterval(getStatusIntervalId);\n    };\n  }, []);\n\n  // eslint-disable-next-line react/jsx-no-constructed-context-values\n  const providerValue = {\n    ...status,\n    serverConfig: config,\n\n    setFieldInConfigState,\n  };\n  return (\n    <ServerStatusContext.Provider value={providerValue}>{children}</ServerStatusContext.Provider>\n  );\n};\n\nServerStatusProvider.propTypes = {\n  children: PropTypes.element.isRequired,\n};\n\nexport default ServerStatusProvider;\n"],"names":["ToggleSwitch","apiPath","checked","reversed","configPath","disabled","fieldName","label","tip","useSubmit","onChange","param","submitStatus","setSubmitStatus","useState","resetTimer","serverStatusData","useContext","ServerStatusContext","setFieldInConfigState","resetStates","clearTimeout","handleChange","isChecked","createInputStatus","STATUS_PROCESSING","isCheckedSend","postConfigUpdateToAPI","data","value","onSuccess","path","STATUS_SUCCESS","onError","STATUS_ERROR","concat","message","setTimeout","RESET_TIMEOUT","loading","type","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsxs","div","className","jsx","span","Switch","defaultChecked","checkedChildren","unCheckedChildren","FormStatusIndicator","status","p","defaultProps","Panel","Collapse","EditStorage","formDataValues","setFormDataValues","shouldDisplayForm","setShouldDisplayForm","serverConfig","setMessage","setAlertMessage","AlertMessageContext","s3","accessKey","acl","bucket","enabled","endpoint","region","secret","servingEndpoint","forcePathStyle","useEffect","handleFieldChange","handleSave","API_S3_INFO","handleSwitchChange","storageEnabled","handleForcePathStyleSwitchChange","forcePathStyleEnabled","containerClass","classNames","isSaveable","checkSaveable","formValues","currentValues","isValidUrl","TextField","S3_TEXT_FIELDS_INFO","header","Button","onClick","React","AlertMessageProvider","children","Provider","propTypes","PropTypes","__webpack_exports__","STATUS_INVALID","STATUS_WARNING","INPUT_STATES","icon","CheckCircleFilled","style","color","ExclamationCircleFilled","LoadingOutlined","WarningOutlined","initialServerConfigState","streamKeys","adminPassword","instanceDetails","customStyles","extraPageContent","logo","name","nsfw","socialHandles","streamTitle","summary","tags","title","welcomeMessage","offlineMessage","appearanceVariables","ffmpegPath","rtmpServerPort","webServerPort","socketHostOverride","yp","instanceUrl","videoSettings","latencyLevel","cpuUsageLevel","videoQualityVariants","DEFAULT_VARIANT_STATE","federation","isPrivate","username","goLiveMessage","showEngagement","blockedDomains","notifications","browser","discord","webhook","twitter","apiKey","apiSecret","accessToken","accessTokenSecret","bearerToken","externalActions","supportedCodecs","videoCodec","forbiddenUsernames","suggestedUsernames","chatDisabled","chatJoinMessagesEnabled","chatEstablishedUserMode","hideViewerCount","initialServerStatusState","broadcastActive","broadcaster","currentBroadcast","online","viewerCount","sessionMaxViewerCount","sessionPeakViewerCount","overallPeakViewerCount","versionNumber","health","healthy","healthPercentage","representation","ServerStatusProvider","setStatus","config","setConfig","getStatus","result","fetchData","STATUS","error","getConfig","SERVER_CONFIG","updatedConfig","getStatusIntervalId","setInterval","FETCH_INTERVAL","clearInterval","providerValue"],"sourceRoot":""}